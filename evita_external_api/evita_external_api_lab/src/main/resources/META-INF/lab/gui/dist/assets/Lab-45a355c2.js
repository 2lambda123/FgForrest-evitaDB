/*
 *
 *                         _ _        ____  ____
 *               _____   _(_) |_ __ _|  _ \| __ )
 *              / _ \ \ / / | __/ _` | | | |  _ \
 *             |  __/\ V /| | || (_| | |_| | |_) |
 *              \___| \_/ |_|\__\__,_|____/|____/
 *
 *   Copyright (c) 2023
 *
 *   Licensed under the Business Source License, Version 1.1 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   https://github.com/FgForrest/evitaDB/blob/main/LICENSE
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

import{b as Z,e as s,h as K,T as mt,p as F,i as Ke,j as Xa,s as Lt,k as Za,n as Ja,l as D,q as oe,t as k,v as De,x as X,y as et,z as St,A as en,B as pe,C as zt,D as kt,E as W,d as ne,V as ft,F as He,m as ye,G as Ne,H as fe,I as tn,J as jt,K as Wt,L as Qt,a as _t,u as an,c as Vt,M as Yt,N as pt,O as Xt,P as Zt,Q as Jt,R as nn,S as Pt,U as ln,W as ea,X as tt,Y as ta,Z as N,$ as me,a0 as Se,f as q,w as h,o as x,a1 as se,a2 as aa,a3 as gt,a4 as Ve,_ as Le,a5 as na,a6 as la,a7 as on,a8 as ge,a9 as At,aa as be,ab as je,ac as Ee,ad as at,ae as Rt,af as ve,ag as I,ah as ue,ai as xt,aj as nt,ak as lt,al as he,am as Ue,an as _e,ao as oa,ap as ht,aq as sa,ar as ra,as as ia,at as sn,au as rn,av as Ce,aw as ua,ax as un,ay as cn,az as dn,aA as ot,aB as vn,aC as We,aD as mn,aE as Me,aF as Be,aG as fn,aH as Q,aI as pn,aJ as yt,aK as ze,aL as ca,aM as da,aN as va,aO as gn,aP as Ie,aQ as Ct,aR as ma,aS as ae,aT as hn,aU as yn,aV as bn,aW as wn,aX as Sn,aY as kn,aZ as _n,a_ as Vn,a$ as Pn,b0 as xn,b1 as Cn,b2 as Tn,b3 as In,b4 as Dn,b5 as En,b6 as Bn,b7 as Ln,b8 as An,b9 as Rn,ba as j,bb as $n,bc as On,bd as st,be as Mn,bf as Fn,bg as Un,bh as qn,bi as Hn,bj as Nn,bk as Gn,bl as Kn,bm as zn,bn as jn,bo as Wn,bp as Qn,bq as Yn,br as Ae,bs as dt,bt as Re,bu as $e,bv as xe,bw as ke,bx as Oe,by as vt,bz as Xn,bA as Zn,bB as Jn,bC as $t,bD as el,bE as tl,bF as al,bG as nl,bH as ll,bI as rt,bJ as fa,bK as ol,bL as Ge,bM as pa,bN as sl,bO as bt,bP as wt,bQ as rl,bR as il,bS as ul,bT as cl,bU as dl,bV as vl,bW as ml,bX as Ot,bY as fl,bZ as pl,b_ as gl,b$ as hl,c0 as yl,c1 as bl,c2 as wl,c3 as Sl,c4 as kl,c5 as _l,c6 as Vl,c7 as Pl}from"./index-d43af9a8.js";import{a as ga,u as ha,b as xl}from"./layout-3e1a2326.js";const Cl=F({target:Object},"v-dialog-transition"),Tt=Z()({name:"VDialogTransition",props:Cl(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(l){l.style.pointerEvents="none",l.style.visibility="hidden"},async onEnter(l,o){var v;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),l.style.visibility="";const{x:i,y:u,sx:c,sy:d,speed:r}=Ft(e.target,l),m=Ke(l,[{transform:`translate(${i}px, ${u}px) scale(${c}, ${d})`,opacity:0},{}],{duration:225*r,easing:Xa});(v=Mt(l))==null||v.forEach(f=>{Ke(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*r,easing:Lt})}),m.finished.then(()=>o())},onAfterEnter(l){l.style.removeProperty("pointer-events")},onBeforeLeave(l){l.style.pointerEvents="none"},async onLeave(l,o){var v;await new Promise(f=>requestAnimationFrame(f));const{x:i,y:u,sx:c,sy:d,speed:r}=Ft(e.target,l);Ke(l,[{},{transform:`translate(${i}px, ${u}px) scale(${c}, ${d})`,opacity:0}],{duration:125*r,easing:Za}).finished.then(()=>o()),(v=Mt(l))==null||v.forEach(f=>{Ke(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*r,easing:Lt})})},onAfterLeave(l){l.style.removeProperty("pointer-events")}};return()=>e.target?s(mt,K({name:"dialog-transition"},a,{css:!1}),t):s(mt,{name:"dialog-transition"},t)}});function Mt(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function Ft(e,n){const t=e.getBoundingClientRect(),a=Ja(n),[l,o]=getComputedStyle(n).transformOrigin.split(" ").map(p=>parseFloat(p)),[i,u]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=t.left+t.width/2;i==="left"||u==="left"?c-=t.width/2:(i==="right"||u==="right")&&(c+=t.width/2);let d=t.top+t.height/2;i==="top"||u==="top"?d-=t.height/2:(i==="bottom"||u==="bottom")&&(d+=t.height/2);const r=t.width/a.width,m=t.height/a.height,v=Math.max(1,r,m),f=r/v||0,g=m/v||0,S=a.width*a.height/(window.innerWidth*window.innerHeight),y=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:c-(l+a.left),y:d-(o+a.top),sx:f,sy:g,speed:y}}const Tl=F({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Il(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let a=0;const l=D(null),o=oe(0),i=oe(0),u=oe(0),c=oe(!1),d=oe(!1),r=k(()=>Number(e.scrollThreshold)),m=k(()=>De((r.value-o.value)/r.value||0)),v=()=>{const f=l.value;!f||t&&!t.value||(a=o.value,o.value="window"in f?f.pageYOffset:f.scrollTop,d.value=o.value<a,u.value=Math.abs(o.value-r.value))};return X(d,()=>{i.value=i.value||o.value}),X(c,()=>{i.value=0}),et(()=>{X(()=>e.scrollTarget,f=>{var S;const g=f?document.querySelector(f):window;g&&g!==l.value&&((S=l.value)==null||S.removeEventListener("scroll",v),l.value=g,l.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),St(()=>{var f;(f=l.value)==null||f.removeEventListener("scroll",v)}),t&&X(t,v,{immediate:!0}),{scrollThreshold:r,currentScroll:o,currentThreshold:u,isScrollActive:c,scrollRatio:m,isScrollingUp:d,savedScroll:i}}const Dl=F({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...en(),...ga(),...Tl(),height:{type:[Number,String],default:64}},"VAppBar"),El=Z()({name:"VAppBar",props:Dl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=D(),l=pe(e,"modelValue"),o=k(()=>{var b;const p=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:p.has("hide"),inverted:p.has("inverted"),collapse:p.has("collapse"),elevate:p.has("elevate"),fadeImage:p.has("fade-image")}}),i=k(()=>{const p=o.value;return p.hide||p.inverted||p.collapse||p.elevate||p.fadeImage||!l.value}),{currentScroll:u,scrollThreshold:c,isScrollingUp:d,scrollRatio:r}=Il(e,{canScroll:i}),m=k(()=>e.collapse||o.value.collapse&&(o.value.inverted?r.value>0:r.value===0)),v=k(()=>e.flat||o.value.elevate&&(o.value.inverted?u.value>0:u.value===0)),f=k(()=>o.value.fadeImage?o.value.inverted?1-r.value:r.value:void 0),g=k(()=>{var P,T;if(o.value.hide&&o.value.inverted)return 0;const p=((P=a.value)==null?void 0:P.contentHeight)??0,b=((T=a.value)==null?void 0:T.extensionHeight)??0;return p+b});zt(k(()=>!!e.scrollBehavior),()=>{He(()=>{o.value.hide?o.value.inverted?l.value=u.value>c.value:l.value=d.value||u.value<c.value:l.value=!0})});const{ssrBootStyles:S}=kt(),{layoutItemStyles:y}=ha({id:e.name,order:k(()=>parseInt(e.order,10)),position:W(e,"location"),layoutSize:g,elementSize:oe(void 0),active:l,absolute:W(e,"absolute")});return ne(()=>{const[p]=ft.filterProps(e);return s(ft,K({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":f.value,height:void 0,...S.value},e.style]},p,{collapse:m.value,flat:v.value}),t)}),{}}}),Bl=F({start:Boolean,end:Boolean,...ye(),...Ne()},"VListItemAction"),Ut=Z()({name:"VListItemAction",props:Bl(),setup(e,n){let{slots:t}=n;return ne(()=>s(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},t)),{}}});function Ll(e){let{rootEl:n,isSticky:t,layoutItemStyles:a}=e;const l=oe(!1),o=oe(0),i=k(()=>{const d=typeof l.value=="boolean"?"top":l.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[d]:fe(o.value)}:{top:a.value.top}]});et(()=>{X(t,d=>{d?window.addEventListener("scroll",c,{passive:!0}):window.removeEventListener("scroll",c)},{immediate:!0})}),St(()=>{window.removeEventListener("scroll",c)});let u=0;function c(){const d=u>window.scrollY?"up":"down",r=n.value.getBoundingClientRect(),m=parseFloat(a.value.top??0),v=window.scrollY-Math.max(0,o.value-m),f=r.height+Math.max(o.value,m)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-m?(l.value="top",o.value=m):d==="up"&&l.value==="bottom"||d==="down"&&l.value==="top"?(o.value=window.scrollY+r.top-g,l.value=!0):d==="down"&&f<=0?(o.value=0,l.value="bottom"):d==="up"&&v<=0&&(g?l.value!=="top"&&(o.value=-v+g+m,l.value="top"):(o.value=r.top+v,l.value="top")),u=window.scrollY}return{isStuck:l,stickyStyles:i}}const Al=100,Rl=20;function qt(e){const n=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*n}function Ht(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const a=qt(n),l=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);n+=(l-a)*Math.abs(l),t===e.length-1&&(n*=.5)}return qt(n)*1e3}function $l(){const e={};function n(l){Array.from(l.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new tn(Rl))).push([l.timeStamp,o])})}function t(l){Array.from(l.changedTouches).forEach(o=>{delete e[o.identifier]})}function a(l){var d;const o=(d=e[l])==null?void 0:d.values().reverse();if(!o)throw new Error(`No samples for touch id ${l}`);const i=o[0],u=[],c=[];for(const r of o){if(i[0]-r[0]>Al)break;u.push({t:r[0],d:r[1].clientX}),c.push({t:r[0],d:r[1].clientY})}return{x:Ht(u),y:Ht(c),get direction(){const{x:r,y:m}=this,[v,f]=[Math.abs(r),Math.abs(m)];return v>f&&r>=0?"right":v>f&&r<=0?"left":f>v&&m>=0?"down":f>v&&m<=0?"up":Ol()}}}return{addMovement:n,endTouch:t,getVelocity:a}}function Ol(){throw new Error}function Ml(e){let{isActive:n,isTemporary:t,width:a,touchless:l,position:o}=e;et(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",P,{passive:!0})}),St(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",P)});const i=k(()=>["left","right"].includes(o.value)),{addMovement:u,endTouch:c,getVelocity:d}=$l();let r=!1;const m=oe(!1),v=oe(0),f=oe(0);let g;function S(w,B){return(o.value==="left"?w:o.value==="right"?document.documentElement.clientWidth-w:o.value==="top"?w:o.value==="bottom"?document.documentElement.clientHeight-w:Te())-(B?a.value:0)}function y(w){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=o.value==="left"?(w-f.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-w-f.value)/a.value:o.value==="top"?(w-f.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-w-f.value)/a.value:Te();return B?Math.max(0,Math.min(1,_)):_}function p(w){if(l.value)return;const B=w.changedTouches[0].clientX,_=w.changedTouches[0].clientY,C=25,R=o.value==="left"?B<C:o.value==="right"?B>document.documentElement.clientWidth-C:o.value==="top"?_<C:o.value==="bottom"?_>document.documentElement.clientHeight-C:Te(),U=n.value&&(o.value==="left"?B<a.value:o.value==="right"?B>document.documentElement.clientWidth-a.value:o.value==="top"?_<a.value:o.value==="bottom"?_>document.documentElement.clientHeight-a.value:Te());(R||U||n.value&&t.value)&&(r=!0,g=[B,_],f.value=S(i.value?B:_,n.value),v.value=y(i.value?B:_),c(w),u(w))}function b(w){const B=w.changedTouches[0].clientX,_=w.changedTouches[0].clientY;if(r){if(!w.cancelable){r=!1;return}const R=Math.abs(B-g[0]),U=Math.abs(_-g[1]);(i.value?R>U&&R>3:U>R&&U>3)?(m.value=!0,r=!1):(i.value?U:R)>3&&(r=!1)}if(!m.value)return;w.preventDefault(),u(w);const C=y(i.value?B:_,!1);v.value=Math.max(0,Math.min(1,C)),C>1?f.value=S(i.value?B:_,!0):C<0&&(f.value=S(i.value?B:_,!1))}function P(w){if(r=!1,!m.value)return;u(w),m.value=!1;const B=d(w.changedTouches[0].identifier),_=Math.abs(B.x),C=Math.abs(B.y);(i.value?_>C&&_>400:C>_&&C>3)?n.value=B.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Te()):n.value=v.value>.5}const T=k(()=>m.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*a.value}px))`:Te(),transition:"none"}:void 0);return{isDragging:m,dragProgress:v,dragStyles:T}}function Te(){throw new Error}const Fl=["start","end","left","right","top","bottom"],Ul=F({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Fl.includes(e)},sticky:Boolean,...jt(),...ye(),...Wt(),...ga(),...Qt(),...Ne({tag:"nav"}),..._t()},"VNavigationDrawer"),ya=Z()({name:"VNavigationDrawer",props:Ul(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:l}=n;const{isRtl:o}=an(),{themeClasses:i}=Vt(e),{borderClasses:u}=Yt(e),{backgroundColorClasses:c,backgroundColorStyles:d}=pt(W(e,"color")),{elevationClasses:r}=Xt(e),{mobile:m}=Zt(),{roundedClasses:v}=Jt(e),f=nn(),g=pe(e,"modelValue",null,H=>!!H),{ssrBootStyles:S}=kt(),{scopeId:y}=Pt(),p=D(),b=oe(!1),P=k(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=k(()=>ln(e.location,o.value)),w=k(()=>!e.permanent&&(m.value||e.temporary)),B=k(()=>e.sticky&&!w.value&&T.value!=="bottom");e.expandOnHover&&e.rail!=null&&X(b,H=>a("update:rail",!H)),e.disableResizeWatcher||X(w,H=>!e.permanent&&ta(()=>g.value=!H)),!e.disableRouteWatcher&&f&&X(f.currentRoute,()=>w.value&&(g.value=!1)),X(()=>e.permanent,H=>{H&&(g.value=!0)}),ea(()=>{e.modelValue!=null||w.value||(g.value=e.permanent||!m.value)});const{isDragging:_,dragProgress:C,dragStyles:R}=Ml({isActive:g,isTemporary:w,width:P,touchless:W(e,"touchless"),position:T}),U=k(()=>{const H=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):P.value;return _.value?H*C.value:H}),{layoutItemStyles:ee,layoutItemScrimStyles:te}=ha({id:e.name,order:k(()=>parseInt(e.order,10)),position:T,layoutSize:U,elementSize:P,active:k(()=>g.value||_.value),disableTransitions:k(()=>_.value),absolute:k(()=>e.absolute||B.value&&typeof le.value!="string")}),{isStuck:le,stickyStyles:we}=Ll({rootEl:p,isSticky:B,layoutItemStyles:ee}),V=pt(k(()=>typeof e.scrim=="string"?e.scrim:null)),$=k(()=>({..._.value?{opacity:C.value*.2,transition:"none"}:void 0,...te.value}));tt({VList:{bgColor:"transparent"}});function J(){b.value=!0}function ce(){b.value=!1}return ne(()=>{const H=l.image||e.image;return s(N,null,[s(e.tag,K({ref:p,onMouseenter:J,onMouseleave:ce,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":B.value},i.value,c.value,u.value,r.value,v.value,e.class],style:[d.value,ee.value,R.value,S.value,we.value,e.style]},y,t),{default:()=>{var A,G,M,z;return[H&&s("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?(A=l.image)==null?void 0:A.call(l,{image:e.image}):s("img",{src:e.image,alt:""},null)]),l.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(G=l.prepend)==null?void 0:G.call(l)]),s("div",{class:"v-navigation-drawer__content"},[(M=l.default)==null?void 0:M.call(l)]),l.append&&s("div",{class:"v-navigation-drawer__append"},[(z=l.append)==null?void 0:z.call(l)])]}}),s(mt,{name:"fade-transition"},{default:()=>[w.value&&(_.value||g.value)&&!!e.scrim&&s("div",K({class:["v-navigation-drawer__scrim",V.backgroundColorClasses.value],style:[$.value,V.backgroundColorStyles.value],onClick:()=>g.value=!1},y),null)]})])}),{isStuck:le}}}),ql={class:"lab-logo"},Hl={href:"https://github.com/lukashornych/evitalab",target:"_blank"},Nl=me({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:n}){const t=D([{title:"Explorer",value:Se.Explorer,props:{prependIcon:"mdi-compass"}}]),a=D([{title:"evitaDB Documentation",value:Se.EvitaDBDocumentation,props:{prependIcon:"mdi-book"}},{title:"Feedback",value:Se.Feedback,props:{prependIcon:"mdi-comment-quote"}},{title:"Issues",value:Se.GitHub,props:{prependIcon:"mdi-github"}}]);function l(i){i.value?n("update:panel",i.id):n("update:panel",null)}function o(i){switch(i.id){case Se.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case Se.Feedback:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case Se.GitHub:window.open("https://github.com/lukashornych/evitalab","_blank");break}}return(i,u)=>(x(),q(ya,{permanent:"",rail:""},{prepend:h(()=>[se("div",ql,[se("a",Hl,[s(gt,{size:"24px"},{default:h(()=>[s(aa,{alt:"evitaLab Logo",src:"https://github.com/lukashornych/evitalab/blob/dev/public/logo.png?raw=true"})]),_:1})])])]),append:h(()=>[s(Ve,{density:"compact",nav:"",items:a.value,"onClick:select":o},null,8,["items"])]),default:h(()=>[s(Ve,{density:"compact",nav:"",items:t.value,selected:[i.panel],"onClick:select":l},null,8,["items","selected"])]),_:1}))}});const Gl=Le(Nl,[["__scopeId","data-v-1c6708f3"]]);const Kl=F({id:String,...na(la({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Tt}}),["absolute"])},"VMenu"),Fe=Z()({name:"VMenu",props:Kl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=pe(e,"modelValue"),{scopeId:l}=Pt(),o=on(),i=k(()=>e.id||`v-menu-${o}`),u=D(),c=ge(At,null),d=oe(0);be(At,{register(){++d.value},unregister(){--d.value},closeParents(){setTimeout(()=>{d.value||(a.value=!1,c==null||c.closeParents())},40)}}),X(a,g=>{g?c==null||c.register():c==null||c.unregister()});function r(){c==null||c.closeParents()}function m(g){var S,y;e.disabled||g.key==="Tab"&&(a.value=!1,(y=(S=u.value)==null?void 0:S.activatorEl)==null||y.focus())}function v(g){var y;if(e.disabled)return;const S=(y=u.value)==null?void 0:y.contentEl;S&&a.value?g.key==="ArrowDown"?(g.preventDefault(),Rt(S,"next")):g.key==="ArrowUp"&&(g.preventDefault(),Rt(S,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(a.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>v(g))))}const f=k(()=>K({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":i.value,onKeydown:v},e.activatorProps));return ne(()=>{const[g]=je.filterProps(e);return s(je,K({ref:u,class:["v-menu",e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":S=>a.value=S,absolute:!0,activatorProps:f.value,"onClick:outside":r,onKeydown:m},l),{activator:t.activator,default:function(){for(var S=arguments.length,y=new Array(S),p=0;p<S;p++)y[p]=arguments[p];return s(Ee,{root:"VMenu"},{default:()=>{var b;return[(b=t.default)==null?void 0:b.call(t,...y)]}})}})}),at({id:i,ΨopenChildren:d},u)}}),zl={class:"tree-view-item__content"},jl={class:"text-truncate"},Wl=me({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:n}){const t=e,a=D(!1);function l(){t.actions&&t.actions.length>0&&(a.value=!0)}return(o,i)=>(x(),q(_e,{"prepend-icon":null,"append-icon":null,onContextmenu:Ue(l,["prevent"])},{default:h(()=>[se("div",zl,[o.openable?(x(),q(ve,{key:0},{default:h(()=>[I(ue(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(x(),q(ve,{key:1})),s(ve,null,{default:h(()=>[I(ue(o.prependIcon),1)]),_:1}),se("span",jl,[xt(o.$slots,"default",{},void 0,!0)]),o.actions&&o.actions.length>0?(x(),q(Fe,{key:2,"menu-items":o.actions,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value=u)},{activator:h(({props:u})=>[s(ve,nt(lt(u)),{default:h(()=>[I(" mdi-dots-vertical ")]),_:2},1040)]),default:h(()=>[s(Ve,{density:"compact",items:o.actions,"onClick:select":i[0]||(i[0]=u=>o.$emit("click:action",u.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):he("",!0)])]),_:3},8,["onContextmenu"]))}});const Qe=Le(Wl,[["__scopeId","data-v-f95404e3"]]);const Ql=F({renderless:Boolean,...ye()},"VVirtualScrollItem"),Yl=Z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ql(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:l}=n;const{resizeRef:o,contentRect:i}=oa(void 0,"border");X(()=>{var u;return(u=i.value)==null?void 0:u.height},u=>{u!=null&&a("update:height",u)}),ne(()=>{var u,c;return e.renderless?s(N,null,[(u=l.default)==null?void 0:u.call(l,{itemRef:o})]):s("div",K({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(c=l.default)==null?void 0:c.call(l)])})}}),Nt=-1,Gt=1,Xl=F({itemHeight:{type:[Number,String],default:48}},"virtual");function Zl(e,n,t){const a=oe(0),l=oe(e.itemHeight),o=k({get:()=>parseInt(l.value??0,10),set(_){l.value=_}}),i=D(),{resizeRef:u,contentRect:c}=oa();He(()=>{u.value=i.value});const d=Zt(),r=new Map;let m=Array.from({length:n.value.length});const v=k(()=>{const _=(!c.value||i.value===document.documentElement?d.height.value:c.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(_/o.value*1.7+1)});function f(_,C){o.value=Math.max(o.value,C),m[_]=C,r.set(n.value[_],C)}function g(_){return m.slice(0,_).reduce((C,R)=>C+(R||o.value),0)}function S(_){const C=n.value.length;let R=0,U=0;for(;U<_&&R<C;)U+=m[R++]||o.value;return R-1}let y=0;function p(){if(!i.value||!c.value)return;const _=c.value.height-56,C=i.value.scrollTop,R=C<y?Nt:Gt,U=S(C+_/2),ee=Math.round(v.value/3),te=U-ee,le=a.value+ee*2-1;R===Nt&&U<=le?a.value=De(te,0,n.value.length):R===Gt&&U>=le&&(a.value=De(te,0,n.value.length-v.value)),y=C}function b(_){if(!i.value)return;const C=g(_);i.value.scrollTop=C}const P=k(()=>Math.min(n.value.length,a.value+v.value)),T=k(()=>n.value.slice(a.value,P.value).map((_,C)=>({raw:_,index:C+a.value}))),w=k(()=>g(a.value)),B=k(()=>g(n.value.length)-g(P.value));return X(()=>n.value.length,()=>{m=ht(n.value.length).map(()=>o.value),r.forEach((_,C)=>{const R=n.value.indexOf(C);R===-1?r.delete(C):m[R]=_})}),{containerRef:i,computedItems:T,itemHeight:o,paddingTop:w,paddingBottom:B,scrollToIndex:b,handleScroll:p,handleItemResize:f}}const Jl=F({items:{type:Array,default:()=>[]},renderless:Boolean,...Xl(),...ye(),...sa()},"VVirtualScroll"),eo=Z()({name:"VVirtualScroll",props:Jl(),setup(e,n){let{slots:t}=n;const a=ra("VVirtualScroll"),{dimensionStyles:l}=ia(e),{containerRef:o,handleScroll:i,handleItemResize:u,scrollToIndex:c,paddingTop:d,paddingBottom:r,computedItems:m}=Zl(e,W(e,"items"));return zt(()=>e.renderless,()=>{et(()=>{var v;o.value=sn(a.vnode.el,!0),(v=o.value)==null||v.addEventListener("scroll",i)}),rn(()=>{var v;(v=o.value)==null||v.removeEventListener("scroll",i)})}),ne(()=>{const v=m.value.map(f=>s(Yl,{key:f.index,renderless:e.renderless,"onUpdate:height":g=>u(f.index,g)},{default:g=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:f.raw,index:f.index,...g})}}));return e.renderless?s(N,null,[s("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:fe(d.value)}},null),v,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:fe(r.value)}},null)]):s("div",{ref:o,class:["v-virtual-scroll",e.class],onScroll:i,style:[l.value,e.style]},[s("div",{class:"v-virtual-scroll__container",style:{paddingTop:fe(d.value),paddingBottom:fe(r.value)}},[v])])}),{scrollToIndex:c}}});function to(e,n){const t=oe(!1);let a;function l(u){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function o(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(t.value){const c=X(t,()=>{c(),u()})}else u()})}async function i(u){var r,m;if(u.key==="Tab"&&((r=n.value)==null||r.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const c=(m=e.value)==null?void 0:m.$el;if(!c)return;(u.key==="Home"||u.key==="End")&&c.scrollTo({top:u.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await o();const d=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const v=c.getBoundingClientRect().top;for(const f of d)if(f.getBoundingClientRect().top>=v){f.focus();break}}else{const v=c.getBoundingClientRect().bottom;for(const f of[...d].reverse())if(f.getBoundingClientRect().bottom<=v){f.focus();break}}}return{onListScroll:l,onListKeydown:i}}const ao=F({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ce,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:ua},...un({itemChildren:!1})},"Select"),no=F({...ao(),...na(cn({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...dn({transition:{component:Tt}})},"VSelect"),lo=Z()({name:"VSelect",props:no(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=ot(),l=D(),o=D(),i=pe(e,"menu"),u=k({get:()=>i.value,set:V=>{var $;i.value&&!V&&(($=o.value)!=null&&$.ΨopenChildren)||(i.value=V)}}),{items:c,transformIn:d,transformOut:r}=vn(e),m=pe(e,"modelValue",[],V=>d(V===null?[null]:We(V)),V=>{const $=r(V);return e.multiple?$:$[0]??null}),v=mn(),f=k(()=>m.value.map(V=>c.value.find($=>e.valueComparator($.value,V.value))||V)),g=k(()=>f.value.map(V=>V.props.value)),S=oe(!1);let y="",p;const b=k(()=>e.hideSelected?c.value.filter(V=>!f.value.some($=>$===V)):c.value),P=k(()=>e.hideNoData&&!c.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),T=D(),{onListScroll:w,onListKeydown:B}=to(T,l);function _(V){e.openOnClear&&(u.value=!0)}function C(){P.value||(u.value=!u.value)}function R(V){var A,G;if(!V.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(V.key)&&V.preventDefault(),["Enter","ArrowDown"," "].includes(V.key)&&(u.value=!0),["Escape","Tab"].includes(V.key)&&(u.value=!1),V.key==="Home"?(A=T.value)==null||A.focus("first"):V.key==="End"&&((G=T.value)==null||G.focus("last"));const $=1e3;function J(M){const z=M.key.length===1,re=!M.ctrlKey&&!M.metaKey&&!M.altKey;return z&&re}if(e.multiple||!J(V))return;const ce=performance.now();ce-p>$&&(y=""),y+=V.key.toLowerCase(),p=ce;const H=c.value.find(M=>M.title.toLowerCase().startsWith(y));H!==void 0&&(m.value=[H])}function U(V){if(e.multiple){const $=g.value.findIndex(J=>e.valueComparator(J,V.value));if($===-1)m.value=[...m.value,V];else{const J=[...m.value];J.splice($,1),m.value=J}}else m.value=[V],u.value=!1}function ee(V){var $;($=T.value)!=null&&$.$el.contains(V.relatedTarget)||(u.value=!1)}function te(){var V;S.value&&((V=l.value)==null||V.focus())}function le(V){S.value=!0}function we(V){var $,J;if(V==null)m.value=[];else if(($=l.value)!=null&&$.matches(":autofill")||(J=l.value)!=null&&J.matches(":-webkit-autofill")){const ce=c.value.find(H=>H.title===V);ce&&U(ce)}else l.value&&(l.value.value="")}return ne(()=>{const V=!!(e.chips||t.chip),$=!!(!e.hideNoData||b.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),J=m.value.length>0,[ce]=Me.filterProps(e),H=J||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(Me,K({ref:l},ce,{modelValue:m.value.map(A=>A.props.value).join(", "),"onUpdate:modelValue":we,focused:S.value,"onUpdate:focused":A=>S.value=A,validationValue:m.externalValue,dirty:J,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:H,"onClick:clear":_,"onMousedown:control":C,onBlur:ee,onKeydown:R}),{...t,default:()=>s(N,null,[s(Fe,K({ref:o,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:te},e.menuProps),{default:()=>[$&&s(Ve,{ref:T,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:A=>A.preventDefault(),onKeydown:B,onFocusin:le,onScrollPassive:w,tabindex:"-1"},{default:()=>{var A,G,M;return[(A=t["prepend-item"])==null?void 0:A.call(t),!b.value.length&&!e.hideNoData&&(((G=t["no-data"])==null?void 0:G.call(t))??s(_e,{title:a(e.noDataText)},null)),s(eo,{renderless:!0,items:b.value},{default:z=>{var E;let{item:re,index:ie,itemRef:O}=z;const L=K(re.props,{ref:O,key:ie,onClick:()=>U(re)});return((E=t.item)==null?void 0:E.call(t,{item:re,index:ie,props:L}))??s(_e,L,{prepend:Y=>{let{isSelected:de}=Y;return s(N,null,[e.multiple&&!e.hideSelected?s(Be,{key:re.value,modelValue:de,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&s(ve,{icon:re.props.prependIcon},null)])}})}}),(M=t["append-item"])==null?void 0:M.call(t)]}})]}),f.value.map((A,G)=>{var re;function M(ie){ie.stopPropagation(),ie.preventDefault(),U(A)}const z={"onClick:close":M,onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:A.value,class:"v-select__selection"},[V?t.chip?s(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:A.title}}},{default:()=>{var ie;return[(ie=t.chip)==null?void 0:ie.call(t,{item:A,index:G,props:z})]}}):s(fn,K({key:"chip",closable:e.closableChips,size:"small",text:A.title},z),null):((re=t.selection)==null?void 0:re.call(t,{item:A,index:G}))??s("span",{class:"v-select__selection-text"},[A.title,e.multiple&&G<f.value.length-1&&s("span",{class:"v-select__selection-comma"},[I(",")])])])})]),"append-inner":function(){var z;for(var A=arguments.length,G=new Array(A),M=0;M<A;M++)G[M]=arguments[M];return s(N,null,[(z=t["append-inner"])==null?void 0:z.call(t,...G),e.menuIcon?s(ve,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),at({isFocused:S,menu:u,select:U},l)}}),ba=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),wa=Symbol.for("vuetify:data-table-pagination");function Sa(e){const n=pe(e,"page",void 0,a=>+(a??1)),t=pe(e,"itemsPerPage",void 0,a=>+(a??10));return{page:n,itemsPerPage:t}}function ka(e){const{page:n,itemsPerPage:t,itemsLength:a}=e,l=k(()=>t.value===-1?0:t.value*(n.value-1)),o=k(()=>t.value===-1?a.value:Math.min(a.value,l.value+t.value)),i=k(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));He(()=>{n.value>i.value&&(n.value=i.value)});function u(v){t.value=v,n.value=1}function c(){n.value=De(n.value+1,1,i.value)}function d(){n.value=De(n.value-1,1,i.value)}function r(v){n.value=De(v,1,i.value)}const m={page:n,itemsPerPage:t,startIndex:l,stopIndex:o,pageCount:i,itemsLength:a,nextPage:c,prevPage:d,setPage:r,setItemsPerPage:u};return be(wa,m),m}function oo(){const e=ge(wa);if(!e)throw new Error("Missing pagination!");return e}function so(e){const{items:n,startIndex:t,stopIndex:a,itemsPerPage:l}=e;return{paginatedItems:k(()=>l.value<=0?n.value:n.value.slice(t.value,a.value))}}const It=F({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ye=Z()({name:"VDataTableFooter",props:It(),setup(e,n){let{slots:t}=n;const{t:a}=ot(),{page:l,pageCount:o,startIndex:i,stopIndex:u,itemsLength:c,itemsPerPage:d,setItemsPerPage:r}=oo(),m=k(()=>e.itemsPerPageOptions.map(v=>({...v,title:a(v.title)})));return()=>{var v;return s("div",{class:"v-data-table-footer"},[(v=t.prepend)==null?void 0:v.call(t),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[a(e.itemsPerPageText)]),s(lo,{items:m.value,modelValue:d.value,"onUpdate:modelValue":f=>r(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[a(e.pageText,c.value?i.value+1:0,u.value,c.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(Q,{icon:e.firstIcon,variant:"plain",onClick:()=>l.value=1,disabled:l.value===1,"aria-label":a(e.firstPageLabel)},null),s(Q,{icon:e.prevIcon,variant:"plain",onClick:()=>l.value=Math.max(1,l.value-1),disabled:l.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&s("span",{key:"page",class:"v-data-table-footer__page"},[l.value]),s(Q,{icon:e.nextIcon,variant:"plain",onClick:()=>l.value=Math.min(o.value,l.value+1),disabled:l.value===o.value,"aria-label":a(e.nextPageLabel)},null),s(Q,{icon:e.lastIcon,variant:"plain",onClick:()=>l.value=o.value,disabled:l.value===o.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Dt=pn({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,n)=>{let{slots:t,attrs:a}=n;const l=e.tag??"td";return s(l,K({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:fe(e.height),width:fe(e.width),left:fe(e.fixedOffset||null)}},a),{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}),ro=F({headers:{type:Array,default:()=>[]}},"DataTable-header"),_a=Symbol.for("vuetify:data-table-headers");function Va(e,n){const t=D([]),a=D([]);He(()=>{var f,g,S;const o=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],i=o.flatMap((y,p)=>y.map(b=>({column:b,row:p}))),u=o.length,c={title:"",sortable:!1},d={...c,width:48};if((f=n==null?void 0:n.groupBy)!=null&&f.value.length){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-group"});y<0?i.unshift({column:{...c,key:"data-table-group",title:"Group",rowspan:u},row:0}):i.splice(y,1,{column:{...c,...i[y].column},row:i[y].row})}if((g=n==null?void 0:n.showSelect)!=null&&g.value){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-select"});y<0?i.unshift({column:{...d,key:"data-table-select",rowspan:u},row:0}):i.splice(y,1,{column:{...d,...i[y].column},row:i[y].row})}if((S=n==null?void 0:n.showExpand)!=null&&S.value){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-expand"});y<0?i.push({column:{...d,key:"data-table-expand",rowspan:u},row:0}):i.splice(y,1,{column:{...d,...i[y].column},row:i[y].row})}const r=ht(u).map(()=>[]),m=ht(u).fill(0);i.forEach(y=>{let{column:p,row:b}=y,P=p.key;P==null&&(P="");for(let T=b;T<=b+(p.rowspan??1)-1;T++)r[T].push({...p,key:P,fixedOffset:m[T],sortable:p.sortable??!!p.key}),m[T]+=Number(p.width??0)}),r.forEach(y=>{for(let p=y.length;p--;p>=0)if(y[p].fixed){y[p].lastFixed=!0;return}});const v=new Set;t.value=r.map(y=>{const p=[];for(const b of y)v.has(b.key)||(v.add(b.key),p.push(b));return p}),a.value=r.at(-1)??[]});const l={headers:t,columns:a};return be(_a,l),l}function it(){const e=ge(_a);if(!e)throw new Error("Missing headers!");return e}const io={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:n,value:t}=e;return new Set(t?[(a=n[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},Pa={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const l of n)t?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:n,currentPage:t,selected:a}=e;return Pa.select({items:t,value:n,selected:a})}},xa={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const l of n)t?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:n,allItems:t,selected:a}=e;return xa.select({items:t,value:n,selected:a})}},uo=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Ca=Symbol.for("vuetify:data-table-selection");function Ta(e,n){let{allItems:t,currentPage:a}=n;const l=pe(e,"modelValue",e.modelValue,y=>new Set(y),y=>[...y.values()]),o=k(()=>t.value.filter(y=>y.selectable)),i=k(()=>a.value.filter(y=>y.selectable)),u=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return io;case"all":return xa;case"page":default:return Pa}});function c(y){return We(y).every(p=>l.value.has(p.value))}function d(y){return We(y).some(p=>l.value.has(p.value))}function r(y,p){const b=u.value.select({items:y,value:p,selected:new Set(l.value)});l.value=b}function m(y){r([y],!c([y]))}function v(y){const p=u.value.selectAll({value:y,allItems:o.value,currentPage:i.value,selected:new Set(l.value)});l.value=p}const f=k(()=>l.value.size>0),g=k(()=>{const y=u.value.allSelected({allItems:o.value,currentPage:i.value});return c(y)}),S={toggleSelect:m,select:r,selectAll:v,isSelected:c,isSomeSelected:d,someSelected:f,allSelected:g,showSelectAll:u.value.showSelectAll};return be(Ca,S),S}function ut(){const e=ge(Ca);if(!e)throw new Error("Missing selection!");return e}const co=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ia=Symbol.for("vuetify:data-table-sort");function Da(e){const n=pe(e,"sortBy"),t=W(e,"mustSort"),a=W(e,"multiSort");return{sortBy:n,mustSort:t,multiSort:a}}function Ea(e){const{sortBy:n,mustSort:t,multiSort:a,page:l}=e,o=c=>{let d=n.value.map(m=>({...m}))??[];const r=d.find(m=>m.key===c.key);r?r.order==="desc"?t.value?r.order="asc":d=d.filter(m=>m.key!==c.key):r.order="desc":a.value?d=[...d,{key:c.key,order:"asc"}]:d=[{key:c.key,order:"asc"}],n.value=d,l&&(l.value=1)};function i(c){return!!n.value.find(d=>d.key===c.key)}const u={sortBy:n,toggleSort:o,isSorted:i};return be(Ia,u),u}function vo(){const e=ge(Ia);if(!e)throw new Error("Missing sort!");return e}function mo(e,n,t){const a=ot();return{sortedItems:k(()=>t.value.length?fo(n.value,t.value,a.current.value,e.customKeySort):n.value)}}function fo(e,n,t,a){const l=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,i)=>{for(let u=0;u<n.length;u++){const c=n[u].key,d=n[u].order??"asc";if(d===!1)continue;let r=yt(o.raw,c),m=yt(i.raw,c);if(d==="desc"&&([r,m]=[m,r]),a!=null&&a[c]){const v=a[c](r,m);if(!v)continue;return v}if(r instanceof Date&&m instanceof Date)return r.getTime()-m.getTime();if([r,m]=[r,m].map(v=>v!=null?v.toString().toLocaleLowerCase():v),r!==m)return ze(r)&&ze(m)?0:ze(r)?-1:ze(m)?1:!isNaN(r)&&!isNaN(m)?Number(r)-Number(m):l.compare(r,m)}return 0})}const Ba=F({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ce,default:"$sortAsc"},sortDescIcon:{type:Ce,default:"$sortDesc"},...ca()},"VDataTableHeaders"),Xe=Z()({name:"VDataTableHeaders",props:Ba(),setup(e,n){let{slots:t,emit:a}=n;const{toggleSort:l,sortBy:o,isSorted:i}=vo(),{someSelected:u,allSelected:c,selectAll:d,showSelectAll:r}=ut(),{columns:m,headers:v}=it(),{loaderClasses:f}=da(e),g=(T,w)=>{if(!(!e.sticky&&!T.fixed))return{position:"sticky",zIndex:T.fixed?4:e.sticky?3:void 0,left:T.fixed?fe(T.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}};function S(T){const w=o.value.find(B=>B.key===T.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:p}=pt(e,"color"),b=k(()=>({headers:v.value,columns:m.value,toggleSort:l,isSorted:i,sortBy:o.value,someSelected:u.value,allSelected:c.value,selectAll:d,getSortIcon:S,getFixedStyles:g})),P=T=>{let{column:w,x:B,y:_}=T;const C=w.key==="data-table-select"||w.key==="data-table-expand";return s(Dt,{tag:"th",align:w.align,class:["v-data-table__th",{"v-data-table__th--sortable":w.sortable,"v-data-table__th--sorted":i(w)},f.value],style:{width:fe(w.width),minWidth:fe(w.width),...g(w,_)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>l(w):void 0,lastFixed:w.lastFixed,noPadding:C},{default:()=>{var ee;const R=`column.${w.key}`,U={column:w,selectAll:d,isSorted:i,toggleSort:l,sortBy:o.value,someSelected:u.value,allSelected:c.value,getSortIcon:S};return t[R]?t[R](U):w.key==="data-table-select"?((ee=t["column.data-table-select"])==null?void 0:ee.call(t,U))??(r&&s(Be,{modelValue:c.value,indeterminate:u.value&&!c.value,"onUpdate:modelValue":d},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[w.title]),w.sortable&&s(ve,{key:"icon",class:"v-data-table-header__sort-icon",icon:S(w)},null),e.multiSort&&i(w)&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:p.value},[o.value.findIndex(te=>te.key===w.key)+1])])}})};ne(()=>s(N,null,[t.headers?t.headers(b.value):v.value.map((T,w)=>s("tr",null,[T.map((B,_)=>s(P,{column:B,x:_,y:w},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:m.value.length},[s(va,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),po=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),La=Symbol.for("vuetify:data-table-group");function Aa(e){return{groupBy:pe(e,"groupBy")}}function Ra(e){const{groupBy:n,sortBy:t}=e,a=D(new Set),l=k(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t.value));function o(d){return a.value.has(d.id)}function i(d){const r=new Set(a.value);o(d)?r.delete(d.id):r.add(d.id),a.value=r}function u(d){function r(m){const v=[];for(const f of m.items)"type"in f&&f.type==="group"?v.push(...r(f)):v.push(f);return v}return r({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:l,toggleGroup:i,opened:a,groupBy:n,extractRows:u,isGroupOpen:o};return be(La,c),c}function $a(){const e=ge(La);if(!e)throw new Error("Missing group!");return e}function go(e,n){if(!e.length)return[];const t=new Map;for(const a of e){const l=yt(a.raw,n);t.has(l)||t.set(l,[]),t.get(l).push(a)}return t}function Oa(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const l=go(e,n[0]),o=[],i=n.slice(1);return l.forEach((u,c)=>{const d=n[0],r=`${a}_${d}_${c}`;o.push({depth:t,id:r,key:d,value:c,items:i.length?Oa(u,i,t+1,r):u,type:"group"})}),o}function Ma(e,n){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(n.has(a.id)||a.value==null)&&t.push(...Ma(a.items,n))):t.push(a);return t}function Fa(e,n,t){return{flatItems:k(()=>{if(!n.value.length)return e.value;const l=Oa(e.value,n.value.map(o=>o.key));return Ma(l,t.value)})}}const ho=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),yo=Z()({name:"VDataTableGroupHeaderRow",props:ho(),setup(e,n){let{slots:t}=n;const{isGroupOpen:a,toggleGroup:l,extractRows:o}=$a(),{isSelected:i,isSomeSelected:u,select:c}=ut(),{columns:d}=it(),r=k(()=>o([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(m=>{var v,f;if(m.key==="data-table-group"){const g=a(e.item)?"$expand":"$next",S=()=>l(e.item);return((v=t["data-table-group"])==null?void 0:v.call(t,{item:e.item,count:r.value.length,props:{icon:g,onClick:S}}))??s(Dt,{class:"v-data-table-group-header-row__column"},{default:()=>[s(Q,{size:"small",variant:"text",icon:g,onClick:S},null),s("span",null,[e.item.value]),s("span",null,[I("("),r.value.length,I(")")])]})}if(m.key==="data-table-select"){const g=i(r.value),S=u(r.value)&&!g,y=p=>c(r.value,p);return((f=t["data-table-select"])==null?void 0:f.call(t,{props:{modelValue:g,indeterminate:S,"onUpdate:modelValue":y}}))??s("td",null,[s(Be,{modelValue:g,indeterminate:S,"onUpdate:modelValue":y},null)])}return s("td",null,null)})])}}),bo=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ua=Symbol.for("vuetify:datatable:expanded");function qa(e){const n=W(e,"expandOnClick"),t=pe(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function a(u,c){const d=new Set(t.value);c?d.add(u.value):d.delete(u.value),t.value=d}function l(u){return t.value.has(u.value)}function o(u){a(u,!l(u))}const i={expand:a,expanded:t,expandOnClick:n,isExpanded:l,toggleExpand:o};return be(Ua,i),i}function Ha(){const e=ge(Ua);if(!e)throw new Error("foo");return e}const wo=F({index:Number,item:Object,onClick:Function},"VDataTableRow"),So=gn({name:"VDataTableRow",props:wo(),setup(e,n){let{slots:t}=n;const{isSelected:a,toggleSelect:l}=ut(),{isExpanded:o,toggleExpand:i}=Ha(),{columns:u}=it();ne(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&u.value.map((c,d)=>s(Dt,{align:c.align,fixed:c.fixed,fixedOffset:c.fixedOffset,lastFixed:c.lastFixed,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",width:c.width},{default:()=>{var f,g;const r=e.item,m=`item.${c.key}`,v={index:e.index,item:e.item,columns:u.value,isSelected:a,toggleSelect:l,isExpanded:o,toggleExpand:i};return t[m]?t[m](v):c.key==="data-table-select"?((f=t["item.data-table-select"])==null?void 0:f.call(t,v))??s(Be,{disabled:!r.selectable,modelValue:a([r]),onClick:Ue(()=>l(r),["stop"])},null):c.key==="data-table-expand"?((g=t["item.data-table-expand"])==null?void 0:g.call(t,v))??s(Q,{icon:o(r)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ue(()=>i(r),["stop"])},null):Ie(r.columns,c.key)}}))]))}}),Na=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Ze=Z()({name:"VDataTableRows",props:Na(),setup(e,n){let{emit:t,slots:a}=n;const{columns:l}=it(),{expandOnClick:o,toggleExpand:i,isExpanded:u}=Ha(),{isSelected:c,toggleSelect:d}=ut(),{toggleGroup:r,isGroupOpen:m}=$a(),{t:v}=ot();return ne(()=>{var f;return e.loading&&a.loading?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:l.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:l.value.length},[((f=a["no-data"])==null?void 0:f.call(a))??v(e.noDataText)])]):s(N,null,[e.items.map((g,S)=>{var b;if(g.type==="group")return a["group-header"]?a["group-header"]({index:S,item:g,columns:l.value,isExpanded:u,toggleExpand:i,isSelected:c,toggleSelect:d,toggleGroup:r,isGroupOpen:m}):s(yo,{key:`group-header_${g.id}`,item:g},a);const y={index:S,item:g,columns:l.value,isExpanded:u,toggleExpand:i,isSelected:c,toggleSelect:d},p={...y,props:{key:`item_${g.key??g.index}`,onClick:o.value||e["onClick:row"]?P=>{var T;o.value&&i(g),(T=e["onClick:row"])==null||T.call(e,P,{item:g})}:void 0,index:S,item:g}};return s(N,null,[a.item?a.item(p):s(So,p.props,a),u(g)&&((b=a["expanded-row"])==null?void 0:b.call(a,y))])})])}),{}}});const Ga=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ye(),...Ct(),...Ne(),..._t()},"VTable"),Je=Z()({name:"VTable",props:Ga(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=Vt(e),{densityClasses:l}=ma(e);return ne(()=>s(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,l.value,e.class],style:e.style},{default:()=>{var o,i,u;return[(o=t.top)==null?void 0:o.call(t),t.default?s("div",{class:"v-table__wrapper",style:{height:fe(e.height)}},[s("table",null,[t.default()])]):(i=t.wrapper)==null?void 0:i.call(t),(u=t.bottom)==null?void 0:u.call(t)]}})),{}}}),ko=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function _o(e,n,t,a){const l=e.returnObject?n:Ie(n,e.itemValue),o=Ie(n,e.itemSelectable,!0),i=a.reduce((u,c)=>(u[c.key]=Ie(n,c.value??c.key),u),{});return{type:"item",key:e.returnObject?Ie(n,e.itemValue):l,index:t,value:l,selectable:o,columns:i,raw:n}}function Vo(e,n,t){return n.map((a,l)=>_o(e,a,l,t))}function Ka(e,n){return{items:k(()=>Vo(e,e.items,n.value))}}function za(e){let{page:n,itemsPerPage:t,sortBy:a,groupBy:l,search:o}=e;const i=ra("VDataTable"),u=k(()=>({page:n.value,itemsPerPage:t.value,sortBy:a.value,groupBy:l.value,search:o.value}));X(()=>o==null?void 0:o.value,()=>{n.value=1});let c=null;X(u,()=>{ua(c,u.value)||(i.emit("update:options",u.value),c=u.value)},{deep:!0,immediate:!0})}const Po=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),xo=F({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Co(e,n,t){var u;const a=[],l=(t==null?void 0:t.default)??Po,o=t!=null&&t.filterKeys?We(t.filterKeys):!1,i=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let c=0;c<e.length;c++){const d=e[c],r={},m={};let v=-1;if(n&&!(t!=null&&t.noFilter)){if(typeof d=="object"){const S=o||Object.keys(d);for(const y of S){const p=Ie(d,y,d),b=(u=t==null?void 0:t.customKeyFilter)==null?void 0:u[y];if(v=b?b(p,n,d):l(p,n,d),v!==-1&&v!==!1)b?r[y]=v:m[y]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=l(d,n,d),v!==-1&&v!==!1&&(m.title=v);const f=Object.keys(m).length,g=Object.keys(r).length;if(!f&&!g||(t==null?void 0:t.filterMode)==="union"&&g!==i&&!f||(t==null?void 0:t.filterMode)==="intersection"&&(g!==i||!f))continue}a.push({index:c,matches:{...m,...r}})}return a}function To(e,n,t,a){const l=D([]),o=D(new Map),i=k(()=>a!=null&&a.transform?ae(n).map(a==null?void 0:a.transform):ae(n));He(()=>{const c=typeof t=="function"?t():ae(t),d=typeof c!="string"&&typeof c!="number"?"":String(c),r=Co(i.value,d,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=ae(n),v=[],f=new Map;r.forEach(g=>{let{index:S,matches:y}=g;const p=m[S];v.push(p),f.set(p.value,y)}),l.value=v,o.value=f});function u(c){return o.value.get(c.value)}return{filteredItems:l,filteredMatches:o,getMatches:u}}const ja=F({...Na(),width:[String,Number],search:String,...bo(),...po(),...ro(),...ko(),...uo(),...co(),...Ba(),...Ga()},"DataTable"),Io=F({...ba(),...ja(),...xo(),...It()},"VDataTable");Z()({name:"VDataTable",props:Io(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{emit:t,slots:a}=n;const{groupBy:l}=Aa(e),{sortBy:o,multiSort:i,mustSort:u}=Da(e),{page:c,itemsPerPage:d}=Sa(e),{columns:r,headers:m}=Va(e,{groupBy:l,showSelect:W(e,"showSelect"),showExpand:W(e,"showExpand")}),{items:v}=Ka(e,r),f=W(e,"search"),{filteredItems:g}=To(e,v,f,{transform:z=>z.columns}),{toggleSort:S}=Ea({sortBy:o,multiSort:i,mustSort:u,page:c}),{sortByWithGroups:y,opened:p,extractRows:b,isGroupOpen:P,toggleGroup:T}=Ra({groupBy:l,sortBy:o}),{sortedItems:w}=mo(e,g,y),{flatItems:B}=Fa(w,l,p),_=k(()=>B.value.length),{startIndex:C,stopIndex:R,pageCount:U,setItemsPerPage:ee}=ka({page:c,itemsPerPage:d,itemsLength:_}),{paginatedItems:te}=so({items:B,startIndex:C,stopIndex:R,itemsPerPage:d}),le=k(()=>b(te.value)),{isSelected:we,select:V,selectAll:$,toggleSelect:J,someSelected:ce,allSelected:H}=Ta(e,{allItems:v,currentPage:le}),{isExpanded:A,toggleExpand:G}=qa(e);za({page:c,itemsPerPage:d,sortBy:o,groupBy:l,search:f}),tt({VDataTableRows:{hideNoData:W(e,"hideNoData"),noDataText:W(e,"noDataText"),loading:W(e,"loading"),loadingText:W(e,"loadingText")}});const M=k(()=>({page:c.value,itemsPerPage:d.value,sortBy:o.value,pageCount:U.value,toggleSort:S,setItemsPerPage:ee,someSelected:ce.value,allSelected:H.value,isSelected:we,select:V,selectAll:$,toggleSelect:J,isExpanded:A,toggleExpand:G,isGroupOpen:P,toggleGroup:T,items:le.value,groupedItems:te.value,columns:r.value,headers:m.value}));return ne(()=>{const[z]=Ye.filterProps(e),[re]=Xe.filterProps(e),[ie]=Ze.filterProps(e),[O]=Je.filterProps(e);return s(Je,K({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},O),{top:()=>{var L;return(L=a.top)==null?void 0:L.call(a,M.value)},default:()=>{var L,E,Y,de;return a.default?a.default(M.value):s(N,null,[(L=a.colgroup)==null?void 0:L.call(a,M.value),s("thead",null,[s(Xe,re,a)]),(E=a.thead)==null?void 0:E.call(a,M.value),s("tbody",null,[a.body?a.body(M.value):s(Ze,K(ie,{items:te.value}),a)]),(Y=a.tbody)==null?void 0:Y.call(a,M.value),(de=a.tfoot)==null?void 0:de.call(a,M.value)])},bottom:()=>a.bottom?a.bottom(M.value):s(N,null,[s(Ye,z,{prepend:a["footer.prepend"]})])})}),{}}});const Do=F({itemsLength:{type:[Number,String],required:!0},...ba(),...ja(),...It()},"VDataTableServer"),Eo=Z()({name:"VDataTableServer",props:Do(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,n)=>!0},setup(e,n){let{emit:t,slots:a}=n;const{groupBy:l}=Aa(e),{sortBy:o,multiSort:i,mustSort:u}=Da(e),{page:c,itemsPerPage:d}=Sa(e),r=k(()=>parseInt(e.itemsLength,10)),{columns:m,headers:v}=Va(e,{groupBy:l,showSelect:W(e,"showSelect"),showExpand:W(e,"showExpand")}),{items:f}=Ka(e,m),{toggleSort:g}=Ea({sortBy:o,multiSort:i,mustSort:u,page:c}),{opened:S,isGroupOpen:y,toggleGroup:p,extractRows:b}=Ra({groupBy:l,sortBy:o}),{pageCount:P,setItemsPerPage:T}=ka({page:c,itemsPerPage:d,itemsLength:r}),{flatItems:w}=Fa(f,l,S),{isSelected:B,select:_,selectAll:C,toggleSelect:R,someSelected:U,allSelected:ee}=Ta(e,{allItems:f,currentPage:f}),{isExpanded:te,toggleExpand:le}=qa(e),we=k(()=>b(f.value));za({page:c,itemsPerPage:d,sortBy:o,groupBy:l,search:W(e,"search")}),be("v-data-table",{toggleSort:g,sortBy:o}),tt({VDataTableRows:{hideNoData:W(e,"hideNoData"),noDataText:W(e,"noDataText"),loading:W(e,"loading"),loadingText:W(e,"loadingText")}});const V=k(()=>({page:c.value,itemsPerPage:d.value,sortBy:o.value,pageCount:P.value,toggleSort:g,setItemsPerPage:T,someSelected:U.value,allSelected:ee.value,isSelected:B,select:_,selectAll:C,toggleSelect:R,isExpanded:te,toggleExpand:le,isGroupOpen:y,toggleGroup:p,items:we.value,groupedItems:w.value,columns:m.value,headers:v.value}));ne(()=>{const[$]=Ye.filterProps(e),[J]=Xe.filterProps(e),[ce]=Ze.filterProps(e),[H]=Je.filterProps(e);return s(Je,K({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},H),{top:()=>{var A;return(A=a.top)==null?void 0:A.call(a,V.value)},default:()=>{var A,G,M,z;return a.default?a.default(V.value):s(N,null,[(A=a.colgroup)==null?void 0:A.call(a,V.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(Xe,K(J,{sticky:e.fixedHeader}),a)]),(G=a.thead)==null?void 0:G.call(a,V.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(V.value):s(Ze,K(ce,{items:w.value}),a)]),(M=a.tbody)==null?void 0:M.call(a,V.value),(z=a.tfoot)==null?void 0:z.call(a,V.value)])},bottom:()=>a.bottom?a.bottom(V.value):s(Ye,$,{prepend:a["footer.prepend"]})})})}}),Bo=me({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(e,{emit:n}){const t=e,a=[hn(),yn(),bn(),wn(),Sn(),kn(_n,{fallback:!0}),Vn(),Pn(),xn(),Cn(),Tn(),In.of([{key:"Enter",run:()=>(n("execute"),!0)},...Dn,...En,...Bn,...Ln,...An]),Rn.transactionFilter.of(l=>l.newDoc.lines>1?[]:l),...t.additionalExtensions];return(l,o)=>(x(),j("div",{class:On(["cm-oneline",{"cm-oneline--with-prepend-icon":l.prependInnerIcon}])},[l.prependInnerIcon?(x(),q(ve,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:h(()=>[I(ue(l.prependInnerIcon),1)]),_:1})):he("",!0),s(ae($n),{"model-value":l.modelValue,extensions:a,placeholder:l.placeholder,disabled:l.disabled,"onUpdate:modelValue":o[0]||(o[0]=i=>l.$emit("update:modelValue",i)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const Kt=Le(Bo,[["__scopeId","data-v-0d175474"]]);const Et=Z()({name:"VCardActions",props:ye(),setup(e,n){let{slots:t}=n;return tt({VBtn:{variant:"text"}}),ne(()=>{var a;return s("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),Lo=st("v-card-subtitle"),qe=st("v-card-title"),Ao=F({appendAvatar:String,appendIcon:Ce,prependAvatar:String,prependIcon:Ce,subtitle:String,title:String,...ye(),...Ct()},"VCardItem"),Ro=Z()({name:"VCardItem",props:Ao(),setup(e,n){let{slots:t}=n;return ne(()=>{var d;const a=!!(e.prependAvatar||e.prependIcon),l=!!(a||t.prepend),o=!!(e.appendAvatar||e.appendIcon),i=!!(o||t.append),u=!!(e.title||t.title),c=!!(e.subtitle||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[l&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(Ee,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):a&&s(gt,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),s("div",{class:"v-card-item__content"},[u&&s(qe,{key:"title"},{default:()=>{var r;return[((r=t.title)==null?void 0:r.call(t))??e.title]}}),c&&s(Lo,{key:"subtitle"},{default:()=>{var r;return[((r=t.subtitle)==null?void 0:r.call(t))??e.subtitle]}}),(d=t.default)==null?void 0:d.call(t)]),i&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(Ee,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):o&&s(gt,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),ct=st("v-card-text"),$o=F({appendAvatar:String,appendIcon:Ce,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ce,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...jt(),...ye(),...Ct(),...sa(),...Wt(),...ca(),...Mn(),...Fn(),...Qt(),...Un(),...Ne(),..._t(),...qn({variant:"elevated"})},"VCard"),Bt=Z()({name:"VCard",directives:{Ripple:Hn},props:$o(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:l}=Vt(e),{borderClasses:o}=Yt(e),{colorClasses:i,colorStyles:u,variantClasses:c}=Nn(e),{densityClasses:d}=ma(e),{dimensionStyles:r}=ia(e),{elevationClasses:m}=Xt(e),{loaderClasses:v}=da(e),{locationStyles:f}=Gn(e),{positionClasses:g}=Kn(e),{roundedClasses:S}=Jt(e),y=zn(e,t),p=k(()=>e.link!==!1&&y.isLink.value),b=k(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return ne(()=>{const P=p.value?"a":e.tag,T=!!(a.title||e.title),w=!!(a.subtitle||e.subtitle),B=T||w,_=!!(a.append||e.appendAvatar||e.appendIcon),C=!!(a.prepend||e.prependAvatar||e.prependIcon),R=!!(a.image||e.image),U=B||C||_,ee=!!(a.text||e.text);return jn(s(P,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},l.value,o.value,i.value,d.value,m.value,v.value,g.value,S.value,c.value,e.class],style:[u.value,r.value,f.value,e.style],href:y.href.value,onClick:b.value&&y.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var te;return[R&&s("div",{key:"image",class:"v-card__image"},[a.image?s(Ee,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):s(aa,{key:"image-img",cover:!0,src:e.image},null)]),s(va,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),U&&s(Ro,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),ee&&s(ct,{key:"text"},{default:()=>{var le;return[((le=a.text)==null?void 0:le.call(a))??e.text]}}),(te=a.default)==null?void 0:te.call(a),a.actions&&s(Et,null,{default:a.actions}),Qn(b.value,"v-card")]}}),[[Wn("ripple"),b.value&&e.ripple]])}),{}}}),Oo={key:0,class:"data-grid"},Mo={class:"query-input"},Fo=["onClick"],Uo={class:"data-grid-cell__body"},qo={key:0,class:"text-disabled"},Ho={style:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center"}},No={key:1},Go=me({__name:"LabEditorConsoleDataGrid",props:{params:{},data:{}},setup(e){var H,A,G,M,z,re,ie;const n=e,t=Yn(),a=Ae(),l=D([n.params.dataPointer.catalogName,n.params.dataPointer.entityType]),o=[{title:"EvitaQL",value:dt.EvitaQL},{title:"GraphQL",value:dt.GraphQL}];let i=[],u=[],c=new Map;const d=D((H=n.data)!=null&&H.queryLanguage?[n.data.queryLanguage]:[dt.EvitaQL]);X(d,(O,L)=>{O[0]!==L[0]&&(g.value="",y.value="",$())});const r=D(!1),m=D((A=n.data)!=null&&A.pageNumber?n.data.pageNumber:1),v=D((G=n.data)!=null&&G.pageSize?n.data.pageSize:25),f=[10,25,50,100,250,500,1e3].map(O=>({title:O.toString(10),value:O})),g=D((M=n.data)!=null&&M.filterBy?n.data.filterBy:""),S=[],y=D((z=n.data)!=null&&z.orderBy?n.data.orderBy:""),p=[],b=D((re=n.data)!=null&&re.dataLanguage?[n.data.dataLanguage]:["none"]);X(b,()=>$());const P=D((ie=n.data)!=null&&ie.displayedData?n.data.displayedData:[]);X(P,(O,L)=>{te(),O.length>L.length&&$()});const T=D([]),w=D([]),B=D(0),_=D(!1),C=D(""),R=D(""),U=D(!1);ea(()=>{t.getDataLocales(n.params.dataPointer).then(O=>(u=O,t.getEntityPropertyKeys(n.params.dataPointer))).then(O=>(i=O.map(L=>L.toString()),ee(i))).then(O=>{c=O,le(),U.value=!0,n.params.executeOnOpen&&$()}).catch(O=>{a.error(O)})});async function ee(O){const L=new Map;for(const E of O){let Y;try{Y=await t.isEntityPropertySortable(n.params.dataPointer,E)}catch(de){a.error(de),Y=!1}L.set(E,{key:E,title:E,sortable:Y})}return L}async function te(){T.value=P.value.map(O=>c.get(O)),T.value.sort((O,L)=>i.indexOf(O.key)-i.indexOf(L.key))}function le(){if(P.value.length>0)return;const O=Re.entity($e.PrimaryKey).toString(),L=Re.entity($e.Parent).toString(),E=Re.entity($e.Locales).toString(),Y=Re.entity($e.AllLocales).toString(),de=Re.entity($e.PriceInnerRecordHandling).toString(),Pe=[];i.includes(O)&&Pe.push(O),i.includes(L)&&Pe.push(L),i.includes(E)&&Pe.push(E),i.includes(Y)&&Pe.push(Y),i.includes(de)&&Pe.push(de),P.value=Pe}function we(){P.value.length<i.length?P.value=i.slice():P.value=[]}async function V({page:O,itemsPerPage:L,sortBy:E}){m.value=O,v.value=L;try{y.value=await t.buildOrderByFromGridColumns(n.params.dataPointer,d.value[0],E)}catch(Y){a.error(Y)}await $()}async function $(){r.value=!0;try{const O=await t.executeQuery(n.params.dataPointer,d.value[0],g.value,y.value,b.value.length===0?void 0:b.value[0],P.value,m.value,v.value);w.value=O.entities.map(L=>{const E={};return L.forEach(([Y,de])=>E[Y.toString()]=de),E}),B.value=O.totalEntitiesCount}catch(O){a.error(O)}r.value=!1}function J(O,L){L&&(C.value=O,R.value=L,_.value=!0)}function ce(){_.value=!1,C.value="",R.value=""}return(O,L)=>U.value?(x(),j("div",Oo,[s(ft,{density:"compact",elevation:"2",class:"data-grid__header"},{append:h(()=>[s(Q,{icon:"",variant:"elevated",loading:r.value,density:"compact",onClick:$},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-play")]),_:1}),s(xe,{activator:"parent"},{default:h(()=>[I(" Execute query ")]),_:1})]),_:1},8,["loading"])]),extension:h(()=>[se("div",Mo,[s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-code-braces")]),_:1}),s(xe,{activator:"parent"},{default:h(()=>[I("Select query language")]),_:1}),s(Fe,{activator:"parent"},{default:h(()=>[s(Ve,{selected:d.value,"onUpdate:selected":L[0]||(L[0]=E=>d.value=E),density:"compact"},{default:h(()=>[(x(),j(N,null,ke(o,E=>s(_e,{key:E.value,value:E.value},{default:h(()=>[s(Oe,null,{default:h(()=>[I(ue(E.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}),s(Kt,{modelValue:g.value,"onUpdate:modelValue":L[1]||(L[1]=E=>g.value=E),"prepend-inner-icon":"mdi-filter",placeholder:"Filter by","additional-extensions":S,onExecute:$},null,8,["modelValue"]),s(Kt,{modelValue:y.value,"onUpdate:modelValue":L[2]||(L[2]=E=>y.value=E),"prepend-inner-icon":"mdi-sort",placeholder:"Order by","additional-extensions":p,onExecute:$},null,8,["modelValue"]),s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-translate")]),_:1}),s(xe,{activator:"parent"},{default:h(()=>[I(" Select data locale ")]),_:1}),s(Fe,{activator:"parent"},{default:h(()=>[s(Ve,{selected:b.value,"onUpdate:selected":L[3]||(L[3]=E=>b.value=E),density:"compact","min-width":"100"},{default:h(()=>[s(_e,{value:"none"},{default:h(()=>[s(Oe,null,{default:h(()=>[I("None")]),_:1})]),_:1}),s(vt,{class:"mt-2 mb-2"}),(x(!0),j(N,null,ke(ae(u),E=>(x(),q(_e,{key:E,value:E},{default:h(()=>[s(Oe,null,{default:h(()=>[I(ue(E),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}),s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-view-column")]),_:1}),s(xe,{activator:"parent"},{default:h(()=>[I(" Select displayed data ")]),_:1}),s(Fe,{activator:"parent","close-on-content-click":!1},{default:h(()=>[s(Ve,{selected:P.value,"onUpdate:selected":L[4]||(L[4]=E=>P.value=E),"select-strategy":"classic",density:"compact"},{default:h(()=>[s(_e,null,{prepend:h(()=>[s(Ut,{start:""},{default:h(()=>[s(Be,{indeterminate:P.value.length>0&&P.value.length<ae(i).length,"model-value":P.value.length===ae(i).length,onClick:we},null,8,["indeterminate","model-value"])]),_:1})]),default:h(()=>[s(Oe,null,{default:h(()=>[I("Select all")]),_:1})]),_:1}),s(vt,{class:"mt-2 mb-2"}),(x(!0),j(N,null,ke(ae(i),E=>(x(),q(_e,{key:E,value:E},{prepend:h(({isActive:Y})=>[s(Ut,{start:""},{default:h(()=>[s(Be,{"model-value":Y},null,8,["model-value"])]),_:2},1024)]),default:h(()=>[s(Oe,null,{default:h(()=>[I(ue(E),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})])]),default:h(()=>[s(Xn,{icon:"mdi-table",disabled:!0,style:{opacity:"1"}}),s(Zn,null,{default:h(()=>[s(Jn,{items:l.value,class:"pl-0 pr-0"},null,8,["items"])]),_:1})]),_:1}),s(ae(tl),{vertical:"",class:"data-grid__body"},{default:h(()=>[s(ae($t),{size:"70","min-size":"30"},{default:h(()=>[s(ae(Eo),{headers:T.value,loading:r.value,items:w.value,"items-length":B.value,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":v.value,"items-per-page-Options":ae(f),"onUpdate:options":V},{item:h(({item:E})=>[se("tr",null,[(x(!0),j(N,null,ke(E.columns,(Y,de)=>(x(),j("td",{key:de,onClick:Pe=>J(de,Y)},[se("span",Uo,[Y?(x(),j(N,{key:1},[I(ue(Y),1)],64)):(x(),j("span",qo,"<null>"))])],8,Fo))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),_.value?(x(),q(ae($t),{key:0,size:"30"},{default:h(()=>[s(Bt,{class:"data-grid-cell-detail"},{default:h(()=>[s(qe,null,{default:h(()=>[se("div",Ho,[se("span",null,ue(C.value),1),s(Q,{icon:"",variant:"flat",density:"compact",onClick:ce},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-close")]),_:1})]),_:1})])]),_:1}),s(vt),s(ct,{class:"data-grid-cell-detail__body"},{default:h(()=>[s(el,{modelValue:R.value,"onUpdate:modelValue":L[5]||(L[5]=E=>R.value=E),"read-only":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):he("",!0)]),_:1})])):(x(),j("div",No," Loading... "))}});const Ko=Le(Go,[["__scopeId","data-v-62d4722b"]]);class zo extends al{constructor(n,t,a,l=void 0,o=!1){super(`${t} - ${a} [${n.name}]`,"mdi-table",nl(Ko),{dataPointer:new ll(n,t,a),executeOnOpen:o},l)}}const jo=me({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(e){const n=e,t=D([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=rt(),l=ge("connection"),o=ge("catalogSchema");function i(){a.createTabRequest(new zo(l,o.value.name,n.entitySchema.name))}function u(c){switch(c){case"view-entities":i();break;case"view-schema":a.createTabRequest(new fa(l,new ol(o.value.name,n.entitySchema.name)));break}}return(c,d)=>(x(),q(Qe,{"prepend-icon":"mdi-list-box",actions:t.value,onClick:i,"onClick:action":u},{default:h(()=>[I(ue(c.entitySchema.name),1)]),_:1},8,["actions"]))}}),Wo={key:0},Qo=me({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(e){const n=e,t=D([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=Ge(),l=rt(),o=Ae(),i=ge("connection"),u=D();be("catalogSchema",u);async function c(){if(!(u.value!==void 0||n.catalog.corrupted))try{u.value=await a.getCatalogSchema(i,n.catalog.name)}catch(r){o.error(r)}}function d(r){switch(r){case"open-evitaql-console":l.createTabRequest(new rl(i,n.catalog.name));break;case"open-graphql-data-api-console":l.createTabRequest(new bt(i,n.catalog.name,wt.DATA));break;case"open-graphql-schema-api-console":l.createTabRequest(new bt(i,n.catalog.name,wt.SCHEMA));break;case"view-schema":l.createTabRequest(new fa(i,new sl(n.catalog.name)));break}}return(r,m)=>(x(),q(pa,{value:`${ae(i).name}|${r.catalog.name}`},{activator:h(({isOpen:v,props:f})=>[r.catalog.corrupted?(x(),q(Qe,K({key:1},f,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:h(()=>[I(ue(r.catalog.name)+" ",1),s(xe,{activator:"parent"},{default:h(()=>[I(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(x(),q(Qe,K({key:0},f,{openable:"","is-open":v,"prepend-icon":"mdi-book-open",actions:t.value,onClick:c,"onClick:action":d}),{default:h(()=>[I(ue(r.catalog.name),1)]),_:2},1040,["is-open","actions"]))]),default:h(()=>[!r.catalog.corrupted&&u.value!==void 0?(x(),j("div",Wo,[(x(!0),j(N,null,ke(Object.values(u.value.entitySchemas),v=>(x(),q(jo,{key:v.name,"entity-schema":v},null,8,["entity-schema"]))),128))])):he("",!0)]),_:1},8,["value"]))}});const Yo=F({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...la({origin:"center center",scrollStrategy:"block",transition:{component:Tt},zIndex:2400})},"VDialog"),Wa=Z()({name:"VDialog",props:Yo(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=pe(e,"modelValue"),{scopeId:l}=Pt(),o=D();function i(c){var m,v;const d=c.relatedTarget,r=c.target;if(d!==r&&((m=o.value)!=null&&m.contentEl)&&((v=o.value)!=null&&v.globalTop)&&![document,o.value.contentEl].includes(r)&&!o.value.contentEl.contains(r)){const f=ul(o.value.contentEl);if(!f.length)return;const g=f[0],S=f[f.length-1];d===g?S.focus():g.focus()}}il&&X(()=>a.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0}),X(a,async c=>{var d,r;await ta(),c?(d=o.value.contentEl)==null||d.focus({preventScroll:!0}):(r=o.value.activatorEl)==null||r.focus({preventScroll:!0})});const u=k(()=>K({"aria-haspopup":"dialog","aria-expanded":String(a.value)},e.activatorProps));return ne(()=>{const[c]=je.filterProps(e);return s(je,K({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,"aria-modal":"true",activatorProps:u.value,role:"dialog"},l),{activator:t.activator,default:function(){for(var d=arguments.length,r=new Array(d),m=0;m<d;m++)r[m]=arguments[m];return s(Ee,{root:"VDialog"},{default:()=>{var v;return[(v=t.default)==null?void 0:v.call(t,...r)]}})}})}),at({},o)}}),Qa=st("flex-grow-1","div","VSpacer"),Xo=me({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,a=Ge(),l=Ae();function o(){n("update:modelValue",!1)}function i(){try{a.removeConnection(t.connection.id)}catch(u){l.error(u);return}l.success("Connection removed."),n("update:modelValue",!1)}return(u,c)=>(x(),q(Wa,{"model-value":u.modelValue,"max-width":"30rem","onUpdate:modelValue":c[0]||(c[0]=d=>u.$emit("update:modelValue",d))},{activator:h(({props:d})=>[xt(u.$slots,"activator",nt(lt(d)))]),default:h(()=>[s(Bt,null,{default:h(()=>[s(qe,null,{default:h(()=>[I("Remove connection")]),_:1}),s(ct,null,{default:h(()=>[I(" Are you sure you want to remove the connection "),se("strong",null,ue(u.connection.name),1),I("? ")]),_:1}),s(Et,null,{default:h(()=>[s(Qa),s(Q,{onClick:o},{default:h(()=>[I(" Cancel ")]),_:1}),s(Q,{"prepend-icon":"mdi-delete",onClick:i},{default:h(()=>[I(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),Zo={key:0},Jo=me({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(e){const n=e,t=rt(),a=Ge(),l=Ae();be("connection",cl(n.connection));const o=D([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!a.isReadOnly()&&!n.connection.preconfigured&&o.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const i=D(!1),u=D();async function c(){if(u.value===void 0)try{u.value=await a.getCatalogs(n.connection)}catch(r){l.error(r)}}function d(r,m){switch(r){case"open-graphql-system-api-console":t.createTabRequest(new bt(n.connection,"system",wt.SYSTEM));break;case"edit":throw new dl(void 0,"Not implemented yet.");case"remove":i.value=!0;break}}return(r,m)=>(x(),q(pa,{value:r.connection.name},{activator:h(({isOpen:v,props:f})=>[s(Qe,K(f,{openable:"","is-open":v,"prepend-icon":"mdi-server",actions:o.value,onClick:c,"onClick:action":d}),{default:h(()=>[I(ue(r.connection.name),1)]),_:2},1040,["is-open","actions"])]),default:h(()=>[u.value!==void 0?(x(),j("div",Zo,[(x(!0),j(N,null,ke(u.value,v=>(x(),q(Qo,{key:v.name,catalog:v},null,8,["catalog"]))),128))])):he("",!0),s(Xo,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=v=>i.value=v),connection:r.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),es=F({...ye(),...vl()},"VForm"),ts=Z()({name:"VForm",props:es(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const l=ml(e),o=D();function i(c){c.preventDefault(),l.reset()}function u(c){const d=c,r=l.validate();d.then=r.then.bind(r),d.catch=r.catch.bind(r),d.finally=r.finally.bind(r),a("submit",d),d.defaultPrevented||r.then(m=>{var f;let{valid:v}=m;v&&((f=o.value)==null||f.submit())}),d.preventDefault()}return ne(()=>{var c;return s("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:u},[(c=t.default)==null?void 0:c.call(t,l)])}),at(l,o)}}),as=me({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,a=Ge(),l=Ae(),o=[p=>p?!0:"Name of connection is required.",p=>a.isConnectionExists(p)?"Connection with this name already exists.":!0],i=[p=>p?!0:"evitaLab API URL is required.",p=>{try{return new URL(p),!0}catch{return"evitaLab API URL is not a valid URL."}},async p=>await v()?(r.value.labApiUrlTested=1,!0):(r.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],u=[p=>p?!0:"GraphQL API URL is required.",p=>{try{return new URL(p),!0}catch{return"GraphQL API URL is not a valid URL."}},async p=>await f()?(r.value.gqlUrlTested=1,!0):(r.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],c=D(null),d=k(()=>t.connection?1:0),r=D({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function m(p){switch(p){case 0:return null;case 1:return"mdi-check-circle";case 2:return"mdi-close-circle"}}async function v(){try{return(await Ot.get(r.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function f(){var p;try{const b=await Ot.post(r.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((p=b==null?void 0:b.data)==null?void 0:p.liveness)||!1}catch{return!1}}async function g(){let p=!0;return await v()?r.value.labApiUrlTested=1:(p=!1,r.value.labApiUrlTested=2),await f()?r.value.gqlUrlTested=1:(p=!1,r.value.gqlUrlTested=2),p?l.success("Successfully connected."):l.error("Connection test failed."),p}function S(){c.value.reset(),r.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},n("update:modelValue",!1)}async function y(){const{valid:p}=await c.value.validate();if(p){try{a.addConnection(new fl(void 0,r.value.name,!1,r.value.labApiUrl,"https://localhost:5555/rest",r.value.gqlUrl))}catch(b){l.error(b);return}c.value.reset(),n("update:modelValue",!1)}}return(p,b)=>(x(),q(Wa,{"model-value":p.modelValue,"onUpdate:modelValue":b[3]||(b[3]=P=>p.$emit("update:modelValue",P)),persistent:"","max-width":"30rem"},{activator:h(({props:P})=>[xt(p.$slots,"activator",nt(lt(P)))]),default:h(()=>[s(Bt,null,{default:h(()=>[d.value===0?(x(),q(qe,{key:0},{default:h(()=>[I("Add connection")]),_:1})):he("",!0),d.value===1?(x(),q(qe,{key:1},{default:h(()=>[I("Edit connection")]),_:1})):he("",!0),s(ct,null,{default:h(()=>[s(ts,{ref_key:"form",ref:c,"validate-on":"submit"},{default:h(()=>[s(Me,{modelValue:r.value.name,"onUpdate:modelValue":b[0]||(b[0]=P=>r.value.name=P),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:o,required:""},null,8,["modelValue"]),s(Me,{modelValue:r.value.labApiUrl,"onUpdate:modelValue":b[1]||(b[1]=P=>r.value.labApiUrl=P),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:i,"append-inner-icon":m(r.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),s(Me,{modelValue:r.value.gqlUrl,"onUpdate:modelValue":b[2]||(b[2]=P=>r.value.gqlUrl=P),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:u,"append-inner-icon":m(r.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),s(Et,null,{default:h(()=>[s(Q,{"prepend-icon":"mdi-connection",onClick:g},{default:h(()=>[I(" Test connection ")]),_:1}),s(Qa),s(Q,{onClick:S},{default:h(()=>[I(" Cancel ")]),_:1}),s(Q,{"prepend-icon":"mdi-content-save",onClick:y},{default:h(()=>[I(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),ns={key:0,class:"pa-2"},ls=me({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const t=Ge(),a=D(!1),l=k(()=>t.getConnections());return(o,i)=>(x(),q(ya,{permanent:"","model-value":o.modelValue,"onUpdate:modelValue":i[2]||(i[2]=u=>o.$emit("update:modelValue",u))},{append:h(()=>[ae(t).isReadOnly()?he("",!0):(x(),j("div",ns,[s(as,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value=u)},{activator:h(({props:u})=>[s(Q,K({"prepend-icon":"mdi-plus",block:"",variant:"tonal"},u,{onClick:i[0]||(i[0]=c=>a.value=!0)}),{default:h(()=>[I(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:h(()=>[s(Ve,{density:"compact",nav:""},{default:h(()=>[s(pl,null,{default:h(()=>[I("Connections Explorer")]),_:1}),(x(!0),j(N,null,ke(l.value,u=>(x(),q(Jo,{key:u.name,connection:u},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),os=me({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(e){return(n,t)=>(x(),q(hl,null,[(x(),q(gl(n.component),nt(lt(n.componentProps)),null,16))],1024))}});function ss(e,n){return e.length<=n?e:e.substring(0,n-3)+"..."}const rs="evitalab",is="0.1.2",us={dev:"vite",build:"vue-tsc --noEmit && vite build",preview:"vite preview --port 3000",lint:"eslint . --fix --ignore-path .gitignore"},cs={"@codemirror/lang-json":"^6.0.1","@mdi/font":"7.0.96","@types/js-cookie":"^3.0.3","cm6-graphql":"^0.0.9","cm6-theme-material-dark":"^0.2.0",codemirror:"^6.0.1","core-js":"^3.29.0",graphql:"^16.7.1","js-cookie":"^3.0.5",ky:"^0.33.3","roboto-fontface":"*",splitpanes:"^3.1.5",store2:"^2.14.2",uuid:"^9.0.0",vue:"^3.2.0","vue-codemirror":"^6.1.1","vue-markdown-render":"^2.0.1","vue-router":"^4.0.0","vue-toastification":"^2.0.0-rc.5",vuetify:"^3.1.0",vuex:"^4.0.2",webfontloader:"^1.0.0"},ds={"@babel/types":"^7.21.4","@types/node":"^18.15.0","@types/splitpanes":"^2.2.1","@types/uuid":"^9.0.2","@types/webfontloader":"^1.6.35","@vitejs/plugin-vue":"^4.0.0","@vue/eslint-config-typescript":"^11.0.0",eslint:"^8.22.0","eslint-plugin-vue":"^9.3.0",sass:"^1.60.0","ts-node":"^10.9.1",typescript:"^5.1.6",vite:"^4.2.0","vite-plugin-vuetify":"^1.0.0","vue-tsc":"^1.2.0"},vs={name:rs,version:is,private:!0,scripts:us,dependencies:cs,devDependencies:ds},Ya=e=>(yl("data-v-20310121"),e=e(),bl(),e),ms={class:"editor-welcome-screen"},fs={class:"editor-welcome-screen-hero"},ps={class:"editor-welcome-screen-hero__header"},gs=Ya(()=>se("h1",{class:"text-h2"},"evitaLab",-1)),hs={class:"text-caption"},ys=Ya(()=>se("p",{class:"text-subtitle-1 mt-2"},"evitaDB web client",-1)),bs={class:"editor-welcome-screen-hero__links"},ws=me({__name:"LabEditorWelcomeScreen",setup(e){function n(){window.open("https://evitadb.io/documentation","_blank")}function t(){window.open("https://github.com/lukashornych/evitalab/","_blank")}function a(){window.open("https://discord.gg/VsNBWxgmSw","_blank")}function l(){window.open("https://github.com/lukashornych/evitalab/issues","_blank")}return(o,i)=>(x(),j("div",ms,[se("div",fs,[se("header",ps,[gs,se("span",hs,"alpha "+ue(ae(vs).version),1),ys]),se("div",bs,[s(Q,{"prepend-icon":"mdi-book",onClick:n},{default:h(()=>[I(" Check out the evitaDB documentation ")]),_:1}),s(Q,{"prepend-icon":"mdi-github",onClick:t},{default:h(()=>[I(" Give us a ⭐ on GitHub ")]),_:1}),s(Q,{"prepend-icon":"mdi-comment-quote",onClick:a},{default:h(()=>[I(" Reach out to us on Discord ")]),_:1}),s(Q,{"prepend-icon":"mdi-bug",onClick:l},{default:h(()=>[I(" Submit an issue ")]),_:1})])])]))}});const Ss=Le(ws,[["__scopeId","data-v-20310121"]]);const ks=F({scrollable:Boolean,...ye(),...Ne({tag:"main"})},"VMain"),_s=Z()({name:"VMain",props:ks(),setup(e,n){let{slots:t}=n;const{mainStyles:a}=xl(),{ssrBootStyles:l}=kt();return ne(()=>s(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,l.value,e.style]},{default:()=>{var o,i;return[e.scrollable?s("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(i=t.default)==null?void 0:i.call(t)]}})),{}}}),Vs={key:1,style:{position:"relative"}},Ps=me({__name:"LabEditor",setup(e){const n=wl(),t=Ae(),a=rt(),l=Sl(),o=k(()=>a.getTabRequests());X(o,()=>{const d=a.getNewTabRequest();d&&(i.value=d.id,a.markTabRequestAsVisited(d.id))},{deep:!0});const i=D();function u(d){const r=o.value.length,m=o.value.findIndex(f=>f.id===i.value),v=o.value.findIndex(f=>f.id===d);a.destroyTabRequest(d),o.value.length===0?i.value=null:v===m&&v===r-1?i.value=o.value[v-1].id:v===m&&v<r-1&&(i.value=o.value[v].id)}async function c(){const d=n.query.demoSnippetRequest;if(d!==void 0)try{const r=JSON.parse(atob(d));return await l.resolve(r)}catch(r){t.error(r)}}return c().then(d=>{d&&a.createTabRequest(d)}),(d,r)=>(x(),j(N,null,[o.value.length>0?(x(),q(El,{key:0,density:"compact",elevation:"0"},{default:h(()=>[s(_l,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=m=>i.value=m)},{default:h(()=>[(x(!0),j(N,null,ke(o.value,m=>(x(),q(kl,{key:m.id,value:m.id,"prepend-icon":m.icon,onMousedown:Ue(v=>u(m.id),["middle"])},{default:h(()=>[se("span",null,[I(ue(ae(ss)(m.title,30))+" ",1),m.title.length>30?(x(),q(xe,{key:0,activator:"parent"},{default:h(()=>[I(ue(m.title),1)]),_:2},1024)):he("",!0)]),s(Q,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ue(v=>u(m.id),["stop"])},{default:h(()=>[s(ve,null,{default:h(()=>[I("mdi-close")]),_:1}),s(xe,{activator:"parent"},{default:h(()=>[I(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):he("",!0),s(_s,{scrollable:!1,class:"lab-editor"},{default:h(()=>[o.value.length>0?(x(),q(Pl,{key:0,modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=m=>i.value=m)},{default:h(()=>[(x(!0),j(N,null,ke(o.value,m=>(x(),q(Vl,{key:m.id,value:m.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:h(()=>[s(os,{component:m.component,"component-props":m.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(x(),j("div",Vs,[s(Ss)]))]),_:1})],64))}});const xs=Le(Ps,[["__scopeId","data-v-31678cef"]]),Is=me({__name:"Lab",setup(e){const n=D(Se.Explorer);return(t,a)=>(x(),j(N,null,[s(Gl,{panel:n.value,"onUpdate:panel":a[0]||(a[0]=l=>n.value=l)},null,8,["panel"]),s(ls,{"model-value":n.value===ae(Se).Explorer},null,8,["model-value"]),s(xs)],64))}});export{Is as default};
