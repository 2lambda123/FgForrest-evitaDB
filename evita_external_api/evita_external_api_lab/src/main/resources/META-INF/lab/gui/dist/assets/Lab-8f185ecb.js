/*
 *
 *                         _ _        ____  ____
 *               _____   _(_) |_ __ _|  _ \| __ )
 *              / _ \ \ / / | __/ _` | | | |  _ \
 *             |  __/\ V /| | || (_| | |_| | |_) |
 *              \___| \_/ |_|\__\__,_|____/|____/
 *
 *   Copyright (c) 2023
 *
 *   Licensed under the Business Source License, Version 1.1 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   https://github.com/FgForrest/evitaDB/blob/main/LICENSE
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

import{p as oe,h as M,s as Le,i as C,j as Yt,k as ge,l as cn,n as dn,q as Jl,b as Se,t as He,v as eo,x as pn,y as ce,d as Pe,V as Zn,e as d,z as pe,A as ha,m as at,B as $t,C as Ke,D as to,E as Cr,F as Er,G as Dr,a as fn,u as ao,c as mn,H as xr,I as ja,J as Lr,K as no,L as Ir,M as ro,N as Rr,O as lo,P as Vr,Q as ga,R as $r,T as oo,S as le,U as Q,W as Ya,f as T,w as y,o as S,X as N,Y as hn,Z as Ka,$ as I,a0 as _e,a1 as st,a2 as va,a3 as ya,_ as ue,a4 as re,a5 as Z,a6 as Nr,a7 as Ze,a8 as ba,a9 as te,aa as Je,ab as et,ac as io,ad as so,ae as uo,af as co,ag as po,ah as fo,ai as mo,aj as ho,ak as go,al as vo,am as yo,an as bo,ao as _o,ap as So,aq as Oo,ar as wo,as as To,at as ko,au as Kt,av as Y,aw as R,ax as Po,ay as _a,az as Sa,aA as bt,aB as gn,aC as la,aD as Ao,aE as Br,aF as Co,aG as Eo,aH as Do,aI as xo,aJ as Lo,aK as Io,aL as Mr,aM as Ro,aN as Gr,aO as Vo,aP as $o,aQ as No,aR as Ur,aS as Bo,aT as Fr,aU as Mo,aV as vn,aW as yn,aX as se,aY as we,aZ as De,a_ as It,a$ as bn,b0 as Go,b1 as _n,b2 as Oa,b3 as Uo,b4 as Fo,b5 as Qe,b6 as Xe,b7 as Ot,b8 as Wo,b9 as zo,ba as Wr,bb as Ho,bc as qo,bd as Qo,be as Xo,bf as Jn,bg as zr,bh as jo,bi as Be,bj as Zt,bk as F,bl as tt,bm as Za,bn as Jt,bo as Yo,bp as Ko,bq as je,br as qe,bs as Sn,bt as Zo,bu as Jo,bv as er,bw as Ja,bx as en,by as zt,bz as ei,bA as vt,bB as ti,bC as ai,bD as tr,bE as Hr,bF as ni,bG as qr,bH as Qr,bI as Oe,bJ as ri,bK as li,bL as Xr,bM as oi,bN as ii,bO as si,bP as ui,bQ as $e,bR as On,bS as ci,bT as di,bU as Te,bV as pi,bW as fi,bX as mi,bY as yt,bZ as hi,b_ as gi,b$ as ar,c0 as vi,c1 as yi,c2 as bi,c3 as _i,c4 as Si,c5 as tn,c6 as an,c7 as Oi,c8 as wi,c9 as Ti,ca as ki,cb as nr,cc as Pi,cd as Ai,ce as Ci,cf as Ei,cg as Di,ch as xi,ci as Li,cj as Ii,ck as Ri,cl as Vi,cm as $i,cn as Ni}from"./index-3a3d5162.js";import{a as jr,u as Yr,b as Bi}from"./layout-e2e78027.js";const Mi=oe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Gi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=e;let n=0;const r=M(null),l=Le(0),o=Le(0),i=Le(0),s=Le(!1),c=Le(!1),u=C(()=>Number(t.scrollThreshold)),f=C(()=>Yt((u.value-l.value)/u.value||0)),g=()=>{const h=r.value;!h||a&&!a.value||(n=l.value,l.value="window"in h?h.pageYOffset:h.scrollTop,c.value=l.value<n,i.value=Math.abs(l.value-u.value))};return ge(c,()=>{o.value=o.value||l.value}),ge(s,()=>{o.value=0}),cn(()=>{ge(()=>t.scrollTarget,h=>{var _;const p=h?document.querySelector(h):window;p&&p!==r.value&&((_=r.value)==null||_.removeEventListener("scroll",g),r.value=p,r.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),dn(()=>{var h;(h=r.value)==null||h.removeEventListener("scroll",g)}),a&&ge(a,g,{immediate:!0}),{scrollThreshold:u,currentScroll:l,currentThreshold:i,isScrollActive:s,scrollRatio:f,isScrollingUp:c,savedScroll:o}}const Ui=oe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Jl(),...jr(),...Mi(),height:{type:[Number,String],default:64}},"VAppBar"),Fi=Se()({name:"VAppBar",props:Ui(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:a}=e;const n=M(),r=He(t,"modelValue"),l=C(()=>{var w;const v=new Set(((w=t.scrollBehavior)==null?void 0:w.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),o=C(()=>{const v=l.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!r.value}),{currentScroll:i,scrollThreshold:s,isScrollingUp:c,scrollRatio:u}=Gi(t,{canScroll:o}),f=C(()=>t.collapse||l.value.collapse&&(l.value.inverted?u.value>0:u.value===0)),g=C(()=>t.flat||l.value.elevate&&(l.value.inverted?i.value>0:i.value===0)),h=C(()=>l.value.fadeImage?l.value.inverted?1-u.value:u.value:void 0),p=C(()=>{var E,P;if(l.value.hide&&l.value.inverted)return 0;const v=((E=n.value)==null?void 0:E.contentHeight)??0,w=((P=n.value)==null?void 0:P.extensionHeight)??0;return v+w});eo(C(()=>!!t.scrollBehavior),()=>{ha(()=>{l.value.hide?l.value.inverted?r.value=i.value>s.value:r.value=c.value||i.value<s.value:r.value=!0})});const{ssrBootStyles:_}=pn(),{layoutItemStyles:b}=Yr({id:t.name,order:C(()=>parseInt(t.order,10)),position:ce(t,"location"),layoutSize:p,elementSize:Le(void 0),active:r,absolute:ce(t,"absolute")});return Pe(()=>{const[v]=Zn.filterProps(t);return d(Zn,pe({ref:n,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...b.value,"--v-toolbar-image-opacity":h.value,height:void 0,..._.value},t.style]},v,{collapse:f.value,flat:g.value}),a)}),{}}}),Wi=oe({start:Boolean,end:Boolean,...at(),...$t()},"VListItemAction"),Kr=Se()({name:"VListItemAction",props:Wi(),setup(t,e){let{slots:a}=e;return Pe(()=>d(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},a)),{}}}),zi="/lab/logo.png?raw=true",Hi="/lab/documentation.svg",qi="/lab/discord.svg",Qi="/lab/github.svg";function Xi(t){let{rootEl:e,isSticky:a,layoutItemStyles:n}=t;const r=Le(!1),l=Le(0),o=C(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:Ke(l.value)}:{top:n.value.top}]});cn(()=>{ge(a,c=>{c?window.addEventListener("scroll",s,{passive:!0}):window.removeEventListener("scroll",s)},{immediate:!0})}),dn(()=>{window.removeEventListener("scroll",s)});let i=0;function s(){const c=i>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),f=parseFloat(n.value.top??0),g=window.scrollY-Math.max(0,l.value-f),h=u.height+Math.max(l.value,f)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-f?(r.value="top",l.value=f):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(l.value=window.scrollY+u.top-p,r.value=!0):c==="down"&&h<=0?(l.value=0,r.value="bottom"):c==="up"&&g<=0&&(p?r.value!=="top"&&(l.value=-g+p+f,r.value="top"):(l.value=u.top+g,r.value="top")),i=window.scrollY}return{isStuck:r,stickyStyles:o}}const ji=100,Yi=20;function rr(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function lr(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let a=t.length-1;a>0;a--){if(t[a].t===t[a-1].t)continue;const n=rr(e),r=(t[a].d-t[a-1].d)/(t[a].t-t[a-1].t);e+=(r-n)*Math.abs(r),a===t.length-1&&(e*=.5)}return rr(e)*1e3}function Ki(){const t={};function e(r){Array.from(r.changedTouches).forEach(l=>{(t[l.identifier]??(t[l.identifier]=new to(Yi))).push([r.timeStamp,l])})}function a(r){Array.from(r.changedTouches).forEach(l=>{delete t[l.identifier]})}function n(r){var c;const l=(c=t[r])==null?void 0:c.values().reverse();if(!l)throw new Error(`No samples for touch id ${r}`);const o=l[0],i=[],s=[];for(const u of l){if(o[0]-u[0]>ji)break;i.push({t:u[0],d:u[1].clientX}),s.push({t:u[0],d:u[1].clientY})}return{x:lr(i),y:lr(s),get direction(){const{x:u,y:f}=this,[g,h]=[Math.abs(u),Math.abs(f)];return g>h&&u>=0?"right":g>h&&u<=0?"left":h>g&&f>=0?"down":h>g&&f<=0?"up":Zi()}}}return{addMovement:e,endTouch:a,getVelocity:n}}function Zi(){throw new Error}function Ji(t){let{isActive:e,isTemporary:a,width:n,touchless:r,position:l}=t;cn(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),dn(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",E)});const o=C(()=>["left","right"].includes(l.value)),{addMovement:i,endTouch:s,getVelocity:c}=Ki();let u=!1;const f=Le(!1),g=Le(0),h=Le(0);let p;function _(O,A){return(l.value==="left"?O:l.value==="right"?document.documentElement.clientWidth-O:l.value==="top"?O:l.value==="bottom"?document.documentElement.clientHeight-O:ht())-(A?n.value:0)}function b(O){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const x=l.value==="left"?(O-h.value)/n.value:l.value==="right"?(document.documentElement.clientWidth-O-h.value)/n.value:l.value==="top"?(O-h.value)/n.value:l.value==="bottom"?(document.documentElement.clientHeight-O-h.value)/n.value:ht();return A?Math.max(0,Math.min(1,x)):x}function v(O){if(r.value)return;const A=O.changedTouches[0].clientX,x=O.changedTouches[0].clientY,U=25,B=l.value==="left"?A<U:l.value==="right"?A>document.documentElement.clientWidth-U:l.value==="top"?x<U:l.value==="bottom"?x>document.documentElement.clientHeight-U:ht(),L=e.value&&(l.value==="left"?A<n.value:l.value==="right"?A>document.documentElement.clientWidth-n.value:l.value==="top"?x<n.value:l.value==="bottom"?x>document.documentElement.clientHeight-n.value:ht());(B||L||e.value&&a.value)&&(u=!0,p=[A,x],h.value=_(o.value?A:x,e.value),g.value=b(o.value?A:x),s(O),i(O))}function w(O){const A=O.changedTouches[0].clientX,x=O.changedTouches[0].clientY;if(u){if(!O.cancelable){u=!1;return}const B=Math.abs(A-p[0]),L=Math.abs(x-p[1]);(o.value?B>L&&B>3:L>B&&L>3)?(f.value=!0,u=!1):(o.value?L:B)>3&&(u=!1)}if(!f.value)return;O.preventDefault(),i(O);const U=b(o.value?A:x,!1);g.value=Math.max(0,Math.min(1,U)),U>1?h.value=_(o.value?A:x,!0):U<0&&(h.value=_(o.value?A:x,!1))}function E(O){if(u=!1,!f.value)return;i(O),f.value=!1;const A=c(O.changedTouches[0].identifier),x=Math.abs(A.x),U=Math.abs(A.y);(o.value?x>U&&x>400:U>x&&U>3)?e.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||ht()):e.value=g.value>.5}const P=C(()=>f.value?{transform:l.value==="left"?`translateX(calc(-100% + ${g.value*n.value}px))`:l.value==="right"?`translateX(calc(100% - ${g.value*n.value}px))`:l.value==="top"?`translateY(calc(-100% + ${g.value*n.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${g.value*n.value}px))`:ht(),transition:"none"}:void 0);return{isDragging:f,dragProgress:g,dragStyles:P}}function ht(){throw new Error}const es=["start","end","left","right","top","bottom"],ts=oe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>es.includes(t)},sticky:Boolean,...Cr(),...at(),...Er(),...jr(),...Dr(),...$t({tag:"nav"}),...fn()},"VNavigationDrawer"),Zr=Se()({name:"VNavigationDrawer",props:ts(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:a,emit:n,slots:r}=e;const{isRtl:l}=ao(),{themeClasses:o}=mn(t),{borderClasses:i}=xr(t),{backgroundColorClasses:s,backgroundColorStyles:c}=ja(ce(t,"color")),{elevationClasses:u}=Lr(t),{mobile:f}=no(),{roundedClasses:g}=Ir(t),h=ro(),p=He(t,"modelValue",null,D=>!!D),{ssrBootStyles:_}=pn(),{scopeId:b}=Rr(),v=M(),w=Le(!1),E=C(()=>t.rail&&t.expandOnHover&&w.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),P=C(()=>lo(t.location,l.value)),O=C(()=>!t.permanent&&(f.value||t.temporary)),A=C(()=>t.sticky&&!O.value&&P.value!=="bottom");t.expandOnHover&&t.rail!=null&&ge(w,D=>n("update:rail",!D)),t.disableResizeWatcher||ge(O,D=>!t.permanent&&$r(()=>p.value=!D)),!t.disableRouteWatcher&&h&&ge(h.currentRoute,()=>O.value&&(p.value=!1)),ge(()=>t.permanent,D=>{D&&(p.value=!0)}),Vr(()=>{t.modelValue!=null||O.value||(p.value=t.permanent||!f.value)});const{isDragging:x,dragProgress:U,dragStyles:B}=Ji({isActive:p,isTemporary:O,width:E,touchless:ce(t,"touchless"),position:P}),L=C(()=>{const D=O.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):E.value;return x.value?D*U.value:D}),{layoutItemStyles:z,layoutItemScrimStyles:j}=Yr({id:t.name,order:C(()=>parseInt(t.order,10)),position:P,layoutSize:L,elementSize:E,active:C(()=>p.value||x.value),disableTransitions:C(()=>x.value),absolute:C(()=>t.absolute||A.value&&typeof J.value!="string")}),{isStuck:J,stickyStyles:me}=Xi({rootEl:v,isSticky:A,layoutItemStyles:z}),ee=ja(C(()=>typeof t.scrim=="string"?t.scrim:null)),de=C(()=>({...x.value?{opacity:U.value*.2,transition:"none"}:void 0,...j.value}));ga({VList:{bgColor:"transparent"}});function Ae(){w.value=!0}function G(){w.value=!1}return Pe(()=>{const D=r.image||t.image;return d(le,null,[d(t.tag,pe({ref:v,onMouseenter:Ae,onMouseleave:G,class:["v-navigation-drawer",`v-navigation-drawer--${P.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":w.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":O.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":A.value},o.value,s.value,i.value,u.value,g.value,t.class],style:[c.value,z.value,B.value,_.value,me.value,t.style]},b,a),{default:()=>{var H,W,ae,X;return[D&&d("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(H=r.image)==null?void 0:H.call(r,{image:t.image}):d("img",{src:t.image,alt:""},null)]),r.prepend&&d("div",{class:"v-navigation-drawer__prepend"},[(W=r.prepend)==null?void 0:W.call(r)]),d("div",{class:"v-navigation-drawer__content"},[(ae=r.default)==null?void 0:ae.call(r)]),r.append&&d("div",{class:"v-navigation-drawer__append"},[(X=r.append)==null?void 0:X.call(r)])]}}),d(oo,{name:"fade-transition"},{default:()=>[O.value&&(x.value||p.value)&&!!t.scrim&&d("div",pe({class:["v-navigation-drawer__scrim",ee.backgroundColorClasses.value],style:[de.value,ee.backgroundColorStyles.value],onClick:()=>p.value=!1},b),null)]})])}),{isStuck:J}}}),wn=t=>(va("data-v-4cc0427b"),t=t(),ya(),t),as={class:"lab-logo"},ns={href:"https://github.com/lukashornych/evitalab",target:"_blank"},rs={class:"lab-nav-links"},ls={href:"https://evitadb.io/documentation",target:"_blank"},os=wn(()=>N("img",{src:Hi,alt:"evitaDB Documentation"},null,-1)),is={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},ss=wn(()=>N("img",{src:qi,alt:"Discord icon"},null,-1)),us={href:"https://github.com/lukashornych/evitalab",target:"_blank"},cs=wn(()=>N("img",{src:Qi,alt:"GitHub icon"},null,-1)),ds=Q({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(t,{emit:e}){const a=M([{title:"Explorer",value:Ya.Explorer,props:{prependIcon:"mdi-connection"}}]);function n(r){r.value?e("update:panel",r.id):e("update:panel",null)}return(r,l)=>(S(),T(Zr,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:y(()=>[N("div",as,[N("a",ns,[d(Ka,{size:"30px"},{default:y(()=>[d(hn,{alt:"evitaLab Logo",width:"30px",height:"30px",src:zi})]),_:1})])])]),append:y(()=>[N("ul",rs,[N("li",null,[N("a",ls,[os,d(_e,{activator:"parent"},{default:y(()=>[I(" evitaDB documentation ")]),_:1})])]),N("li",null,[N("a",is,[ss,d(_e,{activator:"parent"},{default:y(()=>[I(" Discord ")]),_:1})])]),N("li",null,[N("a",us,[cs,d(_e,{activator:"parent"},{default:y(()=>[I(" Give us a ⭐️ on GitHub ")]),_:1})])])])]),default:y(()=>[d(st,{density:"compact",nav:"",items:a.value,selected:[r.panel],"onClick:select":n,class:"connection-explorer"},null,8,["items","selected"])]),_:1}))}});const ps=ue(ds,[["__scopeId","data-v-4cc0427b"]]),fs=t=>(va("data-v-1bfb882e"),t=t(),ya(),t),ms={class:"tree-view-item__content"},hs={class:"text-truncate"},gs=fs(()=>N("span",{class:"text-disabled"}," No items found ",-1)),vs=Q({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(t,{emit:e}){const a=t,n=M(!1);function r(){a.actions&&a.actions.length>0&&(n.value=!0)}return(l,o)=>(S(),T(et,{"prepend-icon":null,"append-icon":null,onContextmenu:Je(r,["prevent"])},{default:y(()=>[N("div",ms,[l.openable?(S(),T(re,{key:0},{default:y(()=>[I(Z(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(S(),T(re,{key:1})),l.loading?(S(),T(Nr,{key:2})):(S(),T(re,{key:3},{default:y(()=>[I(Z(l.prependIcon),1)]),_:1})),N("span",hs,[Ze(l.$slots,"default",{},()=>[gs],!0)]),l.actions&&l.actions.length>0?(S(),T(ba,{key:4,"menu-items":l.actions,modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=i=>n.value=i)},{activator:y(({props:i})=>[d(re,pe(i,{class:"text-gray-light"}),{default:y(()=>[I(" mdi-dots-vertical ")]),_:2},1040)]),default:y(()=>[d(st,{density:"compact",items:l.actions,"onClick:select":o[0]||(o[0]=i=>l.$emit("click:action",i.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):te("",!0)])]),_:3},8,["onContextmenu"]))}});const oa=ue(vs,[["__scopeId","data-v-1bfb882e"]]),ys=Q({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(t,{emit:e}){const a=t,n=[io(),so(),uo(),co(),po(),fo(mo,{fallback:!0}),ho(),go(),vo(),yo(),bo(),_o.of([{key:"Enter",run:()=>(e("execute"),!0)},...So,...Oo,...wo,...To,...ko]),Kt.transactionFilter.of(r=>r.newDoc.lines>1?[]:r),...a.additionalExtensions];return(r,l)=>(S(),Y("div",{class:_a(["cm-oneline",{"cm-oneline--with-prepend-icon":r.prependInnerIcon}])},[r.prependInnerIcon?(S(),T(re,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:y(()=>[I(Z(r.prependInnerIcon),1)]),_:1})):te("",!0),d(R(Po),{"model-value":r.modelValue,extensions:n,placeholder:r.placeholder,disabled:r.disabled,"onUpdate:modelValue":l[0]||(l[0]=o=>r.$emit("update:modelValue",o)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const or=ue(ys,[["__scopeId","data-v-7a3a965d"]]);const Tn=Se()({name:"VCardActions",props:at(),setup(t,e){let{slots:a}=e;return ga({VBtn:{variant:"text"}}),Pe(()=>{var n;return d("div",{class:["v-card-actions",t.class],style:t.style},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),bs=Sa("v-card-subtitle"),Rt=Sa("v-card-title"),_s=oe({appendAvatar:String,appendIcon:bt,prependAvatar:String,prependIcon:bt,subtitle:String,title:String,...at(),...gn()},"VCardItem"),Ss=Se()({name:"VCardItem",props:_s(),setup(t,e){let{slots:a}=e;return Pe(()=>{var c;const n=!!(t.prependAvatar||t.prependIcon),r=!!(n||a.prepend),l=!!(t.appendAvatar||t.appendIcon),o=!!(l||a.append),i=!!(t.title||a.title),s=!!(t.subtitle||a.subtitle);return d("div",{class:["v-card-item",t.class],style:t.style},[r&&d("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?d(la,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},a.prepend):n&&d(Ka,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),d("div",{class:"v-card-item__content"},[i&&d(Rt,{key:"title"},{default:()=>{var u;return[((u=a.title)==null?void 0:u.call(a))??t.title]}}),s&&d(bs,{key:"subtitle"},{default:()=>{var u;return[((u=a.subtitle)==null?void 0:u.call(a))??t.subtitle]}}),(c=a.default)==null?void 0:c.call(a)]),o&&d("div",{key:"append",class:"v-card-item__append"},[a.append?d(la,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},a.append):l&&d(Ka,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),Nt=Sa("v-card-text"),Os=oe({appendAvatar:String,appendIcon:bt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:bt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Cr(),...at(),...gn(),...Ao(),...Er(),...Br(),...Co(),...Eo(),...Dr(),...Do(),...$t(),...fn(),...xo({variant:"elevated"})},"VCard"),wa=Se()({name:"VCard",directives:{Ripple:Lo},props:Os(),setup(t,e){let{attrs:a,slots:n}=e;const{themeClasses:r}=mn(t),{borderClasses:l}=xr(t),{colorClasses:o,colorStyles:i,variantClasses:s}=Io(t),{densityClasses:c}=Mr(t),{dimensionStyles:u}=Ro(t),{elevationClasses:f}=Lr(t),{loaderClasses:g}=Gr(t),{locationStyles:h}=Vo(t),{positionClasses:p}=$o(t),{roundedClasses:_}=Ir(t),b=No(t,a),v=C(()=>t.link!==!1&&b.isLink.value),w=C(()=>!t.disabled&&t.link!==!1&&(t.link||b.isClickable.value));return Pe(()=>{const E=v.value?"a":t.tag,P=!!(n.title||t.title),O=!!(n.subtitle||t.subtitle),A=P||O,x=!!(n.append||t.appendAvatar||t.appendIcon),U=!!(n.prepend||t.prependAvatar||t.prependIcon),B=!!(n.image||t.image),L=A||U||x,z=!!(n.text||t.text);return Ur(d(E,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":w.value},r.value,l.value,o.value,c.value,f.value,g.value,p.value,_.value,s.value,t.class],style:[i.value,u.value,h.value,t.style],href:b.href.value,onClick:w.value&&b.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var j;return[B&&d("div",{key:"image",class:"v-card__image"},[n.image?d(la,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):d(hn,{key:"image-img",cover:!0,src:t.image},null)]),d(Fr,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:n.loader}),L&&d(Ss,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),z&&d(Nt,{key:"text"},{default:()=>{var J;return[((J=n.text)==null?void 0:J.call(n))??t.text]}}),(j=n.default)==null?void 0:j.call(n),n.actions&&d(Tn,null,{default:n.actions}),Mo(w.value,"v-card")]}}),[[Bo("ripple"),w.value&&t.ripple]])}),{}}}),ws={class:"title-container"},Ts={class:"title-container__actions"},ks=Q({__name:"VCardTitleWithActions",setup(t){return(e,a)=>(S(),T(Rt,null,{default:y(()=>[N("div",ws,[N("span",null,[Ze(e.$slots,"default",{},void 0,!0)]),N("div",Ts,[Ze(e.$slots,"actions",{},void 0,!0)])])]),_:3}))}});const Jr=ue(ks,[["__scopeId","data-v-d57f233d"]]),Ps={};function As(t,e){return S(),T(et,{disabled:""},{title:y(()=>[I(" No items found for searched term. ")]),_:1})}const Cs=ue(Ps,[["render",As]]),Es=Q({__name:"LabEditorDataGridPropertySelectorSection",props:{gridProps:{},title:{},propertyType:{},selected:{},filteredPropertyDescriptors:{},propertyDescriptors:{},selection:{}},emits:["toggle"],setup(t,{emit:e}){const a=t;function n(){a.selection!==we.None?e("toggle",we.None):e("toggle",we.All)}return(r,l)=>r.propertyDescriptors.length>0?(S(),T(bn,{key:0,value:r.propertyType},{activator:y(({props:o})=>[d(et,vn(yn(o)),{prepend:y(()=>[d(Kr,{start:""},{default:y(()=>[d(se,{icon:"",variant:"text",onClick:Je(n,["stop"])},{default:y(()=>[r.selection===R(we).None?(S(),T(re,{key:0,class:"partial-selection"},{default:y(()=>[I(" mdi-checkbox-blank-outline ")]),_:1})):r.selection===R(we).Some?(S(),T(re,{key:1,class:"partial-selection"},{default:y(()=>[I(" mdi-minus-box ")]),_:1})):r.selection===R(we).All?(S(),T(re,{key:2},{default:y(()=>[I("mdi-checkbox-marked")]),_:1})):te("",!0)]),_:1},8,["onClick"])]),_:1})]),title:y(()=>[I(Z(r.title)+" ("+Z(r.selected.length||0)+"/"+Z(r.propertyDescriptors.length)+") ",1)]),_:2},1040)]),default:y(()=>[r.filteredPropertyDescriptors.length>0?(S(!0),Y(le,{key:0},De(r.filteredPropertyDescriptors,(o,i)=>(S(),Y(le,{key:o.key.toString()},[Ze(r.$slots,"default",{property:o},void 0,!0),i<r.filteredPropertyDescriptors.length-1?(S(),T(It,{key:0,inset:""})):te("",!0)],64))),128)):(S(),T(Cs,{key:1}))]),_:3},8,["value"])):te("",!0)}});const Ht=ue(Es,[["__scopeId","data-v-ca267691"]]),Ds={class:"item-title"},xs={class:"item-description"},Ls=Q({__name:"LabEditorDataGridPropertySelectorSectionItem",props:{value:{},title:{},description:{default:void 0},flags:{default:()=>[]},openable:{type:Boolean,default:!1}},emits:["schemaOpen"],setup(t,{emit:e}){return(a,n)=>(S(),T(et,{value:a.value},Go({prepend:y(({isActive:r})=>[d(Kr,{start:""},{default:y(()=>[d(Oa,{"model-value":r},null,8,["model-value"])]),_:2},1024)]),title:y(()=>[N("div",Ds,[N("span",null,Z(a.title),1),a.flags?(S(),T(Uo,{key:0},{default:y(()=>[(S(!0),Y(le,null,De(a.flags,r=>(S(),T(Fo,{key:r,class:"text-sm-body-2"},{default:y(()=>[I(Z(r),1)]),_:2},1024))),128))]),_:1})):te("",!0)])]),_:2},[a.description?{name:"subtitle",fn:y(()=>[N("div",xs,[I(Z(a.description)+" ",1),d(_e,{activator:"parent","max-width":"500"},{default:y(()=>[d(_n,{source:a.description},null,8,["source"])]),_:1})])]),key:"0"}:void 0,a.openable?{name:"append",fn:y(()=>[d(se,{icon:"",variant:"text",onClick:n[0]||(n[0]=Je(r=>e("schemaOpen"),["stop"]))},{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-open-in-new")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Open schema ")]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["value"]))}});const Ta=ue(Ls,[["__scopeId","data-v-b84cb9e8"]]),Is=Q({__name:"LabEditorDataGridPropertySelectorSectionAttributeItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Qe(),r=Xe(),l=n.getAttributeSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Ot(a.gridProps.params.dataPointer.connection,new Wo(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),T(Ta,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:R(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),Rs=Q({__name:"LabEditorDataGridPropertySelectorSectionAssociatedDataItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Qe(),r=Xe(),l=n.getAssociatedDataSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Ot(a.gridProps.params.dataPointer.connection,new zo(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),T(Ta,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:R(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),Vs=Q({__name:"LabEditorDataGridPropertySelectorSectionEntityItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Xe();function r(){n.createTabRequest(new Ot(a.gridProps.params.dataPointer.connection,new Wr(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType))),e("schemaOpen")}return(l,o)=>(S(),T(Ta,{value:l.propertyDescriptor.key,title:l.propertyDescriptor.title,openable:"",onSchemaOpen:r},null,8,["value","title"]))}}),$s=Q({__name:"LabEditorDataGridPropertySelectorSectionReferenceItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Qe(),r=Xe(),l=n.getReferenceSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Ot(a.gridProps.params.dataPointer.connection,new Ho(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),T(Ta,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:R(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),Ns={name:"Hotkeys",data:()=>({supportedShortcuts:[]}),props:{shortcuts:{type:Array,required:!0},debug:{type:Boolean,default:!1}},methods:{onUseKeyboardShortcuts(t){const e=t.keyCode||t.which,a=window.navigator.platform.match("Mac")?t.metaKey:t.ctrlKey,n=this.supportedShortcuts.some(({keyCode:r})=>r===e);if(a&&n){const{keyString:r}=this.supportedShortcuts.find(({keyCode:l})=>l===e);this.debug&&console.log(`CMD (CTRL) + ${r} (${e}) pressed`),this.$emit("triggered",{key:e,keyString:r}),t.preventDefault()}}},created(){this.shortcuts&&this.shortcuts.length&&this.shortcuts.forEach(t=>{t&&(t=="ArrowLeft"?this.supportedShortcuts.push({keyString:t,keyCode:37}):t=="ArrowRight"?this.supportedShortcuts.push({keyString:t,keyCode:39}):t=="ArrowUp"?this.supportedShortcuts.push({keyString:t,keyCode:38}):t=="ArrowDown"?this.supportedShortcuts.push({keyString:t,keyCode:40}):this.supportedShortcuts.push({keyString:t,keyCode:t.charCodeAt(0)}))})},mounted(){document.addEventListener("keydown",this.onUseKeyboardShortcuts,!1),this.debug&&console.log("Vue Keyboard Shortcuts ENABLED")},beforeDestroy(){document.removeEventListener("keydown",this.onUseKeyboardShortcuts),this.debug&&console.log("Vue Keyboard Shortcuts DISABLED")}};function Bs(t,e,a,n,r,l){return null}const Ms=ue(Ns,[["render",Bs]]);const Gs=oe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...qo({origin:"center center",scrollStrategy:"block",transition:{component:Qo},zIndex:2400})},"VDialog"),kn=Se()({name:"VDialog",props:Gs(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:a}=e;const n=He(t,"modelValue"),{scopeId:r}=Rr(),l=M();function o(s){var f,g;const c=s.relatedTarget,u=s.target;if(c!==u&&((f=l.value)!=null&&f.contentEl)&&((g=l.value)!=null&&g.globalTop)&&![document,l.value.contentEl].includes(u)&&!l.value.contentEl.contains(u)){const h=jo(l.value.contentEl);if(!h.length)return;const p=h[0],_=h[h.length-1];c===p?_.focus():p.focus()}}Xo&&ge(()=>n.value&&t.retainFocus,s=>{s?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),ge(n,async s=>{var c,u;await $r(),s?(c=l.value.contentEl)==null||c.focus({preventScroll:!0}):(u=l.value.activatorEl)==null||u.focus({preventScroll:!0})});const i=C(()=>pe({"aria-haspopup":"dialog","aria-expanded":String(n.value)},t.activatorProps));return Pe(()=>{const[s]=Jn.filterProps(t);return d(Jn,pe({ref:l,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},s,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,"aria-modal":"true",activatorProps:i.value,role:"dialog"},r),{activator:a.activator,default:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return d(la,{root:"VDialog"},{default:()=>{var g;return[(g=a.default)==null?void 0:g.call(a,...u)]}})}})}),zr({},l)}}),Us=Q({__name:"LabEditorDataGridPropertySelector",props:{gridProps:{},modelValue:{type:Boolean},selected:{},propertyDescriptors:{}},emits:["update:modelValue","update:selected","schemaOpen"],setup(t,{emit:e}){const a=t,n=Be(),r=M(""),l=M(null),o=C(()=>{const h=new Map;return a.propertyDescriptors.forEach(p=>{var _;h.has(p.type)||h.set(p.type,[]),(_=h.get(p.type))==null||_.push(p)}),h}),i=C(()=>{const h=new Map;for(const[p,_]of o.value){const b=_.filter(v=>v.title.toLowerCase().includes(r.value));h.set(p,b)}return h}),s=C(()=>{const h=new Map;return a.selected.forEach(p=>{var _;h.has(p.type)||h.set(p.type,[]),(_=h.get(p.type))==null||_.push(p)}),h}),c=C(()=>{var p;const h=new Map;for(const[_,b]of s.value){let v;b.length===0?v=we.None:b.length===((p=o.value.get(_))==null?void 0:p.length)?v=we.All:v=we.Some,h.set(_,v)}return h}),u=M([]);function f(h){if(r.value=h.toLowerCase(),h.length===0)u.value=[];else{const p=[];i.value.size>0&&((i.value.get(F.Entity)||[]).length>0&&p.push(F.Entity),(i.value.get(F.Attributes)||[]).length>0&&p.push(F.Attributes),(i.value.get(F.AssociatedData)||[]).length>0&&p.push(F.AssociatedData),(i.value.get(F.References)||[]).length>0&&p.push(F.References)),u.value=p}}function g(h,p){var _;if(p===we.None){const b=a.selected.filter(v=>v.type!==h);e("update:selected",b)}else if(p===we.All){const b=((_=o.value.get(h))==null?void 0:_.map(w=>w.key))||[],v=a.selected.filter(w=>w.type!==h);v.push(...b),e("update:selected",v)}else n.error(new tt(a.gridProps.params.dataPointer.connection,"Cannot select `Some` properties in a section."))}return(h,p)=>(S(),T(kn,{"model-value":h.modelValue,"onUpdate:modelValue":p[14]||(p[14]=_=>e("update:modelValue",_)),"max-width":"60rem",scrollable:""},{activator:y(({props:_})=>[d(se,pe({icon:"",density:"comfortable"},_),{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-view-column-outline")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Select displayed properties ")]),_:1})]),_:2},1040)]),default:y(()=>[d(wa,{class:"py-8 px-4"},{default:y(()=>[d(Jr,null,{default:y(()=>[I(" Displayed properties ")]),actions:y(()=>[d(se,{icon:"",variant:"flat",density:"compact",onClick:p[0]||(p[0]=_=>e("update:modelValue",!1))},{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-close")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Close selector ")]),_:1})]),_:1})]),_:1}),d(Nt,{class:"selector-body pt-0 pl-4 mt-4"},{default:y(()=>[d(Ms,{shortcuts:["F"],onTriggered:p[1]||(p[1]=_=>{var b;return(b=l.value)==null?void 0:b.select()})}),d(Zt,{ref_key:"filterInput",ref:l,"model-value":r.value,label:"Filter properties",variant:"solo-filled",density:"compact",autofocus:"","append-inner-icon":r.value?"mdi-close-circle-outline":null,"onUpdate:modelValue":p[2]||(p[2]=_=>f(_)),"onClick:appendInner":p[3]||(p[3]=_=>f("")),class:"filter-input"},null,8,["model-value","append-inner-icon"]),d(st,{selected:h.selected,"onUpdate:selected":p[12]||(p[12]=_=>e("update:selected",_)),opened:u.value,"onUpdate:opened":p[13]||(p[13]=_=>u.value=_),lines:"two","open-strategy":"multiple","select-strategy":"classic",class:"property-list"},{default:y(()=>[d(Ht,{"grid-props":h.gridProps,title:"Entity","property-type":R(F).Entity,selected:s.value.get(R(F).Entity)||[],"filtered-property-descriptors":i.value.get(R(F).Entity)||[],"property-descriptors":o.value.get(R(F).Entity)||[],selection:c.value.get(R(F).Entity)||R(we).None,onToggle:p[5]||(p[5]=_=>g(R(F).Entity,_))},{default:y(({property:_})=>[d(Vs,{"grid-props":h.gridProps,"property-descriptor":_,onSchemaOpen:p[4]||(p[4]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(It),d(Ht,{"grid-props":h.gridProps,title:"Attributes","property-type":R(F).Attributes,selected:s.value.get(R(F).Attributes)||[],"filtered-property-descriptors":i.value.get(R(F).Attributes)||[],"property-descriptors":o.value.get(R(F).Attributes)||[],selection:c.value.get(R(F).Attributes)||R(we).None,onToggle:p[7]||(p[7]=_=>g(R(F).Attributes,_))},{default:y(({property:_})=>[d(Is,{"grid-props":h.gridProps,"property-descriptor":_,onSchemaOpen:p[6]||(p[6]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(It),d(Ht,{"grid-props":h.gridProps,title:"Associated data","property-type":R(F).AssociatedData,selected:s.value.get(R(F).AssociatedData)||[],"filtered-property-descriptors":i.value.get(R(F).AssociatedData)||[],"property-descriptors":o.value.get(R(F).AssociatedData)||[],selection:c.value.get(R(F).AssociatedData)||R(we).None,onToggle:p[9]||(p[9]=_=>g(R(F).AssociatedData,_))},{default:y(({property:_})=>[d(Rs,{"grid-props":h.gridProps,"property-descriptor":_,onSchemaOpen:p[8]||(p[8]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(It),d(Ht,{"grid-props":h.gridProps,title:"References","property-type":R(F).References,selected:s.value.get(R(F).References)||[],"filtered-property-descriptors":i.value.get(R(F).References)||[],"property-descriptors":o.value.get(R(F).References)||[],selection:c.value.get(R(F).References)||R(we).None,onToggle:p[11]||(p[11]=_=>g(R(F).References,_))},{default:y(({property:_})=>[d($s,{"grid-props":h.gridProps,"property-descriptor":_,onSchemaOpen:p[10]||(p[10]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"])]),_:1},8,["selected","opened"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}});const Fs=ue(Us,[["__scopeId","data-v-67875902"]]),Ws=Q({__name:"LabEditorDataGridDataLocaleSelector",props:{selected:{},dataLocales:{}},emits:["update:selected"],setup(t,{emit:e}){function a(n){if(n.length>0){const r=n[0];r==="none"?e("update:selected",void 0):e("update:selected",r)}else e("update:selected",void 0)}return(n,r)=>(S(),T(se,{icon:"",density:"comfortable"},{default:y(()=>[n.selected?(S(),T(re,{key:1},{default:y(()=>[I("mdi-translate")]),_:1})):(S(),T(re,{key:0},{default:y(()=>[I("mdi-translate-off")]),_:1})),d(_e,{activator:"parent"},{default:y(()=>[I(" Select data locale ")]),_:1}),d(ba,{activator:"parent"},{default:y(()=>[d(st,{selected:[n.selected?n.selected:"none"],density:"compact","min-width":"100","onUpdate:selected":a},{default:y(()=>[d(et,{value:"none"},{default:y(()=>[d(Za,null,{default:y(()=>[I("None")]),_:1})]),_:1}),d(It),(S(!0),Y(le,null,De(n.dataLocales,l=>(S(),T(et,{key:l,value:l},{default:y(()=>[d(Za,null,{default:y(()=>[I(Z(l),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),zs=Q({__name:"LabEditorDataGridQueryLanguageSelector",props:{selected:{}},emits:["update:selected"],setup(t,{emit:e}){const a=t,n=[{title:"EvitaQL",icon:"mdi-application-braces-outline",value:Jt.EvitaQL},{title:"GraphQL",icon:"mdi-graphql",value:Jt.GraphQL}],r=C(()=>{const l=n.find(o=>o.value===a.selected);return l?l.icon:"mdi-application-braces-outline"});return(l,o)=>(S(),T(se,{icon:"",density:"comfortable"},{default:y(()=>[d(re,null,{default:y(()=>[I(Z(r.value),1)]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I("Select query language")]),_:1}),d(ba,{activator:"parent"},{default:y(()=>[d(st,{selected:[l.selected],density:"compact","onUpdate:selected":o[0]||(o[0]=i=>e("update:selected",i.length>0?i[0]:R(Jt).EvitaQL))},{default:y(()=>[(S(),Y(le,null,De(n,i=>d(et,{key:i.value,value:i.value},{prepend:y(()=>[d(re,null,{default:y(()=>[I(Z(i.icon),1)]),_:2},1024)]),default:y(()=>[d(Za,null,{default:y(()=>[I(Z(i.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),Hs={class:"query-input"},qs={class:"query-input__input"},Qs={class:"query-input__input"},Xs=Q({__name:"LabEditorDataGridQueryInput",props:{gridProps:{},selectedQueryLanguage:{},filterBy:{},orderBy:{},dataLocales:{},selectedDataLocale:{},entityPropertyDescriptors:{},selectedEntityPropertyKeys:{}},emits:["executeQuery","update:selectedQueryLanguage","update:filterBy","update:orderBy","update:selectedDataLocale","update:selectedEntityPropertyKeys"],setup(t,{emit:e}){const a=M(!1);return(n,r)=>(S(),Y("div",Hs,[d(zs,{selected:n.selectedQueryLanguage,"onUpdate:selected":r[0]||(r[0]=l=>e("update:selectedQueryLanguage",l))},null,8,["selected"]),N("div",qs,[d(or,{"model-value":n.filterBy,"prepend-inner-icon":"mdi-filter-outline",placeholder:"Filter by","onUpdate:modelValue":r[1]||(r[1]=l=>e("update:filterBy",l)),onExecute:r[2]||(r[2]=l=>e("executeQuery")),class:"text-gray-light"},null,8,["model-value"])]),N("div",Qs,[d(or,{"model-value":n.orderBy,"prepend-inner-icon":"mdi-sort",placeholder:"Order by","onUpdate:modelValue":r[3]||(r[3]=l=>e("update:orderBy",l)),onExecute:r[4]||(r[4]=l=>e("executeQuery")),class:"text-gray-light"},null,8,["model-value"])]),d(Ws,{selected:n.selectedDataLocale,"onUpdate:selected":r[5]||(r[5]=l=>e("update:selectedDataLocale",l)),"data-locales":n.dataLocales},null,8,["selected","data-locales"]),d(Fs,{modelValue:a.value,"onUpdate:modelValue":r[6]||(r[6]=l=>a.value=l),"grid-props":n.gridProps,"property-descriptors":n.entityPropertyDescriptors,selected:n.selectedEntityPropertyKeys,"onUpdate:selected":r[7]||(r[7]=l=>e("update:selectedEntityPropertyKeys",l)),onSchemaOpen:r[8]||(r[8]=l=>a.value=!1)},null,8,["modelValue","grid-props","property-descriptors","selected"])]))}});const js=ue(Xs,[["__scopeId","data-v-60b6170b"]]),Ys=Q({__name:"LabEditorDataGridToolbar",props:{path:{},locale:{},loading:{type:Boolean}},emits:["executeQuery"],setup(t,{emit:e}){const a=t,n=C(()=>{const r=[];return a.locale&&r.push({title:a.locale,prependIcon:"mdi-translate"}),r});return(r,l)=>(S(),T(Ko,{"prepend-icon":"mdi-text-box-edit-outline",path:r.path,flags:n.value},{append:y(()=>[d(Yo,{loading:r.loading,onClick:l[0]||(l[0]=o=>e("executeQuery"))},null,8,["loading"])]),extension:y(()=>[Ze(r.$slots,"query")]),_:3},8,["path","flags"]))}});const el=oe({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),tl=Symbol.for("vuetify:data-table-pagination");function al(t){const e=He(t,"page",void 0,n=>+(n??1)),a=He(t,"itemsPerPage",void 0,n=>+(n??10));return{page:e,itemsPerPage:a}}function nl(t){const{page:e,itemsPerPage:a,itemsLength:n}=t,r=C(()=>a.value===-1?0:a.value*(e.value-1)),l=C(()=>a.value===-1?n.value:Math.min(n.value,r.value+a.value)),o=C(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));ha(()=>{e.value>o.value&&(e.value=o.value)});function i(g){a.value=g,e.value=1}function s(){e.value=Yt(e.value+1,1,o.value)}function c(){e.value=Yt(e.value-1,1,o.value)}function u(g){e.value=Yt(g,1,o.value)}const f={page:e,itemsPerPage:a,startIndex:r,stopIndex:l,pageCount:o,itemsLength:n,nextPage:s,prevPage:c,setPage:u,setItemsPerPage:i};return je(tl,f),f}function Ks(){const t=qe(tl);if(!t)throw new Error("Missing pagination!");return t}function Zs(t){const{items:e,startIndex:a,stopIndex:n,itemsPerPage:r}=t;return{paginatedItems:C(()=>r.value<=0?e.value:e.value.slice(a.value,n.value))}}const Pn=oe({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ia=Se()({name:"VDataTableFooter",props:Pn(),setup(t,e){let{slots:a}=e;const{t:n}=Sn(),{page:r,pageCount:l,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:c,setItemsPerPage:u}=Ks(),f=C(()=>t.itemsPerPageOptions.map(g=>({...g,title:n(g.title)})));return()=>{var g;return d("div",{class:"v-data-table-footer"},[(g=a.prepend)==null?void 0:g.call(a),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[n(t.itemsPerPageText)]),d(Zo,{items:f.value,modelValue:c.value,"onUpdate:modelValue":h=>u(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[n(t.pageText,s.value?o.value+1:0,i.value,s.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(se,{icon:t.firstIcon,variant:"plain",onClick:()=>r.value=1,disabled:r.value===1,"aria-label":n(t.firstPageLabel)},null),d(se,{icon:t.prevIcon,variant:"plain",onClick:()=>r.value=Math.max(1,r.value-1),disabled:r.value===1,"aria-label":n(t.prevPageLabel)},null),t.showCurrentPage&&d("span",{key:"page",class:"v-data-table-footer__page"},[r.value]),d(se,{icon:t.nextIcon,variant:"plain",onClick:()=>r.value=Math.min(l.value,r.value+1),disabled:r.value===l.value,"aria-label":n(t.nextPageLabel)},null),d(se,{icon:t.lastIcon,variant:"plain",onClick:()=>r.value=l.value,disabled:r.value===l.value,"aria-label":n(t.lastPageLabel)},null)])])}}}),An=Jo({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:a,attrs:n}=e;const r=t.tag??"td";return d(r,pe({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:Ke(t.height),width:Ke(t.width),left:Ke(t.fixedOffset||null)}},n),{default:()=>{var l;return[(l=a.default)==null?void 0:l.call(a)]}})}),Js=oe({headers:{type:Array,default:()=>[]}},"DataTable-header"),rl=Symbol.for("vuetify:data-table-headers");function ll(t,e){const a=M([]),n=M([]);ha(()=>{var h,p,_;const l=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],o=l.flatMap((b,v)=>b.map(w=>({column:w,row:v}))),i=l.length,s={title:"",sortable:!1},c={...s,width:48};if((h=e==null?void 0:e.groupBy)!=null&&h.value.length){const b=o.findIndex(v=>{let{column:w}=v;return w.key==="data-table-group"});b<0?o.unshift({column:{...s,key:"data-table-group",title:"Group",rowspan:i},row:0}):o.splice(b,1,{column:{...s,...o[b].column},row:o[b].row})}if((p=e==null?void 0:e.showSelect)!=null&&p.value){const b=o.findIndex(v=>{let{column:w}=v;return w.key==="data-table-select"});b<0?o.unshift({column:{...c,key:"data-table-select",rowspan:i},row:0}):o.splice(b,1,{column:{...c,...o[b].column},row:o[b].row})}if((_=e==null?void 0:e.showExpand)!=null&&_.value){const b=o.findIndex(v=>{let{column:w}=v;return w.key==="data-table-expand"});b<0?o.push({column:{...c,key:"data-table-expand",rowspan:i},row:0}):o.splice(b,1,{column:{...c,...o[b].column},row:o[b].row})}const u=er(i).map(()=>[]),f=er(i).fill(0);o.forEach(b=>{let{column:v,row:w}=b,E=v.key;E==null&&(E="");for(let P=w;P<=w+(v.rowspan??1)-1;P++)u[P].push({...v,key:E,fixedOffset:f[P],sortable:v.sortable??!!v.key}),f[P]+=Number(v.width??0)}),u.forEach(b=>{for(let v=b.length;v--;v>=0)if(b[v].fixed){b[v].lastFixed=!0;return}});const g=new Set;a.value=u.map(b=>{const v=[];for(const w of b)g.has(w.key)||(g.add(w.key),v.push(w));return v}),n.value=u.at(-1)??[]});const r={headers:a,columns:n};return je(rl,r),r}function ka(){const t=qe(rl);if(!t)throw new Error("Missing headers!");return t}const eu={showSelectAll:!1,allSelected:()=>[],select:t=>{var n;let{items:e,value:a}=t;return new Set(a?[(n=e[0])==null?void 0:n.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},ol={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:a,selected:n}=t;for(const r of e)a?n.add(r.value):n.delete(r.value);return n},selectAll:t=>{let{value:e,currentPage:a,selected:n}=t;return ol.select({items:a,value:e,selected:n})}},il={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:a,selected:n}=t;for(const r of e)a?n.add(r.value):n.delete(r.value);return n},selectAll:t=>{let{value:e,allItems:a,selected:n}=t;return il.select({items:a,value:e,selected:n})}},tu=oe({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),sl=Symbol.for("vuetify:data-table-selection");function ul(t,e){let{allItems:a,currentPage:n}=e;const r=He(t,"modelValue",t.modelValue,b=>new Set(b),b=>[...b.values()]),l=C(()=>a.value.filter(b=>b.selectable)),o=C(()=>n.value.filter(b=>b.selectable)),i=C(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return eu;case"all":return il;case"page":default:return ol}});function s(b){return Ja(b).every(v=>r.value.has(v.value))}function c(b){return Ja(b).some(v=>r.value.has(v.value))}function u(b,v){const w=i.value.select({items:b,value:v,selected:new Set(r.value)});r.value=w}function f(b){u([b],!s([b]))}function g(b){const v=i.value.selectAll({value:b,allItems:l.value,currentPage:o.value,selected:new Set(r.value)});r.value=v}const h=C(()=>r.value.size>0),p=C(()=>{const b=i.value.allSelected({allItems:l.value,currentPage:o.value});return s(b)}),_={toggleSelect:f,select:u,selectAll:g,isSelected:s,isSomeSelected:c,someSelected:h,allSelected:p,showSelectAll:i.value.showSelectAll};return je(sl,_),_}function Pa(){const t=qe(sl);if(!t)throw new Error("Missing selection!");return t}const au=oe({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),cl=Symbol.for("vuetify:data-table-sort");function dl(t){const e=He(t,"sortBy"),a=ce(t,"mustSort"),n=ce(t,"multiSort");return{sortBy:e,mustSort:a,multiSort:n}}function pl(t){const{sortBy:e,mustSort:a,multiSort:n,page:r}=t,l=s=>{let c=e.value.map(f=>({...f}))??[];const u=c.find(f=>f.key===s.key);u?u.order==="desc"?a.value?u.order="asc":c=c.filter(f=>f.key!==s.key):u.order="desc":n.value?c=[...c,{key:s.key,order:"asc"}]:c=[{key:s.key,order:"asc"}],e.value=c,r&&(r.value=1)};function o(s){return!!e.value.find(c=>c.key===s.key)}const i={sortBy:e,toggleSort:l,isSorted:o};return je(cl,i),i}function nu(){const t=qe(cl);if(!t)throw new Error("Missing sort!");return t}function ru(t,e,a){const n=Sn();return{sortedItems:C(()=>a.value.length?lu(e.value,a.value,n.current.value,t.customKeySort):e.value)}}function lu(t,e,a,n){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...t].sort((l,o)=>{for(let i=0;i<e.length;i++){const s=e[i].key,c=e[i].order??"asc";if(c===!1)continue;let u=en(l.raw,s),f=en(o.raw,s);if(c==="desc"&&([u,f]=[f,u]),n!=null&&n[s]){const g=n[s](u,f);if(!g)continue;return g}if(u instanceof Date&&f instanceof Date)return u.getTime()-f.getTime();if([u,f]=[u,f].map(g=>g!=null?g.toString().toLocaleLowerCase():g),u!==f)return zt(u)&&zt(f)?0:zt(u)?-1:zt(f)?1:!isNaN(u)&&!isNaN(f)?Number(u)-Number(f):r.compare(u,f)}return 0})}const fl=oe({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:bt,default:"$sortAsc"},sortDescIcon:{type:bt,default:"$sortDesc"},...Br()},"VDataTableHeaders"),sa=Se()({name:"VDataTableHeaders",props:fl(),setup(t,e){let{slots:a,emit:n}=e;const{toggleSort:r,sortBy:l,isSorted:o}=nu(),{someSelected:i,allSelected:s,selectAll:c,showSelectAll:u}=Pa(),{columns:f,headers:g}=ka(),{loaderClasses:h}=Gr(t),p=(P,O)=>{if(!(!t.sticky&&!P.fixed))return{position:"sticky",zIndex:P.fixed?4:t.sticky?3:void 0,left:P.fixed?Ke(P.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${O})`:void 0}};function _(P){const O=l.value.find(A=>A.key===P.key);return O?O.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:v}=ja(t,"color"),w=C(()=>({headers:g.value,columns:f.value,toggleSort:r,isSorted:o,sortBy:l.value,someSelected:i.value,allSelected:s.value,selectAll:c,getSortIcon:_,getFixedStyles:p})),E=P=>{let{column:O,x:A,y:x}=P;const U=O.key==="data-table-select"||O.key==="data-table-expand";return d(An,{tag:"th",align:O.align,class:["v-data-table__th",{"v-data-table__th--sortable":O.sortable,"v-data-table__th--sorted":o(O)},h.value],style:{width:Ke(O.width),minWidth:Ke(O.width),...p(O,x)},colspan:O.colspan,rowspan:O.rowspan,onClick:O.sortable?()=>r(O):void 0,lastFixed:O.lastFixed,noPadding:U},{default:()=>{var z;const B=`column.${O.key}`,L={column:O,selectAll:c,isSorted:o,toggleSort:r,sortBy:l.value,someSelected:i.value,allSelected:s.value,getSortIcon:_};return a[B]?a[B](L):O.key==="data-table-select"?((z=a["column.data-table-select"])==null?void 0:z.call(a,L))??(u&&d(Oa,{modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":c},null)):d("div",{class:"v-data-table-header__content"},[d("span",null,[O.title]),O.sortable&&d(re,{key:"icon",class:"v-data-table-header__sort-icon",icon:_(O)},null),t.multiSort&&o(O)&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:v.value},[l.value.findIndex(j=>j.key===O.key)+1])])}})};Pe(()=>d(le,null,[a.headers?a.headers(w.value):g.value.map((P,O)=>d("tr",null,[P.map((A,x)=>d(E,{column:A,x,y:O},null))])),t.loading&&d("tr",{class:"v-data-table-progress"},[d("th",{colspan:f.value.length},[d(Fr,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:a.loader})])])]))}}),ou=oe({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ml=Symbol.for("vuetify:data-table-group");function hl(t){return{groupBy:He(t,"groupBy")}}function gl(t){const{groupBy:e,sortBy:a}=t,n=M(new Set),r=C(()=>e.value.map(c=>({...c,order:c.order??!1})).concat(a.value));function l(c){return n.value.has(c.id)}function o(c){const u=new Set(n.value);l(c)?u.delete(c.id):u.add(c.id),n.value=u}function i(c){function u(f){const g=[];for(const h of f.items)"type"in h&&h.type==="group"?g.push(...u(h)):g.push(h);return g}return u({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const s={sortByWithGroups:r,toggleGroup:o,opened:n,groupBy:e,extractRows:i,isGroupOpen:l};return je(ml,s),s}function vl(){const t=qe(ml);if(!t)throw new Error("Missing group!");return t}function iu(t,e){if(!t.length)return[];const a=new Map;for(const n of t){const r=en(n.raw,e);a.has(r)||a.set(r,[]),a.get(r).push(n)}return a}function yl(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const r=iu(t,e[0]),l=[],o=e.slice(1);return r.forEach((i,s)=>{const c=e[0],u=`${n}_${c}_${s}`;l.push({depth:a,id:u,key:c,value:s,items:o.length?yl(i,o,a+1,u):i,type:"group"})}),l}function bl(t,e){const a=[];for(const n of t)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(e.has(n.id)||n.value==null)&&a.push(...bl(n.items,e))):a.push(n);return a}function _l(t,e,a){return{flatItems:C(()=>{if(!e.value.length)return t.value;const r=yl(t.value,e.value.map(l=>l.key));return bl(r,a.value)})}}const su=oe({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),uu=Se()({name:"VDataTableGroupHeaderRow",props:su(),setup(t,e){let{slots:a}=e;const{isGroupOpen:n,toggleGroup:r,extractRows:l}=vl(),{isSelected:o,isSomeSelected:i,select:s}=Pa(),{columns:c}=ka(),u=C(()=>l([t.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(f=>{var g,h;if(f.key==="data-table-group"){const p=n(t.item)?"$expand":"$next",_=()=>r(t.item);return((g=a["data-table-group"])==null?void 0:g.call(a,{item:t.item,count:u.value.length,props:{icon:p,onClick:_}}))??d(An,{class:"v-data-table-group-header-row__column"},{default:()=>[d(se,{size:"small",variant:"text",icon:p,onClick:_},null),d("span",null,[t.item.value]),d("span",null,[I("("),u.value.length,I(")")])]})}if(f.key==="data-table-select"){const p=o(u.value),_=i(u.value)&&!p,b=v=>s(u.value,v);return((h=a["data-table-select"])==null?void 0:h.call(a,{props:{modelValue:p,indeterminate:_,"onUpdate:modelValue":b}}))??d("td",null,[d(Oa,{modelValue:p,indeterminate:_,"onUpdate:modelValue":b},null)])}return d("td",null,null)})])}}),cu=oe({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Sl=Symbol.for("vuetify:datatable:expanded");function Ol(t){const e=ce(t,"expandOnClick"),a=He(t,"expanded",t.expanded,i=>new Set(i),i=>[...i.values()]);function n(i,s){const c=new Set(a.value);s?c.add(i.value):c.delete(i.value),a.value=c}function r(i){return a.value.has(i.value)}function l(i){n(i,!r(i))}const o={expand:n,expanded:a,expandOnClick:e,isExpanded:r,toggleExpand:l};return je(Sl,o),o}function wl(){const t=qe(Sl);if(!t)throw new Error("foo");return t}const du=oe({index:Number,item:Object,onClick:Function},"VDataTableRow"),pu=ei({name:"VDataTableRow",props:du(),setup(t,e){let{slots:a}=e;const{isSelected:n,toggleSelect:r}=Pa(),{isExpanded:l,toggleExpand:o}=wl(),{columns:i}=ka();Pe(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[t.item&&i.value.map((s,c)=>d(An,{align:s.align,fixed:s.fixed,fixedOffset:s.fixedOffset,lastFixed:s.lastFixed,noPadding:s.key==="data-table-select"||s.key==="data-table-expand",width:s.width},{default:()=>{var h,p;const u=t.item,f=`item.${s.key}`,g={index:t.index,item:t.item,columns:i.value,isSelected:n,toggleSelect:r,isExpanded:l,toggleExpand:o};return a[f]?a[f](g):s.key==="data-table-select"?((h=a["item.data-table-select"])==null?void 0:h.call(a,g))??d(Oa,{disabled:!u.selectable,modelValue:n([u]),onClick:Je(()=>r(u),["stop"])},null):s.key==="data-table-expand"?((p=a["item.data-table-expand"])==null?void 0:p.call(a,g))??d(se,{icon:l(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:Je(()=>o(u),["stop"])},null):vt(u.columns,s.key)}}))]))}}),Tl=oe({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),ua=Se()({name:"VDataTableRows",props:Tl(),setup(t,e){let{emit:a,slots:n}=e;const{columns:r}=ka(),{expandOnClick:l,toggleExpand:o,isExpanded:i}=wl(),{isSelected:s,toggleSelect:c}=Pa(),{toggleGroup:u,isGroupOpen:f}=vl(),{t:g}=Sn();return Pe(()=>{var h;return t.loading&&n.loading?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:r.value.length},[n.loading()])]):!t.loading&&!t.items.length&&!t.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:r.value.length},[((h=n["no-data"])==null?void 0:h.call(n))??g(t.noDataText)])]):d(le,null,[t.items.map((p,_)=>{var w;if(p.type==="group")return n["group-header"]?n["group-header"]({index:_,item:p,columns:r.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:c,toggleGroup:u,isGroupOpen:f}):d(uu,{key:`group-header_${p.id}`,item:p},n);const b={index:_,item:p,columns:r.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:c},v={...b,props:{key:`item_${p.key??p.index}`,onClick:l.value||t["onClick:row"]?E=>{var P;l.value&&o(p),(P=t["onClick:row"])==null||P.call(t,E,{item:p})}:void 0,index:_,item:p}};return d(le,null,[n.item?n.item(v):d(pu,v.props,n),i(p)&&((w=n["expanded-row"])==null?void 0:w.call(n,b))])})])}),{}}});const kl=oe({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...at(),...gn(),...$t(),...fn()},"VTable"),ca=Se()({name:"VTable",props:kl(),setup(t,e){let{slots:a}=e;const{themeClasses:n}=mn(t),{densityClasses:r}=Mr(t);return Pe(()=>d(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":t.hover},n.value,r.value,t.class],style:t.style},{default:()=>{var l,o,i;return[(l=a.top)==null?void 0:l.call(a),a.default?d("div",{class:"v-table__wrapper",style:{height:Ke(t.height)}},[d("table",null,[a.default()])]):(o=a.wrapper)==null?void 0:o.call(a),(i=a.bottom)==null?void 0:i.call(a)]}})),{}}}),fu=oe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function mu(t,e,a,n){const r=t.returnObject?e:vt(e,t.itemValue),l=vt(e,t.itemSelectable,!0),o=n.reduce((i,s)=>(i[s.key]=vt(e,s.value??s.key),i),{});return{type:"item",key:t.returnObject?vt(e,t.itemValue):r,index:a,value:r,selectable:l,columns:o,raw:e}}function hu(t,e,a){return e.map((n,r)=>mu(t,n,r,a))}function Pl(t,e){return{items:C(()=>hu(t,t.items,e.value))}}function Al(t){let{page:e,itemsPerPage:a,sortBy:n,groupBy:r,search:l}=t;const o=ti("VDataTable"),i=C(()=>({page:e.value,itemsPerPage:a.value,sortBy:n.value,groupBy:r.value,search:l.value}));ge(()=>l==null?void 0:l.value,()=>{e.value=1});let s=null;ge(i,()=>{ai(s,i.value)||(o.emit("update:options",i.value),s=i.value)},{deep:!0,immediate:!0})}const gu=(t,e,a)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),vu=oe({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function yu(t,e,a){var i;const n=[],r=(a==null?void 0:a.default)??gu,l=a!=null&&a.filterKeys?Ja(a.filterKeys):!1,o=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return n;e:for(let s=0;s<t.length;s++){const c=t[s],u={},f={};let g=-1;if(e&&!(a!=null&&a.noFilter)){if(typeof c=="object"){const _=l||Object.keys(c);for(const b of _){const v=vt(c,b,c),w=(i=a==null?void 0:a.customKeyFilter)==null?void 0:i[b];if(g=w?w(v,e,c):r(v,e,c),g!==-1&&g!==!1)w?u[b]=g:f[b]=g;else if((a==null?void 0:a.filterMode)==="every")continue e}}else g=r(c,e,c),g!==-1&&g!==!1&&(f.title=g);const h=Object.keys(f).length,p=Object.keys(u).length;if(!h&&!p||(a==null?void 0:a.filterMode)==="union"&&p!==o&&!h||(a==null?void 0:a.filterMode)==="intersection"&&(p!==o||!h))continue}n.push({index:s,matches:{...f,...u}})}return n}function bu(t,e,a,n){const r=M([]),l=M(new Map),o=C(()=>n!=null&&n.transform?R(e).map(n==null?void 0:n.transform):R(e));ha(()=>{const s=typeof a=="function"?a():R(a),c=typeof s!="string"&&typeof s!="number"?"":String(s),u=yu(o.value,c,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),f=R(e),g=[],h=new Map;u.forEach(p=>{let{index:_,matches:b}=p;const v=f[_];g.push(v),h.set(v.value,b)}),r.value=g,l.value=h});function i(s){return l.value.get(s.value)}return{filteredItems:r,filteredMatches:l,getMatches:i}}const Cl=oe({...Tl(),width:[String,Number],search:String,...cu(),...ou(),...Js(),...fu(),...tu(),...au(),...fl(),...kl()},"DataTable"),_u=oe({...el(),...Cl(),...vu(),...Pn()},"VDataTable");Se()({name:"VDataTable",props:_u(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{emit:a,slots:n}=e;const{groupBy:r}=hl(t),{sortBy:l,multiSort:o,mustSort:i}=dl(t),{page:s,itemsPerPage:c}=al(t),{columns:u,headers:f}=ll(t,{groupBy:r,showSelect:ce(t,"showSelect"),showExpand:ce(t,"showExpand")}),{items:g}=Pl(t,u),h=ce(t,"search"),{filteredItems:p}=bu(t,g,h,{transform:X=>X.columns}),{toggleSort:_}=pl({sortBy:l,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:b,opened:v,extractRows:w,isGroupOpen:E,toggleGroup:P}=gl({groupBy:r,sortBy:l}),{sortedItems:O}=ru(t,p,b),{flatItems:A}=_l(O,r,v),x=C(()=>A.value.length),{startIndex:U,stopIndex:B,pageCount:L,setItemsPerPage:z}=nl({page:s,itemsPerPage:c,itemsLength:x}),{paginatedItems:j}=Zs({items:A,startIndex:U,stopIndex:B,itemsPerPage:c}),J=C(()=>w(j.value)),{isSelected:me,select:ee,selectAll:de,toggleSelect:Ae,someSelected:G,allSelected:D}=ul(t,{allItems:g,currentPage:J}),{isExpanded:H,toggleExpand:W}=Ol(t);Al({page:s,itemsPerPage:c,sortBy:l,groupBy:r,search:h}),ga({VDataTableRows:{hideNoData:ce(t,"hideNoData"),noDataText:ce(t,"noDataText"),loading:ce(t,"loading"),loadingText:ce(t,"loadingText")}});const ae=C(()=>({page:s.value,itemsPerPage:c.value,sortBy:l.value,pageCount:L.value,toggleSort:_,setItemsPerPage:z,someSelected:G.value,allSelected:D.value,isSelected:me,select:ee,selectAll:de,toggleSelect:Ae,isExpanded:H,toggleExpand:W,isGroupOpen:E,toggleGroup:P,items:J.value,groupedItems:j.value,columns:u.value,headers:f.value}));return Pe(()=>{const[X]=ia.filterProps(t),[Me]=sa.filterProps(t),[wt]=ua.filterProps(t),[Bt]=ca.filterProps(t);return d(ca,pe({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},Bt),{top:()=>{var Ue;return(Ue=n.top)==null?void 0:Ue.call(n,ae.value)},default:()=>{var Ue,Tt,kt,Fe;return n.default?n.default(ae.value):d(le,null,[(Ue=n.colgroup)==null?void 0:Ue.call(n,ae.value),d("thead",null,[d(sa,Me,n)]),(Tt=n.thead)==null?void 0:Tt.call(n,ae.value),d("tbody",null,[n.body?n.body(ae.value):d(ua,pe(wt,{items:j.value}),n)]),(kt=n.tbody)==null?void 0:kt.call(n,ae.value),(Fe=n.tfoot)==null?void 0:Fe.call(n,ae.value)])},bottom:()=>n.bottom?n.bottom(ae.value):d(le,null,[d(ia,X,{prepend:n["footer.prepend"]})])})}),{}}});const Su=oe({itemsLength:{type:[Number,String],required:!0},...el(),...Cl(),...Pn()},"VDataTableServer"),Ou=Se()({name:"VDataTableServer",props:Su(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0,"click:row":(t,e)=>!0},setup(t,e){let{emit:a,slots:n}=e;const{groupBy:r}=hl(t),{sortBy:l,multiSort:o,mustSort:i}=dl(t),{page:s,itemsPerPage:c}=al(t),u=C(()=>parseInt(t.itemsLength,10)),{columns:f,headers:g}=ll(t,{groupBy:r,showSelect:ce(t,"showSelect"),showExpand:ce(t,"showExpand")}),{items:h}=Pl(t,f),{toggleSort:p}=pl({sortBy:l,multiSort:o,mustSort:i,page:s}),{opened:_,isGroupOpen:b,toggleGroup:v,extractRows:w}=gl({groupBy:r,sortBy:l}),{pageCount:E,setItemsPerPage:P}=nl({page:s,itemsPerPage:c,itemsLength:u}),{flatItems:O}=_l(h,r,_),{isSelected:A,select:x,selectAll:U,toggleSelect:B,someSelected:L,allSelected:z}=ul(t,{allItems:h,currentPage:h}),{isExpanded:j,toggleExpand:J}=Ol(t),me=C(()=>w(h.value));Al({page:s,itemsPerPage:c,sortBy:l,groupBy:r,search:ce(t,"search")}),je("v-data-table",{toggleSort:p,sortBy:l}),ga({VDataTableRows:{hideNoData:ce(t,"hideNoData"),noDataText:ce(t,"noDataText"),loading:ce(t,"loading"),loadingText:ce(t,"loadingText")}});const ee=C(()=>({page:s.value,itemsPerPage:c.value,sortBy:l.value,pageCount:E.value,toggleSort:p,setItemsPerPage:P,someSelected:L.value,allSelected:z.value,isSelected:A,select:x,selectAll:U,toggleSelect:B,isExpanded:j,toggleExpand:J,isGroupOpen:b,toggleGroup:v,items:me.value,groupedItems:O.value,columns:f.value,headers:g.value}));Pe(()=>{const[de]=ia.filterProps(t),[Ae]=sa.filterProps(t),[G]=ua.filterProps(t),[D]=ca.filterProps(t);return d(ca,pe({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},D),{top:()=>{var H;return(H=n.top)==null?void 0:H.call(n,ee.value)},default:()=>{var H,W,ae,X;return n.default?n.default(ee.value):d(le,null,[(H=n.colgroup)==null?void 0:H.call(n,ee.value),d("thead",{class:"v-data-table__thead",role:"rowgroup"},[d(sa,pe(Ae,{sticky:t.fixedHeader}),n)]),(W=n.thead)==null?void 0:W.call(n,ee.value),d("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[n.body?n.body(ee.value):d(ua,pe(G,{items:O.value}),n)]),(ae=n.tbody)==null?void 0:ae.call(n,ee.value),(X=n.tfoot)==null?void 0:X.call(n,ee.value)])},bottom:()=>n.bottom?n.bottom(ee.value):d(ia,de,{prepend:n["footer.prepend"]})})})}});var K=(t=>(t.String="String",t.StringArray="StringArray",t.Byte="Byte",t.ByteArray="ByteArray",t.Short="Short",t.ShortArray="ShortArray",t.Integer="Integer",t.IntegerArray="IntegerArray",t.Long="Long",t.LongArray="LongArray",t.Boolean="Boolean",t.BooleanArray="BooleanArray",t.Character="Character",t.CharacterArray="CharacterArray",t.BigDecimal="BigDecimal",t.BigDecimalArray="BigDecimalArray",t.OffsetDateTime="OffsetDateTime",t.OffsetDateTimeArray="OffsetDateTimeArray",t.LocalDateTime="LocalDateTime",t.LocalDateTimeArray="LocalDateTimeArray",t.LocalDate="LocalDate",t.LocalDateArray="LocalDateArray",t.LocalTime="LocalTime",t.LocalTimeArray="LocalTimeArray",t.DateTimeRange="DateTimeRange",t.DateTimeRangeArray="DateTimeRangeArray",t.BigDecimalNumberRange="BigDecimalNumberRange",t.BigDecimalNumberRangeArray="BigDecimalNumberRangeArray",t.ByteNumberRange="ByteNumberRange",t.ByteNumberRangeArray="ByteNumberRangeArray",t.ShortNumberRange="ShortNumberRange",t.ShortNumberRangeArray="ShortNumberRangeArray",t.IntegerNumberRange="IntegerNumberRange",t.IntegerNumberRangeArray="IntegerNumberRangeArray",t.LongNumberRange="LongNumberRange",t.LongNumberRangeArray="LongNumberRangeArray",t.Locale="Locale",t.LocaleArray="LocaleArray",t.Currency="Currency",t.CurrencyArray="CurrencyArray",t.UUID="UUID",t.UUIDArray="UUIDArray",t.Predecessor="Predecessor",t.ComplexDataObject="ComplexDataObject",t))(K||{});const wu={class:"value-renderer__body"},Tu=Q({__name:"LabEditorDataGridGridCellDetailValueRenderer",props:{actions:{default:()=>[]},fillSpace:{type:Boolean,default:!0}},emits:["click:action"],setup(t,{emit:e}){return(a,n)=>(S(),T(tr,{class:_a(["value-renderer",{"value-renderer--fill-space":a.fillSpace},{"value-renderer--with-actions":a.actions&&a.actions.length>0}]),elevation:"0"},{default:y(()=>[N("div",wu,[Ze(a.$slots,"default",{},void 0,!0)]),a.actions?(S(),T(Hr,{key:0,vertical:""})):te("",!0),a.actions?(S(),T(tr,{key:1,class:"value-renderer__actions",elevation:"0"},{default:y(()=>[(S(!0),Y(le,null,De(a.actions,r=>(S(),T(se,{key:r.value,icon:"",variant:"flat",onClick:l=>e("click:action",r.value)},{default:y(()=>[d(re,null,{default:y(()=>[I(Z(r.props.prependIcon),1)]),_:2},1024),d(_e,{activator:"parent"},{default:y(()=>[I(Z(r.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):te("",!0)]),_:3},8,["class"]))}});const Cn=ue(Tu,[["__scopeId","data-v-560ea1bc"]]),ku={class:"markdown-renderer"},Pu=Q({__name:"LabEditorDataGridGridCellDetailMarkdownRenderer",props:{value:{},dataType:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=Be(),n=/\s+/,r=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"long"}),l=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"medium"}),o=new Intl.DateTimeFormat([],{dateStyle:"full"}),i=new Intl.DateTimeFormat([],{timeStyle:"medium"}),s=M(!0),c=C(()=>[{title:"Copy",value:"copy",props:{prependIcon:"mdi-content-copy"}},{title:s.value?"Display raw value":"Pretty print value",value:"pretty-print",props:{prependIcon:s.value?"mdi-raw":"mdi-auto-fix"}}]),u=C(()=>{if(!s.value||!e.dataType)return e.value.toString();switch(e.dataType){case K.String:{const p=e.value.trim();return p.startsWith("{")||p.startsWith("[")?"```json\r\n"+p+"\r\n```":p.startsWith("<")?"```xml\r\n"+p+"\r\n```":n.test(p)?p:"`"+p+"`"}case K.Byte:case K.Short:case K.Integer:case K.Long:case K.Boolean:case K.Character:case K.BigDecimal:case K.UUID:return"`"+e.value.toString()+"`";case K.OffsetDateTime:return"📅 `"+r.format(new Date(e.value.toString()))+"`";case K.LocalDateTime:return"📅 `"+l.format(new Date(e.value.toString()))+"`";case K.LocalDate:return"📅 `"+o.format(new Date(e.value.toString()))+"`";case K.LocalTime:return"📅 `"+i.format(new Date("1970-01-01"+e.value.toString()))+"`";case K.DateTimeRange:return f(e.value,"📅 ",p=>r.format(new Date(p)));case K.ByteNumberRange:case K.ShortNumberRange:case K.IntegerNumberRange:return f(e.value,"",p=>p.toString());case K.BigDecimalNumberRange:case K.LongNumberRange:return f(e.value,"",p=>p);case K.Locale:return"🌐 `"+e.value.toString()+"`";case K.Currency:return"💰 `"+e.value.toString()+"`";case K.Predecessor:return"↻ `"+e.value.toString()+"`";case K.ComplexDataObject:return"```json\r\n"+JSON.stringify(e.value,null,2)+"\r\n```";default:return e.value.toString()}});function f(p,_,b){if(!(e.value instanceof Array)||e.value.length!==2)throw new tt(void 0,"Invalid DateTimeRange value.");const v=e.value,w=v[0],E=v[1],P=O=>O==null?"∞":b(O);return _+"`"+P(w)+"` - `"+P(E)+"`"}function g(p){switch(p){case"copy":h();break;case"pretty-print":s.value=!s.value;break}}function h(){navigator.clipboard.writeText(u.value).then(()=>{a.info("Copied to clipboard.")}).catch(()=>{a.error(new tt(void 0,"Failed to copy to clipboard."))})}return(p,_)=>(S(),T(Cn,{"fill-space":p.fillSpace,actions:c.value,"onClick:action":g},{default:y(()=>[N("div",ku,[d(_n,{source:u.value},null,8,["source"])])]),_:1},8,["fill-space","actions"]))}});const El=ue(Pu,[["__scopeId","data-v-346a4685"]]),nn=1,Au=2,Cu=3,Eu=4,Du=5,xu=35,Lu=36,Iu=37,Ru=11,Vu=13;function $u(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function Nu(t){return t==9||t==10||t==13||t==32}let ir=null,sr=null,ur=0;function rn(t,e){let a=t.pos+e;if(sr==t&&ur==a)return ir;for(;Nu(t.peek(e));)e++;let n="";for(;;){let r=t.peek(e);if(!$u(r))break;n+=String.fromCharCode(r),e++}return sr=t,ur=a,ir=n||null}function cr(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let a=0;a<t.length;a++)this.hash+=(this.hash<<4)+t.charCodeAt(a)+(t.charCodeAt(a)<<8)}const Bu=new ni({start:null,shift(t,e,a,n){return e==nn?new cr(rn(n,1)||"",t):t},reduce(t,e){return e==Ru&&t?t.parent:t},reuse(t,e,a,n){let r=e.type.id;return r==nn||r==Vu?new cr(rn(n,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),Mu=new qr((t,e)=>{if(t.next==60){if(t.advance(),t.next==47){t.advance();let a=rn(t,0);if(!a)return t.acceptToken(Du);if(e.context&&a==e.context.name)return t.acceptToken(Au);for(let n=e.context;n;n=n.parent)if(n.name==a)return t.acceptToken(Cu,-2);t.acceptToken(Eu)}else if(t.next!=33&&t.next!=63)return t.acceptToken(nn)}},{contextual:!0});function En(t,e){return new qr(a=>{for(let n=0,r=0;;r++){if(a.next<0){r&&a.acceptToken(t);break}if(a.next==e.charCodeAt(n)){if(n++,n==e.length){r>=e.length&&a.acceptToken(t,1-e.length);break}}else n=a.next==e.charCodeAt(0)?1:0;a.advance()}})}const Gu=En(xu,"-->"),Uu=En(Lu,"?>"),Fu=En(Iu,"]]>"),Wu=Qr({Text:Oe.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":Oe.angleBracket,TagName:Oe.tagName,"MismatchedCloseTag/Tagname":[Oe.tagName,Oe.invalid],AttributeName:Oe.attributeName,AttributeValue:Oe.attributeValue,Is:Oe.definitionOperator,"EntityReference CharacterReference":Oe.character,Comment:Oe.blockComment,ProcessingInst:Oe.processingInstruction,DoctypeDecl:Oe.documentMeta,Cdata:Oe.special(Oe.string)}),zu=ri.deserialize({version:14,states:",SOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DS'#DSOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C{'#C{O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C|'#C|O$dOrO,59^OOOP,59^,59^OOOS'#C}'#C}O$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6y-E6yOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6z-E6zOOOP1G.x1G.xOOOS-E6{-E6{OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'jO!bO,59eOOOO-E6w-E6wO'xOpO1G.uO'xOpO1G.uOOOP1G.u1G.uO(QOpO7+$fOOOP7+$f7+$fO(YO!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(eO#tO'#CnOOOO1G.q1G.qO(sOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO({O#tO,59YOOOO,59Y,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.t",stateData:")Z~OPQOSVOTWOVWOWWOXWOiXOxPO}TO!PUO~OuZOw]O~O^`Oy^O~OPQOQcOSVOTWOVWOWWOXWOxPO}TO!PUO~ORdO~P!SOseO|gO~OthO!OjO~O^lOy^O~OuZOwoO~O^qOy^O~O[vO`sOdwOy^O~ORyO~P!SO^{Oy^O~OseO|}O~OthO!O!PO~O^!QOy^O~O[!SOy^O~O[!VO`sOd!WOy^O~Oa!YOy^O~Oy^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oy^O~O[!_Oy^O~O[!aOy^O~O[!cO`sOd!dOy^O~O[!cO`sOd!dO~Oa!eOy^O~Oy^Oz!gO~Oy^O[ma`madma~O[!jOy^O~O[!kOy^O~O[!lO`sOd!mO~OW!pOX!pOz!rO{!pO~O[!sOy^O~OW!pOX!pOz!vO{!pO~O",goto:"%[wPPPPPPPPPPxxP!OP!UPP!_!iP!oxxxP!u!{#R$Z$j$p$v$|PPPP%SXWORYbXRORYb_t`qru!T!U!bQ!h!YS!o!e!fR!t!nQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!i!nQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!i!]R!n!eQu`S!UqrU![u!U!bR!b!TQ!q!gR!u!qQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"⚠ StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:47,context:Bu,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"]],propSources:[Wu],skippedNodes:[0],repeatNodeCount:8,tokenData:"IX~R!XOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs'ssv$nvw(Zw}$n}!O*l!O!P$n!P!Q,{!Q![$n![!].e!]!^$n!^!_1v!_!`Cz!`!aDm!a!bE`!b!c$n!c!}.e!}#P$n#P#QFx#Q#R$n#R#S.e#S#T$n#T#o.e#o%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U$n4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$nX$uWVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nP%dTVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_P%vP;=`<%l%_W&OT{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yW&bP;=`<%l%yX&hP;=`<%l$n_&t_VP{WyUOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ'zTzYVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_~(^VOp(sqs(sst)ht!](s!^;'S(s;'S;=`)b<%lO(s~(vVOp(sqs(st!](s!]!^)]!^;'S(s;'S;=`)b<%lO(s~)bOW~~)eP;=`<%l(s~)kTOp)zq!])z!^;'S)z;'S;=`*f<%lO)z~)}UOp)zq!])z!]!^*a!^;'S)z;'S;=`*f<%lO)z~*fOX~~*iP;=`<%l)zZ*sYVP{WOr$nrs%_sv$nw}$n}!O+c!O!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ+jYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a,Y!a;'S$n;'S;=`&e<%lO$nZ,cW|QVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n]-SYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a-r!a;'S$n;'S;=`&e<%lO$n]-{WdSVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_.p!O`S^QVP{WOr$nrs%_sv$nw}$n}!O.e!O!P.e!P!Q$n!Q![.e![!].e!]!^$n!^!_%y!_!c$n!c!}.e!}#R$n#R#S.e#S#T$n#T#o.e#o$}$n$}%O.e%O%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U.e4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Je$n$Je$Jg.e$Jg$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$n_1sP;=`<%l.eX1{W{WOq%yqr2esv%yw!a%y!a!bCd!b;'S%y;'S;=`&_<%lO%yX2j]{WOr%ysv%yw}%y}!O3c!O!f%y!f!g4e!g!}%y!}#O9t#O#W%y#W#X@Q#X;'S%y;'S;=`&_<%lO%yX3hV{WOr%ysv%yw}%y}!O3}!O;'S%y;'S;=`&_<%lO%yX4UT}P{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX4jV{WOr%ysv%yw!q%y!q!r5P!r;'S%y;'S;=`&_<%lO%yX5UV{WOr%ysv%yw!e%y!e!f5k!f;'S%y;'S;=`&_<%lO%yX5pV{WOr%ysv%yw!v%y!v!w6V!w;'S%y;'S;=`&_<%lO%yX6[V{WOr%ysv%yw!{%y!{!|6q!|;'S%y;'S;=`&_<%lO%yX6vV{WOr%ysv%yw!r%y!r!s7]!s;'S%y;'S;=`&_<%lO%yX7bV{WOr%ysv%yw!g%y!g!h7w!h;'S%y;'S;=`&_<%lO%yX7|X{WOr7wrs8isv7wvw8iw!`7w!`!a9W!a;'S7w;'S;=`9n<%lO7wP8lTO!`8i!`!a8{!a;'S8i;'S;=`9Q<%lO8iP9QOiPP9TP;=`<%l8iX9_TiP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX9qP;=`<%l7wX9yX{WOr%ysv%yw!e%y!e!f:f!f#V%y#V#W=t#W;'S%y;'S;=`&_<%lO%yX:kV{WOr%ysv%yw!f%y!f!g;Q!g;'S%y;'S;=`&_<%lO%yX;VV{WOr%ysv%yw!c%y!c!d;l!d;'S%y;'S;=`&_<%lO%yX;qV{WOr%ysv%yw!v%y!v!w<W!w;'S%y;'S;=`&_<%lO%yX<]V{WOr%ysv%yw!c%y!c!d<r!d;'S%y;'S;=`&_<%lO%yX<wV{WOr%ysv%yw!}%y!}#O=^#O;'S%y;'S;=`&_<%lO%yX=eT{WxPOr%ysv%yw;'S%y;'S;=`&_<%lO%yX=yV{WOr%ysv%yw#W%y#W#X>`#X;'S%y;'S;=`&_<%lO%yX>eV{WOr%ysv%yw#T%y#T#U>z#U;'S%y;'S;=`&_<%lO%yX?PV{WOr%ysv%yw#h%y#h#i?f#i;'S%y;'S;=`&_<%lO%yX?kV{WOr%ysv%yw#T%y#T#U<r#U;'S%y;'S;=`&_<%lO%yX@VV{WOr%ysv%yw#c%y#c#d@l#d;'S%y;'S;=`&_<%lO%yX@qV{WOr%ysv%yw#V%y#V#WAW#W;'S%y;'S;=`&_<%lO%yXA]V{WOr%ysv%yw#h%y#h#iAr#i;'S%y;'S;=`&_<%lO%yXAwV{WOr%ysv%yw#m%y#m#nB^#n;'S%y;'S;=`&_<%lO%yXBcV{WOr%ysv%yw#d%y#d#eBx#e;'S%y;'S;=`&_<%lO%yXB}V{WOr%ysv%yw#X%y#X#Y7w#Y;'S%y;'S;=`&_<%lO%yXCkT!PP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yZDTWaQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_DvW[UVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZEgYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aFV!a;'S$n;'S;=`&e<%lO$nZF`W!OQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZGPYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_#P$n#P#QGo#Q;'S$n;'S;=`&e<%lO$nZGvYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aHf!a;'S$n;'S;=`&e<%lO$nZHoWwQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n",tokenizers:[Mu,Gu,Uu,Fu,0,1,2,3],topRules:{Document:[0,6]},tokenPrec:0}),Hu=1024;let qu=0;class Na{constructor(e,a){this.from=e,this.to=a}}class ie{constructor(e={}){this.id=qu++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Re.match(e)),a=>{let n=e(a);return n===void 0?null:[this,n]}}}ie.closedBy=new ie({deserialize:t=>t.split(" ")});ie.openedBy=new ie({deserialize:t=>t.split(" ")});ie.group=new ie({deserialize:t=>t.split(" ")});ie.contextHash=new ie({perNode:!0});ie.lookAhead=new ie({perNode:!0});ie.mounted=new ie({perNode:!0});class da{constructor(e,a,n){this.tree=e,this.overlay=a,this.parser=n}static get(e){return e&&e.props&&e.props[ie.mounted.id]}}const Qu=Object.create(null);class Re{constructor(e,a,n,r=0){this.name=e,this.props=a,this.id=n,this.flags=r}static define(e){let a=e.props&&e.props.length?Object.create(null):Qu,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Re(e.name||"",a,e.id,n);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(r)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[l[0].id]=l[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let a=this.prop(ie.group);return a?a.indexOf(e)>-1:!1}return this.id==e}static match(e){let a=Object.create(null);for(let n in e)for(let r of n.split(" "))a[r]=e[n];return n=>{for(let r=n.prop(ie.group),l=-1;l<(r?r.length:0);l++){let o=a[l<0?n.name:r[l]];if(o)return o}}}}Re.none=new Re("",Object.create(null),0,8);const qt=new WeakMap,dr=new WeakMap;var he;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(he||(he={}));class be{constructor(e,a,n,r,l){if(this.type=e,this.children=a,this.positions=n,this.length=r,this.props=null,l&&l.length){this.props=Object.create(null);for(let[o,i]of l)this.props[typeof o=="number"?o:o.id]=i}}toString(){let e=da.get(this);if(e&&!e.overlay)return e.tree.toString();let a="";for(let n of this.children){let r=n.toString();r&&(a&&(a+=","),a+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(e=0){return new on(this.topNode,e)}cursorAt(e,a=0,n=0){let r=qt.get(this)||this.topNode,l=new on(r);return l.moveTo(e,a),qt.set(this,l._tree),l}get topNode(){return new Ie(this,0,0,null)}resolve(e,a=0){let n=Vt(qt.get(this)||this.topNode,e,a,!1);return qt.set(this,n),n}resolveInner(e,a=0){let n=Vt(dr.get(this)||this.topNode,e,a,!0);return dr.set(this,n),n}resolveStack(e,a=0){return Yu(this,e,a)}iterate(e){let{enter:a,leave:n,from:r=0,to:l=this.length}=e,o=e.mode||0,i=(o&he.IncludeAnonymous)>0;for(let s=this.cursor(o|he.IncludeAnonymous);;){let c=!1;if(s.from<=l&&s.to>=r&&(!i&&s.type.isAnonymous||a(s)!==!1)){if(s.firstChild())continue;c=!0}for(;c&&n&&(i||!s.type.isAnonymous)&&n(s),!s.nextSibling();){if(!s.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let a in this.props)e.push([+a,this.props[a]]);return e}balance(e={}){return this.children.length<=8?this:Ln(Re.none,this.children,this.positions,0,this.children.length,0,this.length,(a,n,r)=>new be(this.type,a,n,r,this.propValues),e.makeTree||((a,n,r)=>new be(Re.none,a,n,r)))}static build(e){return Ku(e)}}be.empty=new be(Re.none,[],[],0);class Dn{constructor(e,a){this.buffer=e,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Dn(this.buffer,this.index)}}class ut{constructor(e,a,n){this.buffer=e,this.length=a,this.set=n}get type(){return Re.none}toString(){let e=[];for(let a=0;a<this.buffer.length;)e.push(this.childString(a)),a=this.buffer[a+3];return e.join(",")}childString(e){let a=this.buffer[e],n=this.buffer[e+3],r=this.set.types[a],l=r.name;if(/\W/.test(l)&&!r.isError&&(l=JSON.stringify(l)),e+=4,n==e)return l;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return l+"("+o.join(",")+")"}findChild(e,a,n,r,l){let{buffer:o}=this,i=-1;for(let s=e;s!=a&&!(Dl(l,r,o[s+1],o[s+2])&&(i=s,n>0));s=o[s+3]);return i}slice(e,a,n){let r=this.buffer,l=new Uint16Array(a-e),o=0;for(let i=e,s=0;i<a;){l[s++]=r[i++],l[s++]=r[i++]-n;let c=l[s++]=r[i++]-n;l[s++]=r[i++]-e,o=Math.max(o,c)}return new ut(l,o,this.set)}}function Dl(t,e,a,n){switch(t){case-2:return a<e;case-1:return n>=e&&a<e;case 0:return a<e&&n>e;case 1:return a<=e&&n>e;case 2:return n>e;case 4:return!0}}function Vt(t,e,a,n){for(var r;t.from==t.to||(a<1?t.from>=e:t.from>e)||(a>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Ie&&t.index<0?null:t.parent;if(!o)return t;t=o}let l=n?0:he.IgnoreOverlays;if(n)for(let o=t,i=o.parent;i;o=i,i=o.parent)o instanceof Ie&&o.index<0&&((r=i.enter(e,a,l))===null||r===void 0?void 0:r.from)!=o.from&&(t=i);for(;;){let o=t.enter(e,a,l);if(!o)return t;t=o}}class xl{cursor(e=0){return new on(this,e)}getChild(e,a=null,n=null){let r=pr(this,e,a,n);return r.length?r[0]:null}getChildren(e,a=null,n=null){return pr(this,e,a,n)}resolve(e,a=0){return Vt(this,e,a,!1)}resolveInner(e,a=0){return Vt(this,e,a,!0)}matchContext(e){return ln(this,e)}enterUnfinishedNodesBefore(e){let a=this.childBefore(e),n=this;for(;a;){let r=a.lastChild;if(!r||r.to!=a.to)break;r.type.isError&&r.from==r.to?(n=a,a=r.prevSibling):a=r}return n}get node(){return this}get next(){return this.parent}}class Ie extends xl{constructor(e,a,n,r){super(),this._tree=e,this.from=a,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,a,n,r,l=0){for(let o=this;;){for(let{children:i,positions:s}=o._tree,c=a>0?i.length:-1;e!=c;e+=a){let u=i[e],f=s[e]+o.from;if(Dl(r,n,f,f+u.length)){if(u instanceof ut){if(l&he.ExcludeBuffers)continue;let g=u.findChild(0,u.buffer.length,a,n-f,r);if(g>-1)return new Ye(new Xu(o,u,e,f),null,g)}else if(l&he.IncludeAnonymous||!u.type.isAnonymous||xn(u)){let g;if(!(l&he.IgnoreMounts)&&(g=da.get(u))&&!g.overlay)return new Ie(g.tree,f,e,o);let h=new Ie(u,f,e,o);return l&he.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(a<0?u.children.length-1:0,a,n,r)}}}if(l&he.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+a:e=a<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,a,n=0){let r;if(!(n&he.IgnoreOverlays)&&(r=da.get(this._tree))&&r.overlay){let l=e-this.from;for(let{from:o,to:i}of r.overlay)if((a>0?o<=l:o<l)&&(a<0?i>=l:i>l))return new Ie(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,a,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function pr(t,e,a,n){let r=t.cursor(),l=[];if(!r.firstChild())return l;if(a!=null){for(;!r.type.is(a);)if(!r.nextSibling())return l}for(;;){if(n!=null&&r.type.is(n))return l;if(r.type.is(e)&&l.push(r.node),!r.nextSibling())return n==null?l:[]}}function ln(t,e,a=e.length-1){for(let n=t.parent;a>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[a]&&e[a]!=n.name)return!1;a--}}return!0}class Xu{constructor(e,a,n,r){this.parent=e,this.buffer=a,this.index=n,this.start=r}}class Ye extends xl{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,a,n){super(),this.context=e,this._parent=a,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,a,n){let{buffer:r}=this.context,l=r.findChild(this.index+4,r.buffer[this.index+3],e,a-this.context.start,n);return l<0?null:new Ye(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,a,n=0){if(n&he.ExcludeBuffers)return null;let{buffer:r}=this.context,l=r.findChild(this.index+4,r.buffer[this.index+3],a>0?1:-1,e-this.context.start,a);return l<0?null:new Ye(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,a=e.buffer[this.index+3];return a<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ye(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new Ye(this.context,this._parent,e.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],a=[],{buffer:n}=this.context,r=this.index+4,l=n.buffer[this.index+3];if(l>r){let o=n.buffer[this.index+1];e.push(n.slice(r,l,o)),a.push(0)}return new be(this.type,e,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Ll(t){if(!t.length)return null;if(t.length==1)return t[0];let e=0,a=t[0];for(let l=1;l<t.length;l++){let o=t[l];(o.from>a.from||o.to<a.to)&&(a=o,e=l)}let n=a instanceof Ie&&a.index<0?null:a.parent,r=t.slice();return n?r[e]=n:r.splice(e,1),new ju(r,a)}class ju{constructor(e,a){this.heads=e,this.node=a}get next(){return Ll(this.heads)}}function Yu(t,e,a){let n=t.resolveInner(e,a),r=null;for(let l=n instanceof Ie?n:n.context.parent;l;l=l.parent)if(l.index<0){let o=l.parent;(r||(r=[n])).push(o.resolve(e,a)),l=o}else{let o=da.get(l.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let i=new Ie(o.tree,o.overlay[0].from+l.from,0,null);(r||(r=[n])).push(Vt(i,e,a,!1))}}return r?Ll(r):n}class on{get name(){return this.type.name}constructor(e,a=0){if(this.mode=a,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ie)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,a){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=a||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Ie?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,a,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,a,n,this.mode));let{buffer:r}=this.buffer,l=r.findChild(this.index+4,r.buffer[this.index+3],e,a-this.buffer.start,n);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,a,n=this.mode){return this.buffer?n&he.ExcludeBuffers?!1:this.enterChild(1,e,a):this.yield(this._tree.enter(e,a,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&he.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&he.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:a}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(a.findChild(r,this.index,-1,0,4))}else{let r=a.buffer[this.index+3];if(r<(n<0?a.buffer.length:a.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let a,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(r.buffer.buffer[l+3]<this.index)return!1;({index:a,parent:n}=r)}else({index:a,_parent:n}=this._tree);for(;n;{index:a,_parent:n}=n)if(a>-1)for(let l=a+e,o=e<0?-1:n._tree.children.length;l!=o;l+=e){let i=n._tree.children[l];if(this.mode&he.IncludeAnonymous||i instanceof ut||!i.type.isAnonymous||xn(i))return!1}return!0}move(e,a){if(a&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,a=0){for(;(this.from==this.to||(a<1?this.from>=e:this.from>e)||(a>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,a););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,a=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,l=this.stack.length;l>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;a=o,n=l+1;break e}r=this.stack[--l]}for(let r=n;r<this.stack.length;r++)a=new Ye(this.buffer,a,this.stack[r]);return this.bufferNode=new Ye(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,a){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&a&&a(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ln(this.node,e);let{buffer:a}=this.buffer,{types:n}=a.set;for(let r=e.length-1,l=this.stack.length-1;r>=0;l--){if(l<0)return ln(this.node,e,r);let o=n[a.buffer[this.stack[l]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function xn(t){return t.children.some(e=>e instanceof ut||!e.type.isAnonymous||xn(e))}function Ku(t){var e;let{buffer:a,nodeSet:n,maxBufferLength:r=Hu,reused:l=[],minRepeatType:o=n.types.length}=t,i=Array.isArray(a)?new Dn(a,a.length):a,s=n.types,c=0,u=0;function f(P,O,A,x,U){let{id:B,start:L,end:z,size:j}=i,J=u;for(;j<0;)if(i.next(),j==-1){let G=l[B];A.push(G),x.push(L-P);return}else if(j==-3){c=B;return}else if(j==-4){u=B;return}else throw new RangeError(`Unrecognized record size: ${j}`);let me=s[B],ee,de,Ae=L-P;if(z-L<=r&&(de=_(i.pos-O,U))){let G=new Uint16Array(de.size-de.skip),D=i.pos-de.size,H=G.length;for(;i.pos>D;)H=b(de.start,G,H);ee=new ut(G,z-de.start,n),Ae=de.start-P}else{let G=i.pos-j;i.next();let D=[],H=[],W=B>=o?B:-1,ae=0,X=z;for(;i.pos>G;)W>=0&&i.id==W&&i.size>=0?(i.end<=X-r&&(h(D,H,L,ae,i.end,X,W,J),ae=D.length,X=i.end),i.next()):f(L,G,D,H,W);if(W>=0&&ae>0&&ae<D.length&&h(D,H,L,ae,L,X,W,J),D.reverse(),H.reverse(),W>-1&&ae>0){let Me=g(me);ee=Ln(me,D,H,0,D.length,0,z-L,Me,Me)}else ee=p(me,D,H,z-L,J-z)}A.push(ee),x.push(Ae)}function g(P){return(O,A,x)=>{let U=0,B=O.length-1,L,z;if(B>=0&&(L=O[B])instanceof be){if(!B&&L.type==P&&L.length==x)return L;(z=L.prop(ie.lookAhead))&&(U=A[B]+L.length+z)}return p(P,O,A,x,U)}}function h(P,O,A,x,U,B,L,z){let j=[],J=[];for(;P.length>x;)j.push(P.pop()),J.push(O.pop()+A-U);P.push(p(n.types[L],j,J,B-U,z-B)),O.push(U-A)}function p(P,O,A,x,U=0,B){if(c){let L=[ie.contextHash,c];B=B?[L].concat(B):[L]}if(U>25){let L=[ie.lookAhead,U];B=B?[L].concat(B):[L]}return new be(P,O,A,x,B)}function _(P,O){let A=i.fork(),x=0,U=0,B=0,L=A.end-r,z={size:0,start:0,skip:0};e:for(let j=A.pos-P;A.pos>j;){let J=A.size;if(A.id==O&&J>=0){z.size=x,z.start=U,z.skip=B,B+=4,x+=4,A.next();continue}let me=A.pos-J;if(J<0||me<j||A.start<L)break;let ee=A.id>=o?4:0,de=A.start;for(A.next();A.pos>me;){if(A.size<0)if(A.size==-3)ee+=4;else break e;else A.id>=o&&(ee+=4);A.next()}U=de,x+=J,B+=ee}return(O<0||x==P)&&(z.size=x,z.start=U,z.skip=B),z.size>4?z:void 0}function b(P,O,A){let{id:x,start:U,end:B,size:L}=i;if(i.next(),L>=0&&x<o){let z=A;if(L>4){let j=i.pos-(L-4);for(;i.pos>j;)A=b(P,O,A)}O[--A]=z,O[--A]=B-P,O[--A]=U-P,O[--A]=x}else L==-3?c=x:L==-4&&(u=x);return A}let v=[],w=[];for(;i.pos>0;)f(t.start||0,t.bufferStart||0,v,w,-1);let E=(e=t.length)!==null&&e!==void 0?e:v.length?w[0]+v[0].length:0;return new be(s[t.topID],v.reverse(),w.reverse(),E)}const fr=new WeakMap;function ea(t,e){if(!t.isAnonymous||e instanceof ut||e.type!=t)return 1;let a=fr.get(e);if(a==null){a=1;for(let n of e.children){if(n.type!=t||!(n instanceof be)){a=1;break}a+=ea(t,n)}fr.set(e,a)}return a}function Ln(t,e,a,n,r,l,o,i,s){let c=0;for(let p=n;p<r;p++)c+=ea(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],g=[];function h(p,_,b,v,w){for(let E=b;E<v;){let P=E,O=_[E],A=ea(t,p[E]);for(E++;E<v;E++){let x=ea(t,p[E]);if(A+x>=u)break;A+=x}if(E==P+1){if(A>u){let x=p[P];h(x.children,x.positions,0,x.children.length,_[P]+w);continue}f.push(p[P])}else{let x=_[E-1]+p[E-1].length-O;f.push(Ln(t,p,_,P,E,O,x,null,s))}g.push(O+w-l)}}return h(e,a,n,r,0),(i||s)(f,g,o)}class it{constructor(e,a,n,r,l=!1,o=!1){this.from=e,this.to=a,this.tree=n,this.offset=r,this.open=(l?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,a=[],n=!1){let r=[new it(0,e.length,e,0,!1,n)];for(let l of a)l.to>e.length&&r.push(l);return r}static applyChanges(e,a,n=128){if(!a.length)return e;let r=[],l=1,o=e.length?e[0]:null;for(let i=0,s=0,c=0;;i++){let u=i<a.length?a[i]:null,f=u?u.fromA:1e9;if(f-s>=n)for(;o&&o.from<f;){let g=o;if(s>=g.from||f<=g.to||c){let h=Math.max(g.from,s)-c,p=Math.min(g.to,f)-c;g=h>=p?null:new it(h,p,g.tree,g.offset+c,i>0,!!u)}if(g&&r.push(g),o.to>f)break;o=l<e.length?e[l++]:null}if(!u)break;s=u.toA,c=u.toA-u.toB}return r}}class Zu{startParse(e,a,n){return typeof e=="string"&&(e=new Ju(e)),n=n?n.length?n.map(r=>new Na(r.from,r.to)):[new Na(0,0)]:[new Na(0,e.length)],this.createParse(e,a||[],n)}parse(e,a,n){let r=this.startParse(e,a,n);for(;;){let l=r.advance();if(l)return l}}}class Ju{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,a){return this.string.slice(e,a)}}new ie({perNode:!0});var Ba;const Lt=new ie;function ec(t){return Xr.define({combine:t?e=>e.concat(t):void 0})}const tc=new ie;class Ge{constructor(e,a,n=[],r=""){this.data=e,this.name=r,Kt.prototype.hasOwnProperty("tree")||Object.defineProperty(Kt.prototype,"tree",{get(){return fa(this)}}),this.parser=a,this.extension=[St.of(this),Kt.languageData.of((l,o,i)=>{let s=mr(l,o,i),c=s.type.prop(Lt);if(!c)return[];let u=l.facet(c),f=s.type.prop(tc);if(f){let g=s.resolve(o-s.from,i);for(let h of f)if(h.test(g,l)){let p=l.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(n)}isActiveAt(e,a,n=-1){return mr(e,a,n).type.prop(Lt)==this.data}findRegions(e){let a=e.facet(St);if((a==null?void 0:a.data)==this.data)return[{from:0,to:e.doc.length}];if(!a||!a.allowsNesting)return[];let n=[],r=(l,o)=>{if(l.prop(Lt)==this.data){n.push({from:o,to:o+l.length});return}let i=l.prop(ie.mounted);if(i){if(i.tree.prop(Lt)==this.data){if(i.overlay)for(let s of i.overlay)n.push({from:s.from+o,to:s.to+o});else n.push({from:o,to:o+l.length});return}else if(i.overlay){let s=n.length;if(r(i.tree,i.overlay[0].from+o),n.length>s)return}}for(let s=0;s<l.children.length;s++){let c=l.children[s];c instanceof be&&r(c,l.positions[s]+o)}};return r(fa(e),0),n}get allowsNesting(){return!0}}Ge.setState=ii.define();function mr(t,e,a){let n=t.facet(St),r=fa(t).topNode;if(!n||n.allowsNesting)for(let l=r;l;l=l.enter(e,a,he.ExcludeBuffers))l.type.isTop&&(r=l);return r}class pa extends Ge{constructor(e,a,n){super(e,a,[],n),this.parser=a}static define(e){let a=ec(e.languageData);return new pa(a,e.parser.configure({props:[Lt.add(n=>n.isTop?a:void 0)]}),e.name)}configure(e,a){return new pa(this.data,this.parser.configure(e),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function fa(t){let e=t.field(Ge.state,!1);return e?e.tree:be.empty}class ac{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,a){let n=this.cursorPos-this.string.length;return e<n||a>=this.cursorPos?this.doc.sliceString(e,a):this.string.slice(e-n,a-n)}}let Ct=null;class ma{constructor(e,a,n=[],r,l,o,i,s){this.parser=e,this.state=a,this.fragments=n,this.tree=r,this.treeLen=l,this.viewport=o,this.skipped=i,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,a,n){return new ma(e,a,[],be.empty,0,n,[],null)}startParse(){return this.parser.startParse(new ac(this.state.doc),this.fragments)}work(e,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=be.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(it.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(a??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,a;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=e,this.tree=a,this.fragments=this.withoutTempSkipped(it.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let a=Ct;Ct=this;try{return e()}finally{Ct=a}}withoutTempSkipped(e){for(let a;a=this.tempSkipped.pop();)e=hr(e,a.from,a.to);return e}changes(e,a){let{fragments:n,tree:r,treeLen:l,viewport:o,skipped:i}=this;if(this.takeTree(),!e.empty){let s=[];if(e.iterChangedRanges((c,u,f,g)=>s.push({fromA:c,toA:u,fromB:f,toB:g})),n=it.applyChanges(n,s),r=be.empty,l=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){i=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&i.push({from:u,to:f})}}}return new ma(this.parser,a,n,r,l,o,i,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let a=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:l}=this.skipped[n];r<e.to&&l>e.from&&(this.fragments=hr(this.fragments,r,l),this.skipped.splice(n--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,a){this.skipped.push({from:e,to:a})}static getSkippingParser(e){return new class extends Zu{createParse(a,n,r){let l=r[0].from,o=r[r.length-1].to;return{parsedPos:l,advance(){let s=Ct;if(s){for(let c of r)s.tempSkipped.push(c);e&&(s.scheduleOn=s.scheduleOn?Promise.all([s.scheduleOn,e]):e)}return this.parsedPos=o,new be(Re.none,[],[],o-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let a=this.fragments;return this.treeLen>=e&&a.length&&a[0].from==0&&a[0].to>=e}static get(){return Ct}}function hr(t,e,a){return it.applyChanges(t,[{fromA:e,toA:a,fromB:e,toB:a}])}class _t{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,n)||a.takeTree(),new _t(a)}static init(e){let a=Math.min(3e3,e.doc.length),n=ma.create(e.facet(St).parser,e,{from:0,to:a});return n.work(20,a)||n.takeTree(),new _t(n)}}Ge.state=li.define({create:_t.init,update(t,e){for(let a of e.effects)if(a.is(Ge.setState))return a.value;return e.startState.facet(St)!=e.state.facet(St)?_t.init(e.state):t.apply(e)}});let Il=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Il=t=>{let e=-1,a=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(a):cancelIdleCallback(e)});const Ma=typeof navigator<"u"&&(!((Ba=navigator.scheduling)===null||Ba===void 0)&&Ba.isInputPending)?()=>navigator.scheduling.isInputPending():null,nc=si.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let a=this.view.state.field(Ge.state).context;(a.updateViewport(e.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:e}=this.view,a=e.field(Ge.state);(a.tree!=a.context.tree||!a.context.isDone(e.doc.length))&&(this.working=Il(this.work))}work(e){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,l=n.field(Ge.state);if(l.tree==l.context.tree&&l.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ma?Math.max(25,e.timeRemaining()-5):1e9),i=l.context.treeLen<r&&n.doc.length>r+1e3,s=l.context.work(()=>Ma&&Ma()||Date.now()>o,r+(i?0:1e5));this.chunkBudget-=Date.now()-a,(s||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:Ge.setState.of(new _t(l.context))})),this.chunkBudget>0&&!(s&&!i)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(a=>ui(this.view.state,a)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),St=Xr.define({combine(t){return t.length?t[0]:null},enables:t=>[Ge.state,nc,oi.contentAttributes.compute([t],e=>{let a=e.facet(t);return a&&a.name?{"data-language":a.name}:{}})]});class rc{constructor(e,a=[]){this.language=e,this.support=a,this.extension=[e,a]}}const lc=new ie,oc=new ie,ic=new ie,sc=Object.create(null),gr=[Re.none],vr=[],uc=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])uc[t]=cc(sc,e);function Ga(t,e){vr.indexOf(t)>-1||(vr.push(t),console.warn(e))}function cc(t,e){let a=null;for(let l of e.split(".")){let o=t[l]||Oe[l];o?typeof o=="function"?a?a=o(a):Ga(l,`Modifier ${l} used at start of tag`):a?Ga(l,`Tag ${l} used as modifier`):a=o:Ga(l,`Unknown highlighting tag ${l}`)}if(!a)return 0;let n=e.replace(/ /g,"_"),r=Re.define({id:gr.length,name:n,props:[Qr({[n]:a})]});return gr.push(r),r.id}function ta(t,e){let a=e&&e.getChild("TagName");return a?t.sliceString(a.from,a.to):""}function Ua(t,e){let a=e&&e.firstChild;return!a||a.name!="OpenTag"?"":ta(t,a)}function dc(t,e,a){let n=e&&e.getChildren("Attribute").find(l=>l.from<=a&&l.to>=a),r=n&&n.getChild("AttributeName");return r?t.sliceString(r.from,r.to):""}function Fa(t){for(let e=t&&t.parent;e;e=e.parent)if(e.name=="Element")return e;return null}function pc(t,e){var a;let n=fa(t).resolveInner(e,-1),r=null;for(let l=n;!r&&l.parent;l=l.parent)(l.name=="OpenTag"||l.name=="CloseTag"||l.name=="SelfClosingTag"||l.name=="MismatchedCloseTag")&&(r=l);if(r&&(r.to>e||r.lastChild.type.isError)){let l=r.parent;if(n.name=="TagName")return r.name=="CloseTag"||r.name=="MismatchedCloseTag"?{type:"closeTag",from:n.from,context:l}:{type:"openTag",from:n.from,context:Fa(l)};if(n.name=="AttributeName")return{type:"attrName",from:n.from,context:r};if(n.name=="AttributeValue")return{type:"attrValue",from:n.from,context:r};let o=n==r||n.name=="Attribute"?n.childBefore(e):n;return(o==null?void 0:o.name)=="StartTag"?{type:"openTag",from:e,context:Fa(l)}:(o==null?void 0:o.name)=="StartCloseTag"&&o.to<=e?{type:"closeTag",from:e,context:l}:(o==null?void 0:o.name)=="Is"?{type:"attrValue",from:e,context:r}:o?{type:"attrName",from:e,context:r}:null}else if(n.name=="StartCloseTag")return{type:"closeTag",from:e,context:n.parent};for(;n.parent&&n.to==e&&!(!((a=n.lastChild)===null||a===void 0)&&a.type.isError);)n=n.parent;return n.name=="Element"||n.name=="Text"||n.name=="Document"?{type:"tag",from:e,context:n.name=="Element"?n:Fa(n)}:null}class fc{constructor(e,a,n){this.attrs=a,this.attrValues=n,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(r=>({label:r,type:"text"})):[]}}const Wa=/^[:\-\.\w\u00b7-\uffff]*$/;function yr(t){return Object.assign(Object.assign({type:"property"},t.completion||{}),{label:t.name})}function br(t){return typeof t=="string"?{label:`"${t}"`,type:"constant"}:/^"/.test(t.label)?t:Object.assign(Object.assign({},t),{label:`"${t.label}"`})}function mc(t,e){let a=[],n=[],r=Object.create(null);for(let s of e){let c=yr(s);a.push(c),s.global&&n.push(c),s.values&&(r[s.name]=s.values.map(br))}let l=[],o=[],i=Object.create(null);for(let s of t){let c=n,u=r;s.attributes&&(c=c.concat(s.attributes.map(g=>typeof g=="string"?a.find(h=>h.label==g)||{label:g,type:"property"}:(g.values&&(u==r&&(u=Object.create(u)),u[g.name]=g.values.map(br)),yr(g)))));let f=new fc(s,c,u);i[f.name]=f,l.push(f),s.top&&o.push(f)}o.length||(o=l);for(let s=0;s<l.length;s++){let c=t[s],u=l[s];if(c.children)for(let f of c.children)i[f]&&u.children.push(i[f]);else u.children=l}return s=>{var c;let{doc:u}=s.state,f=pc(s.state,s.pos);if(!f||f.type=="tag"&&!s.explicit)return null;let{type:g,from:h,context:p}=f;if(g=="openTag"){let _=o,b=Ua(u,p);if(b){let v=i[b];_=(v==null?void 0:v.children)||l}return{from:h,options:_.map(v=>v.completion),validFor:Wa}}else if(g=="closeTag"){let _=Ua(u,p);return _?{from:h,to:s.pos+(u.sliceString(s.pos,s.pos+1)==">"?1:0),options:[((c=i[_])===null||c===void 0?void 0:c.closeNameCompletion)||{label:_+">",type:"type"}],validFor:Wa}:null}else if(g=="attrName"){let _=i[ta(u,p)];return{from:h,options:(_==null?void 0:_.attrs)||n,validFor:Wa}}else if(g=="attrValue"){let _=dc(u,p,h);if(!_)return null;let b=i[ta(u,p)],v=((b==null?void 0:b.attrValues)||r)[_];return!v||!v.length?null:{from:h,to:s.pos+(u.sliceString(s.pos,s.pos+1)=='"'?1:0),options:v,validFor:/^"[^"]*"?$/}}else if(g=="tag"){let _=Ua(u,p),b=i[_],v=[],w=p&&p.lastChild;_&&(!w||w.name!="CloseTag"||ta(u,w)!=_)&&v.push(b?b.closeCompletion:{label:"</"+_+">",type:"type",boost:2});let E=v.concat(((b==null?void 0:b.children)||(p?l:o)).map(P=>P.openCompletion));if(p&&(b!=null&&b.text.length)){let P=p.firstChild;P.to>s.pos-20&&!/\S/.test(s.state.sliceDoc(P.to,s.pos))&&(E=E.concat(b.text))}return{from:h,options:E,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const _r=pa.define({name:"xml",parser:zu.configure({props:[lc.add({Element(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),oc.add({Element(t){let e=t.firstChild,a=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:a.name=="CloseTag"?a.from:t.to}}}),ic.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function hc(t={}){return new rc(_r,_r.data.of({autocomplete:mc(t.elements||[],t.attributes||[])}))}const aa=Q({__name:"LabEditorDataGridGridCellDetailCodeRenderer",props:{value:{},codeLanguage:{default:$e.Raw},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=Be(),n=On(),r=M(!0),l=C(()=>{const u=[{title:"Copy",value:"copy",props:{prependIcon:"mdi-content-copy"}}];return e.codeLanguage!==$e.Raw&&u.push({title:r.value?"Display raw value":"Pretty print value",value:"pretty-print",props:{prependIcon:r.value?"mdi-raw":"mdi-auto-fix"}}),u}),o=C(()=>{try{return n.formatEntityPropertyValue(e.value,e.codeLanguage,r.value)}catch(u){return console.error(u),`Error: Failed to format value as ${e.codeLanguage}. \r
\r
`+(u!=null&&u.message?`${u.message}.`:"")}}),i=C(()=>{if(!o.value)return[];switch(e.codeLanguage){case $e.Raw:return[];case $e.Json:return[ci()];case $e.Xml:return[hc()];default:return a.error(new tt(void 0,"Unsupported code language.")),[]}});function s(u){switch(u){case"copy":c();break;case"pretty-print":r.value=!r.value;break}}function c(){navigator.clipboard.writeText(o.value).then(()=>{a.info("Copied to clipboard.")}).catch(()=>{a.error(new tt(void 0,"Failed to copy to clipboard."))})}return(u,f)=>(S(),T(Cn,{"fill-space":u.fillSpace,actions:l.value,"onClick:action":s},{default:y(()=>[d(di,{"model-value":o.value,"read-only":"","additional-extensions":i.value},null,8,["model-value","additional-extensions"])]),_:1},8,["fill-space","actions"]))}});/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries:Rl,setPrototypeOf:Sr,isFrozen:gc,getPrototypeOf:vc,getOwnPropertyDescriptor:Vl}=Object;let{freeze:ke,seal:Ne,create:$l}=Object,{apply:sn,construct:un}=typeof Reflect<"u"&&Reflect;ke||(ke=function(e){return e});Ne||(Ne=function(e){return e});sn||(sn=function(e,a,n){return e.apply(a,n)});un||(un=function(e,a){return new e(...a)});const Qt=Ve(Array.prototype.forEach),Or=Ve(Array.prototype.pop),Et=Ve(Array.prototype.push),na=Ve(String.prototype.toLowerCase),za=Ve(String.prototype.toString),yc=Ve(String.prototype.match),Dt=Ve(String.prototype.replace),bc=Ve(String.prototype.indexOf),_c=Ve(String.prototype.trim),xe=Ve(RegExp.prototype.test),xt=Sc(TypeError);function Ve(t){return function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return sn(t,e,n)}}function Sc(t){return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return un(t,a)}}function q(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:na;Sr&&Sr(t,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const l=a(r);l!==r&&(gc(e)||(e[n]=l),r=l)}t[r]=!0}return t}function gt(t){const e=$l(null);for(const[a,n]of Rl(t))Vl(t,a)!==void 0&&(e[a]=n);return e}function Xt(t,e){for(;t!==null;){const n=Vl(t,e);if(n){if(n.get)return Ve(n.get);if(typeof n.value=="function")return Ve(n.value)}t=vc(t)}function a(n){return console.warn("fallback value for",n),null}return a}const wr=ke(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ha=ke(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qa=ke(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oc=ke(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qa=ke(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wc=ke(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Tr=ke(["#text"]),kr=ke(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Xa=ke(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pr=ke(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jt=ke(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tc=Ne(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kc=Ne(/<%[\w\W]*|[\w\W]*%>/gm),Pc=Ne(/\${[\w\W]*}/gm),Ac=Ne(/^data-[\-\w.\u00B7-\uFFFF]/),Cc=Ne(/^aria-[\-\w]+$/),Nl=Ne(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ec=Ne(/^(?:\w+script|data):/i),Dc=Ne(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bl=Ne(/^html$/i);var Ar=Object.freeze({__proto__:null,MUSTACHE_EXPR:Tc,ERB_EXPR:kc,TMPLIT_EXPR:Pc,DATA_ATTR:Ac,ARIA_ATTR:Cc,IS_ALLOWED_URI:Nl,IS_SCRIPT_OR_DATA:Ec,ATTR_WHITESPACE:Dc,DOCTYPE_NAME:Bl});const xc=function(){return typeof window>"u"?null:window},Lc=function(e,a){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";a&&a.hasAttribute(r)&&(n=a.getAttribute(r));const l="dompurify"+(n?"#"+n:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function Ml(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xc();const e=$=>Ml($);if(e.version="3.0.6",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:a}=t;const n=a,r=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:i,Element:s,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:h}=t,p=s.prototype,_=Xt(p,"cloneNode"),b=Xt(p,"nextSibling"),v=Xt(p,"childNodes"),w=Xt(p,"parentNode");if(typeof o=="function"){const $=a.createElement("template");$.content&&$.content.ownerDocument&&(a=$.content.ownerDocument)}let E,P="";const{implementation:O,createNodeIterator:A,createDocumentFragment:x,getElementsByTagName:U}=a,{importNode:B}=n;let L={};e.isSupported=typeof Rl=="function"&&typeof w=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:j,TMPLIT_EXPR:J,DATA_ATTR:me,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:Ae}=Ar;let{IS_ALLOWED_URI:G}=Ar,D=null;const H=q({},[...wr,...Ha,...qa,...Qa,...Tr]);let W=null;const ae=q({},[...kr,...Xa,...Pr,...jt]);let X=Object.seal($l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,wt=null,Bt=!0,Ue=!0,Tt=!1,kt=!0,Fe=!1,nt=!1,Ca=!1,Ea=!1,ct=!1,Mt=!1,Gt=!1,Rn=!0,Vn=!1;const zl="user-content-";let Da=!0,Pt=!1,dt={},pt=null;const $n=q({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Nn=null;const Bn=q({},["audio","video","img","source","image","track"]);let xa=null;const Mn=q({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ut="http://www.w3.org/1998/Math/MathML",Ft="http://www.w3.org/2000/svg",We="http://www.w3.org/1999/xhtml";let ft=We,La=!1,Ia=null;const Hl=q({},[Ut,Ft,We],za);let rt=null;const ql=["application/xhtml+xml","text/html"],Ql="text/html";let fe=null,mt=null;const Xl=a.createElement("form"),Gn=function(m){return m instanceof RegExp||m instanceof Function},Ra=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mt&&mt===m)){if((!m||typeof m!="object")&&(m={}),m=gt(m),rt=ql.indexOf(m.PARSER_MEDIA_TYPE)===-1?rt=Ql:rt=m.PARSER_MEDIA_TYPE,fe=rt==="application/xhtml+xml"?za:na,D="ALLOWED_TAGS"in m?q({},m.ALLOWED_TAGS,fe):H,W="ALLOWED_ATTR"in m?q({},m.ALLOWED_ATTR,fe):ae,Ia="ALLOWED_NAMESPACES"in m?q({},m.ALLOWED_NAMESPACES,za):Hl,xa="ADD_URI_SAFE_ATTR"in m?q(gt(Mn),m.ADD_URI_SAFE_ATTR,fe):Mn,Nn="ADD_DATA_URI_TAGS"in m?q(gt(Bn),m.ADD_DATA_URI_TAGS,fe):Bn,pt="FORBID_CONTENTS"in m?q({},m.FORBID_CONTENTS,fe):$n,Me="FORBID_TAGS"in m?q({},m.FORBID_TAGS,fe):{},wt="FORBID_ATTR"in m?q({},m.FORBID_ATTR,fe):{},dt="USE_PROFILES"in m?m.USE_PROFILES:!1,Bt=m.ALLOW_ARIA_ATTR!==!1,Ue=m.ALLOW_DATA_ATTR!==!1,Tt=m.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=m.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Fe=m.SAFE_FOR_TEMPLATES||!1,nt=m.WHOLE_DOCUMENT||!1,ct=m.RETURN_DOM||!1,Mt=m.RETURN_DOM_FRAGMENT||!1,Gt=m.RETURN_TRUSTED_TYPE||!1,Ea=m.FORCE_BODY||!1,Rn=m.SANITIZE_DOM!==!1,Vn=m.SANITIZE_NAMED_PROPS||!1,Da=m.KEEP_CONTENT!==!1,Pt=m.IN_PLACE||!1,G=m.ALLOWED_URI_REGEXP||Nl,ft=m.NAMESPACE||We,X=m.CUSTOM_ELEMENT_HANDLING||{},m.CUSTOM_ELEMENT_HANDLING&&Gn(m.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=m.CUSTOM_ELEMENT_HANDLING.tagNameCheck),m.CUSTOM_ELEMENT_HANDLING&&Gn(m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),m.CUSTOM_ELEMENT_HANDLING&&typeof m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(Ue=!1),Mt&&(ct=!0),dt&&(D=q({},[...Tr]),W=[],dt.html===!0&&(q(D,wr),q(W,kr)),dt.svg===!0&&(q(D,Ha),q(W,Xa),q(W,jt)),dt.svgFilters===!0&&(q(D,qa),q(W,Xa),q(W,jt)),dt.mathMl===!0&&(q(D,Qa),q(W,Pr),q(W,jt))),m.ADD_TAGS&&(D===H&&(D=gt(D)),q(D,m.ADD_TAGS,fe)),m.ADD_ATTR&&(W===ae&&(W=gt(W)),q(W,m.ADD_ATTR,fe)),m.ADD_URI_SAFE_ATTR&&q(xa,m.ADD_URI_SAFE_ATTR,fe),m.FORBID_CONTENTS&&(pt===$n&&(pt=gt(pt)),q(pt,m.FORBID_CONTENTS,fe)),Da&&(D["#text"]=!0),nt&&q(D,["html","head","body"]),D.table&&(q(D,["tbody"]),delete Me.tbody),m.TRUSTED_TYPES_POLICY){if(typeof m.TRUSTED_TYPES_POLICY.createHTML!="function")throw xt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof m.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw xt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=m.TRUSTED_TYPES_POLICY,P=E.createHTML("")}else E===void 0&&(E=Lc(h,r)),E!==null&&typeof P=="string"&&(P=E.createHTML(""));ke&&ke(m),mt=m}},Un=q({},["mi","mo","mn","ms","mtext"]),Fn=q({},["foreignobject","desc","title","annotation-xml"]),jl=q({},["title","style","font","a","script"]),Wt=q({},Ha);q(Wt,qa),q(Wt,Oc);const Va=q({},Qa);q(Va,wc);const Yl=function(m){let k=w(m);(!k||!k.tagName)&&(k={namespaceURI:ft,tagName:"template"});const V=na(m.tagName),ne=na(k.tagName);return Ia[m.namespaceURI]?m.namespaceURI===Ft?k.namespaceURI===We?V==="svg":k.namespaceURI===Ut?V==="svg"&&(ne==="annotation-xml"||Un[ne]):!!Wt[V]:m.namespaceURI===Ut?k.namespaceURI===We?V==="math":k.namespaceURI===Ft?V==="math"&&Fn[ne]:!!Va[V]:m.namespaceURI===We?k.namespaceURI===Ft&&!Fn[ne]||k.namespaceURI===Ut&&!Un[ne]?!1:!Va[V]&&(jl[V]||!Wt[V]):!!(rt==="application/xhtml+xml"&&Ia[m.namespaceURI]):!1},lt=function(m){Et(e.removed,{element:m});try{m.parentNode.removeChild(m)}catch{m.remove()}},$a=function(m,k){try{Et(e.removed,{attribute:k.getAttributeNode(m),from:k})}catch{Et(e.removed,{attribute:null,from:k})}if(k.removeAttribute(m),m==="is"&&!W[m])if(ct||Mt)try{lt(k)}catch{}else try{k.setAttribute(m,"")}catch{}},Wn=function(m){let k=null,V=null;if(Ea)m="<remove></remove>"+m;else{const ye=yc(m,/^[\r\n\t ]+/);V=ye&&ye[0]}rt==="application/xhtml+xml"&&ft===We&&(m='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+m+"</body></html>");const ne=E?E.createHTML(m):m;if(ft===We)try{k=new g().parseFromString(ne,rt)}catch{}if(!k||!k.documentElement){k=O.createDocument(ft,"template",null);try{k.documentElement.innerHTML=La?P:ne}catch{}}const ve=k.body||k.documentElement;return m&&V&&ve.insertBefore(a.createTextNode(V),ve.childNodes[0]||null),ft===We?U.call(k,nt?"html":"body")[0]:nt?k.documentElement:ve},zn=function(m){return A.call(m.ownerDocument||m,m,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null)},Kl=function(m){return m instanceof f&&(typeof m.nodeName!="string"||typeof m.textContent!="string"||typeof m.removeChild!="function"||!(m.attributes instanceof u)||typeof m.removeAttribute!="function"||typeof m.setAttribute!="function"||typeof m.namespaceURI!="string"||typeof m.insertBefore!="function"||typeof m.hasChildNodes!="function")},Hn=function(m){return typeof i=="function"&&m instanceof i},ze=function(m,k,V){L[m]&&Qt(L[m],ne=>{ne.call(e,k,V,mt)})},qn=function(m){let k=null;if(ze("beforeSanitizeElements",m,null),Kl(m))return lt(m),!0;const V=fe(m.nodeName);if(ze("uponSanitizeElement",m,{tagName:V,allowedTags:D}),m.hasChildNodes()&&!Hn(m.firstElementChild)&&xe(/<[/\w]/g,m.innerHTML)&&xe(/<[/\w]/g,m.textContent))return lt(m),!0;if(!D[V]||Me[V]){if(!Me[V]&&Xn(V)&&(X.tagNameCheck instanceof RegExp&&xe(X.tagNameCheck,V)||X.tagNameCheck instanceof Function&&X.tagNameCheck(V)))return!1;if(Da&&!pt[V]){const ne=w(m)||m.parentNode,ve=v(m)||m.childNodes;if(ve&&ne){const ye=ve.length;for(let Ce=ye-1;Ce>=0;--Ce)ne.insertBefore(_(ve[Ce],!0),b(m))}}return lt(m),!0}return m instanceof s&&!Yl(m)||(V==="noscript"||V==="noembed"||V==="noframes")&&xe(/<\/no(script|embed|frames)/i,m.innerHTML)?(lt(m),!0):(Fe&&m.nodeType===3&&(k=m.textContent,Qt([z,j,J],ne=>{k=Dt(k,ne," ")}),m.textContent!==k&&(Et(e.removed,{element:m.cloneNode()}),m.textContent=k)),ze("afterSanitizeElements",m,null),!1)},Qn=function(m,k,V){if(Rn&&(k==="id"||k==="name")&&(V in a||V in Xl))return!1;if(!(Ue&&!wt[k]&&xe(me,k))){if(!(Bt&&xe(ee,k))){if(!W[k]||wt[k]){if(!(Xn(m)&&(X.tagNameCheck instanceof RegExp&&xe(X.tagNameCheck,m)||X.tagNameCheck instanceof Function&&X.tagNameCheck(m))&&(X.attributeNameCheck instanceof RegExp&&xe(X.attributeNameCheck,k)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(k))||k==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&xe(X.tagNameCheck,V)||X.tagNameCheck instanceof Function&&X.tagNameCheck(V))))return!1}else if(!xa[k]){if(!xe(G,Dt(V,Ae,""))){if(!((k==="src"||k==="xlink:href"||k==="href")&&m!=="script"&&bc(V,"data:")===0&&Nn[m])){if(!(Tt&&!xe(de,Dt(V,Ae,"")))){if(V)return!1}}}}}}return!0},Xn=function(m){return m.indexOf("-")>0},jn=function(m){ze("beforeSanitizeAttributes",m,null);const{attributes:k}=m;if(!k)return;const V={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};let ne=k.length;for(;ne--;){const ve=k[ne],{name:ye,namespaceURI:Ce,value:ot}=ve,At=fe(ye);let Ee=ye==="value"?ot:_c(ot);if(V.attrName=At,V.attrValue=Ee,V.keepAttr=!0,V.forceKeepAttr=void 0,ze("uponSanitizeAttribute",m,V),Ee=V.attrValue,V.forceKeepAttr||($a(ye,m),!V.keepAttr))continue;if(!kt&&xe(/\/>/i,Ee)){$a(ye,m);continue}Fe&&Qt([z,j,J],Kn=>{Ee=Dt(Ee,Kn," ")});const Yn=fe(m.nodeName);if(Qn(Yn,At,Ee)){if(Vn&&(At==="id"||At==="name")&&($a(ye,m),Ee=zl+Ee),E&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Ce)switch(h.getAttributeType(Yn,At)){case"TrustedHTML":{Ee=E.createHTML(Ee);break}case"TrustedScriptURL":{Ee=E.createScriptURL(Ee);break}}try{Ce?m.setAttributeNS(Ce,ye,Ee):m.setAttribute(ye,Ee),Or(e.removed)}catch{}}}ze("afterSanitizeAttributes",m,null)},Zl=function $(m){let k=null;const V=zn(m);for(ze("beforeSanitizeShadowDOM",m,null);k=V.nextNode();)ze("uponSanitizeShadowNode",k,null),!qn(k)&&(k.content instanceof l&&$(k.content),jn(k));ze("afterSanitizeShadowDOM",m,null)};return e.sanitize=function($){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=null,V=null,ne=null,ve=null;if(La=!$,La&&($="<!-->"),typeof $!="string"&&!Hn($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw xt("dirty is not a string, aborting")}else throw xt("toString is not a function");if(!e.isSupported)return $;if(Ca||Ra(m),e.removed=[],typeof $=="string"&&(Pt=!1),Pt){if($.nodeName){const ot=fe($.nodeName);if(!D[ot]||Me[ot])throw xt("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof i)k=Wn("<!---->"),V=k.ownerDocument.importNode($,!0),V.nodeType===1&&V.nodeName==="BODY"||V.nodeName==="HTML"?k=V:k.appendChild(V);else{if(!ct&&!Fe&&!nt&&$.indexOf("<")===-1)return E&&Gt?E.createHTML($):$;if(k=Wn($),!k)return ct?null:Gt?P:""}k&&Ea&&lt(k.firstChild);const ye=zn(Pt?$:k);for(;ne=ye.nextNode();)qn(ne)||(ne.content instanceof l&&Zl(ne.content),jn(ne));if(Pt)return $;if(ct){if(Mt)for(ve=x.call(k.ownerDocument);k.firstChild;)ve.appendChild(k.firstChild);else ve=k;return(W.shadowroot||W.shadowrootmode)&&(ve=B.call(n,ve,!0)),ve}let Ce=nt?k.outerHTML:k.innerHTML;return nt&&D["!doctype"]&&k.ownerDocument&&k.ownerDocument.doctype&&k.ownerDocument.doctype.name&&xe(Bl,k.ownerDocument.doctype.name)&&(Ce="<!DOCTYPE "+k.ownerDocument.doctype.name+`>
`+Ce),Fe&&Qt([z,j,J],ot=>{Ce=Dt(Ce,ot," ")}),E&&Gt?E.createHTML(Ce):Ce},e.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ra($),Ca=!0},e.clearConfig=function(){mt=null,Ca=!1},e.isValidAttribute=function($,m,k){mt||Ra({});const V=fe($),ne=fe(m);return Qn(V,ne,k)},e.addHook=function($,m){typeof m=="function"&&(L[$]=L[$]||[],Et(L[$],m))},e.removeHook=function($){if(L[$])return Or(L[$])},e.removeHooks=function($){L[$]&&(L[$]=[])},e.removeAllHooks=function(){L={}},e}var Ic=Ml();const Rc={class:"html-renderer"},Vc=["innerHTML"],$c=Q({__name:"LabEditorDataGridGridCellDetailHtmlRenderer",props:{value:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=C(()=>typeof e.value!="string"?"Error: Failed to render HTML. Value is not a string.":Ic.sanitize(e.value.toString()));return(n,r)=>(S(),T(Cn,{"fill-space":n.fillSpace},{default:y(()=>[N("div",Rc,[N("div",{innerHTML:a.value},null,8,Vc)])]),_:1},8,["fill-space"]))}});const Gl=ue($c,[["__scopeId","data-v-9b8348bc"]]),Nc=Q({__name:"LabEditorDataGridGridCellDetailAutoPrettyPrintRenderer",props:{dataType:{},value:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=["<div","<a","<p","<span","<ul","<li","<img","<h1","<h2","<h3","<input","<body","<html","<head","<title","<meta","<link","<style","<script","<br","<ol","<h4","<h5","<h6","<i","<b","<form"],n=C(()=>{const l={};if(!e.dataType)l.renderer={type:"code",codeLanguage:$e.Raw},e.value instanceof Object?l.value=JSON.stringify(e.value):l.value=e.value.toString();else switch(e.dataType){case K.String:{const o=e.value.trim();o.startsWith("{")||o.startsWith("[")?(l.renderer={type:"code",codeLanguage:$e.Json},l.value=o):o.startsWith("<")?(r(o)?l.renderer={type:"html"}:l.renderer={type:"code",codeLanguage:$e.Xml},l.value=o):(l.renderer={type:"markdown"},l.value=o);break}case K.ComplexDataObject:l.renderer={type:"code",codeLanguage:$e.Json},l.value=e.value;break;default:l.renderer={type:"markdown"},l.value=e.value;break}return l});function r(l){for(const o of a)if(l.includes(o))return!0;return!1}return(l,o)=>n.value.renderer.type==="markdown"?(S(),T(El,{key:0,value:n.value.value,"data-type":l.dataType},null,8,["value","data-type"])):n.value.renderer.type==="code"?(S(),T(aa,{key:1,value:n.value.value,"code-language":n.value.renderer.codeLanguage},null,8,["value","code-language"])):n.value.renderer.type==="html"?(S(),T(Gl,{key:2,value:n.value.value},null,8,["value"])):te("",!0)}}),Ul=Q({__name:"LabEditorDataGridGridCellDetailDelegateRenderer",props:{dataType:{},value:{},outputFormat:{default:Te.AutoPrettyPrint},fillSpace:{type:Boolean,default:!0}},setup(t){return(e,a)=>e.outputFormat===R(Te).AutoPrettyPrint?(S(),T(Nc,{key:0,"data-type":e.dataType,value:e.value,"fill-space":e.fillSpace},null,8,["data-type","value","fill-space"])):e.outputFormat===R(Te).Markdown?(S(),T(El,{key:1,value:e.value,"data-type":e.dataType,"fill-space":e.fillSpace},null,8,["value","data-type","fill-space"])):e.outputFormat===R(Te).Raw?(S(),T(aa,{key:2,value:e.value,"fill-space":e.fillSpace},null,8,["value","fill-space"])):e.outputFormat===R(Te).Json?(S(),T(aa,{key:3,value:e.value,"code-language":R($e).Json,"fill-space":e.fillSpace},null,8,["value","code-language","fill-space"])):e.outputFormat===R(Te).Xml?(S(),T(aa,{key:4,value:e.value,"code-language":R($e).Xml,"fill-space":e.fillSpace},null,8,["value","code-language","fill-space"])):e.outputFormat===R(Te).Html?(S(),T(Gl,{key:5,value:e.value,"fill-space":e.fillSpace},null,8,["value","fill-space"])):te("",!0)}}),Fl=Q({__name:"LabEditorDataGridGridCellDetailOutputFormatSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=[{title:"Auto pretty print",value:Te.AutoPrettyPrint,props:{prependIcon:"mdi-auto-fix"}},{title:"Raw value",value:Te.Raw,props:{prependIcon:"mdi-text"}},{title:"Markdown",value:Te.Markdown,props:{prependIcon:"mdi-language-markdown-outline"}},{title:"JSON",value:Te.Json,props:{prependIcon:"mdi-code-json"}},{title:"XML",value:Te.Xml,props:{prependIcon:"mdi-xml"}},{title:"HTML",value:Te.Html,props:{prependIcon:"mdi-language-html5"}}];return(n,r)=>(S(),T(ba,null,{activator:y(({props:l})=>[d(se,pe({icon:"",variant:"text",density:"compact"},l),{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-code-braces")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Select output format ")]),_:1})]),_:2},1040)]),default:y(()=>[d(st,{selected:[n.modelValue],items:a,"onUpdate:selected":r[0]||(r[0]=l=>e("update:modelValue",l[0]))},null,8,["selected"])]),_:1}))}}),In=Sa("flex-grow-1","div","VSpacer"),Bc={class:"array-item__title"},Mc={class:"mr-2"},Gc={class:"array-item__content"},Uc=Q({__name:"LabEditorDataGridGridDetailValueListItem",props:{value:{},componentDataType:{}},setup(t){const e=M(Te.AutoPrettyPrint);return(a,n)=>(S(),T(mi,null,{default:y(()=>[d(pi,null,{default:y(()=>[N("div",Bc,Z(a.value),1),d(In),N("div",Mc,[d(Fl,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=r=>e.value=r),class:"mr-4"},null,8,["modelValue"])])]),_:1}),d(fi,null,{default:y(()=>[N("div",Gc,[d(Ul,{"data-type":a.componentDataType,value:a.value,"output-format":e.value,"fill-space":!1},null,8,["data-type","value","output-format"])])]),_:1})]),_:1}))}}),Fc=Q({__name:"LabEditorDataGridGridCellDetail",props:{modelValue:{type:Boolean},propertyDescriptor:{},propertyValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=C(()=>{var c;const s=(c=a.propertyDescriptor)==null?void 0:c.type;if(s===F.AssociatedData)return"mdi-package-variant-closed";if(s===F.References)return"mdi-link-variant"}),r=M(Te.AutoPrettyPrint),l=C(()=>{var s,c,u;if(((s=a.propertyDescriptor)==null?void 0:s.type)===F.Entity)switch(a.propertyDescriptor.key.name){case yt.PrimaryKey:return K.Integer;case yt.Locales:case yt.AllLocales:return K.LocaleArray;case yt.PriceInnerRecordHandling:return K.String;default:return}return(u=(c=a.propertyDescriptor)==null?void 0:c.schema)==null?void 0:u.type}),o=C(()=>{var s;return((s=l==null?void 0:l.value)==null?void 0:s.endsWith("Array"))||!1}),i=C(()=>{if(l.value)return o.value?l.value.replace("Array",""):l.value});return(s,c)=>(S(),T(wa,{class:"data-grid-cell-detail"},{default:y(()=>[d(Jr,null,{default:y(()=>{var u;return[n.value?(S(),T(re,{key:0,class:"mr-2"},{default:y(()=>[I(Z(n.value),1)]),_:1})):te("",!0),N("span",null,Z(((u=s.propertyDescriptor)==null?void 0:u.title)||"Unknown property"),1)]}),actions:y(()=>[o.value?te("",!0):(S(),T(Fl,{key:0,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u)},null,8,["modelValue"])),d(se,{icon:"",variant:"flat",density:"compact",onClick:c[1]||(c[1]=u=>e("update:modelValue",!1))},{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-close")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Close detail ")]),_:1})]),_:1})]),_:1}),d(Hr),d(Nt,{class:"data-grid-cell-detail__body"},{default:y(()=>[o.value?(S(),T(hi,{key:1,variant:"accordion",multiple:"",class:"pa-4"},{default:y(()=>[(S(!0),Y(le,null,De(s.propertyValue,(u,f)=>(S(),T(Uc,{key:f,value:u,"component-data-type":i.value},null,8,["value","component-data-type"]))),128))]),_:1})):(S(),T(Ul,{key:0,"data-type":i.value,value:s.propertyValue,"output-format":r.value},null,8,["data-type","value","output-format"]))]),_:1})]),_:1}))}});const Wc=ue(Fc,[["__scopeId","data-v-4655d3c1"]]),zc=["onMouseup"],Hc={class:"data-grid-cell__body"},qc={key:0,class:"text-disabled"},Qc={key:1,class:"text-disabled"},Xc={key:2,class:"text-disabled"},jc=Q({__name:"LabEditorDataGridGridCell",props:{propertyDescriptor:{},dataLocale:{},propertyValue:{}},emits:["click"],setup(t,{emit:e}){const a=t,n=Be(),r=C(()=>i(a.propertyValue)),l=C(()=>{var c,u,f,g,h,p;return((c=a.propertyDescriptor)==null?void 0:c.type)===F.Entity&&((u=a.propertyDescriptor)==null?void 0:u.key.name)===yt.ParentPrimaryKey||((f=a.propertyDescriptor)==null?void 0:f.type)===F.Attributes&&a.propertyDescriptor.schema.type===K.Predecessor||((g=a.propertyDescriptor)==null?void 0:g.type)===F.AssociatedData&&a.propertyDescriptor.schema.type===K.Predecessor?!0:!!((p=(h=a.propertyDescriptor)==null?void 0:h.schema)!=null&&p.referencedEntityType)}),o=C(()=>r.value.length<=100);function i(c){if(c==null)return"";if(c instanceof Array)return c.length===0?"":`[${c.map(u=>i(u)).join(", ")}]`;if(c instanceof gi){const u=[];for(const f of c.representativeAttributes)f instanceof Array?u.push(...f.map(g=>i(g))):u.push(i(f));return u.length===0?`${c.primaryKey}`:`${c.primaryKey}: ${u.join(", ")}`}else return c instanceof Object?JSON.stringify(c):c.toString()}function s(){r.value&&navigator.clipboard.writeText(r.value).then(()=>{n.info("Copied to clipboard.")}).catch(()=>{n.error(new tt(void 0,"Failed to copy to clipboard."))})}return(c,u)=>{var f,g;return S(),Y("td",{class:_a({"data-grid-cell--clickable":r.value}),onClick:u[0]||(u[0]=h=>e("click")),onMouseup:Je(s,["middle"])},[N("span",Hc,[(g=(f=c.propertyDescriptor)==null?void 0:f.schema)!=null&&g.localized&&!c.dataLocale?(S(),Y("span",qc,"<no locale selected>")):c.propertyValue instanceof Array&&c.propertyValue.length===0?(S(),Y("span",Qc,"<empty array>")):c.propertyValue?(S(),Y(le,{key:3},[l.value?(S(),T(re,{key:0,class:"mr-1"},{default:y(()=>[I("mdi-open-in-new")]),_:1})):te("",!0),N("span",null,[I(Z(r.value)+" ",1),o.value?(S(),T(_e,{key:0,activator:"parent"},{default:y(()=>[I(Z(r.value),1)]),_:1})):te("",!0)])],64)):(S(),Y("span",Xc,"<null>"))])],42,zc)}}});const Yc=ue(jc,[["__scopeId","data-v-59fd49fd"]]),Kc={class:"data-grid-column-header-content"},Zc={class:"data-grid-column-header-content__title"},Jc=Q({__name:"LabEditorDataGridGridColumnHeader",props:{column:{},isSorted:{type:Function},getSortIcon:{type:Function},toggleSort:{type:Function}},setup(t){const e=t,a=C(()=>{var s;const i=(s=e.column.descriptor)==null?void 0:s.type;if(i===F.AssociatedData)return"mdi-package-variant-closed";if(i===F.References)return"mdi-link-variant"}),n=C(()=>{var i,s;return(s=(i=e.column.descriptor)==null?void 0:i.schema)==null?void 0:s.sortable}),r=C(()=>e.isSorted(e.column)),l=C(()=>{var i,s;return(s=(i=e.column.descriptor)==null?void 0:i.schema)==null?void 0:s.localized});function o(){n.value&&e.toggleSort(e.column)}return(i,s)=>(S(),Y("th",{onClick:o,class:_a(["data-grid-column-header",{"data-grid-column-header--sortable":n.value}])},[N("div",Kc,[N("div",Zc,[a.value?(S(),T(re,{key:0},{default:y(()=>[I(Z(a.value),1)]),_:1})):te("",!0),N("span",null,Z(i.column.title),1),l.value?(S(),T(re,{key:1},{default:y(()=>[I("mdi-translate")]),_:1})):te("",!0)]),r.value?(S(),T(re,{key:0},{default:y(()=>[I(Z(e.getSortIcon(e.column)),1)]),_:1})):n.value?(S(),T(re,{key:1},{default:y(()=>[I("mdi-sort")]),_:1})):te("",!0)])],2))}});const ed=ue(Jc,[["__scopeId","data-v-aa42fd5a"]]),td=Q({__name:"LabEditorDataGridGrid",props:{gridProps:{},entityPropertyDescriptors:{},dataLocale:{},queryLanguage:{},displayedGridHeaders:{},loading:{type:Boolean},resultEntities:{},totalResultCount:{},pageNumber:{},pageSize:{}},emits:["gridUpdated"],setup(t,{emit:e}){const a=t,n=Xe(),r=On(),l=Be(),o=[10,25,50,100,250,500,1e3].map(p=>({title:p.toString(10),value:p})),i=new Map;a.entityPropertyDescriptors.forEach(p=>i.set(p.key.toString(),p));const s=M(!1),c=M(),u=M();function f(p){const _=i.get(p);return _==null&&l.error(new tt(a.gridProps.params.dataPointer.connection,"Failed to find property descriptor for key: "+p)),_}function g(p,_){if(!_)return;const b=f(p);!_||_ instanceof Array&&_.length===0||(b&&b.type===F.Entity&&b.key.name===yt.ParentPrimaryKey?n.createTabRequest(new ra(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildParentEntityFilterBy(a.queryLanguage,_.primaryKey)},!0)):b&&(b.type===F.Attributes&&b.schema.type===K.Predecessor||b.type===F.AssociatedData&&b.schema.type===K.Predecessor)?n.createTabRequest(new ra(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildPredecessorEntityFilterBy(a.queryLanguage,_)},!0)):b&&b.type===F.References?n.createTabRequest(new ra(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,b.schema.referencedEntityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildReferencedEntityFilterBy(a.queryLanguage,_ instanceof Array?_.map(v=>v.primaryKey):[_.primaryKey])},!0)):(c.value=b,u.value=_,s.value=!0))}function h(){s.value=!1,c.value=void 0,u.value=void 0}return(p,_)=>(S(),T(R(vi),{vertical:"",class:"data-grid__body"},{default:y(()=>[d(R(ar),{size:"70","min-size":"30"},{default:y(()=>[d(R(Ou),{headers:p.displayedGridHeaders,loading:p.loading,items:p.resultEntities,"items-length":p.totalResultCount,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":p.pageSize,"items-per-page-Options":R(o),"onUpdate:options":_[0]||(_[0]=b=>e("gridUpdated",b))},{headers:y(({columns:b,isSorted:v,getSortIcon:w,toggleSort:E})=>[N("tr",null,[(S(!0),Y(le,null,De(b,P=>(S(),T(ed,{key:P.key,column:P,"is-sorted":v,"get-sort-icon":w,"toggle-sort":E},null,8,["column","is-sorted","get-sort-icon","toggle-sort"]))),128))])]),item:y(({item:b})=>[N("tr",null,[(S(!0),Y(le,null,De(b.columns,(v,w)=>(S(),T(Yc,{key:w,"property-descriptor":R(i).get(w),"data-locale":p.dataLocale,"property-value":v,onClick:E=>g(w,v)},null,8,["property-descriptor","data-locale","property-value","onClick"]))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),s.value?(S(),T(R(ar),{key:0,size:"30","min-size":"30"},{default:y(()=>[d(Wc,{"model-value":s.value,"property-descriptor":c.value,"property-value":u.value,"onUpdate:modelValue":h},null,8,["model-value","property-descriptor","property-value"])]),_:1})):te("",!0)]),_:1}))}});const ad=ue(td,[["__scopeId","data-v-f81a9e60"]]),nd={key:0,class:"data-grid"},rd=Q({__name:"LabEditorDataGrid",props:{params:{},data:{}},emits:["ready"],setup(t,{emit:e}){var z,j,J,me,ee,de,Ae;const a=t,n=On(),r=Be(),l=M([a.params.dataPointer.catalogName,a.params.dataPointer.entityType]);let o=[],i=[],s=new Map,c=[];const u=M((z=a.data)!=null&&z.queryLanguage?a.data.queryLanguage:Jt.EvitaQL);ge(u,(G,D)=>{G[0]!==D[0]&&(p.value="",_.value="",L())});const f=M(!1),g=M((j=a.data)!=null&&j.pageNumber?a.data.pageNumber:1),h=M((J=a.data)!=null&&J.pageSize?a.data.pageSize:25),p=M((me=a.data)!=null&&me.filterBy?a.data.filterBy:""),_=M((ee=a.data)!=null&&ee.orderBy?a.data.orderBy:""),b=M((de=a.data)!=null&&de.dataLocale?a.data.dataLocale:void 0);ge(b,()=>L());const v=M((Ae=a.data)!=null&&Ae.displayedProperties?a.data.displayedProperties:[]);ge(v,(G,D)=>{x(),G.length>D.length&&L()});const w=M([]),E=M([]),P=M(0),O=M(!1);e("ready"),Vr(()=>{n.getDataLocales(a.params.dataPointer).then(G=>(c=G,n.getEntityPropertyDescriptors(a.params.dataPointer))).then(G=>(i=G,o=i.map(D=>D.key.toString()),A(i))).then(G=>{s=G,U(),O.value=!0,e("ready"),a.params.executeOnOpen&&L()}).catch(G=>{r.error(G)})});async function A(G){var H;const D=new Map;for(const W of G)D.set(W.key.toString(),{key:W.key.toString(),title:W.title,sortable:((H=W.schema)==null?void 0:H.sortable)||!1,descriptor:W});return D}async function x(){w.value=v.value.map(G=>s.get(G.toString())),w.value.sort((G,D)=>o.indexOf(G.key.toString())-o.indexOf(D.key.toString()))}function U(){v.value.length>0||(v.value=i.filter(G=>{var D;return G.key.type===F.Entity||((D=G.schema)==null?void 0:D.representative)}).map(G=>G.key))}async function B({page:G,itemsPerPage:D,sortBy:H}){g.value=G,h.value=D;try{_.value=await n.buildOrderByFromGridColumns(a.params.dataPointer,u.value,H)}catch(W){r.error(W)}await L()}async function L(){f.value=!0;try{const G=await n.executeQuery(a.params.dataPointer,u.value,p.value,_.value,b.value,v.value,g.value,h.value);E.value=G.entities.map(D=>{const H={};return D.forEach(([W,ae])=>H[W.toString()]=ae),H}),P.value=G.totalEntitiesCount}catch(G){r.error(G)}f.value=!1}return(G,D)=>O.value?(S(),Y("div",nd,[d(Ys,{path:l.value,locale:b.value,loading:f.value,onExecuteQuery:L},{query:y(()=>[d(js,{"grid-props":a,"selected-query-language":u.value,"onUpdate:selectedQueryLanguage":D[0]||(D[0]=H=>u.value=H),"filter-by":p.value,"onUpdate:filterBy":D[1]||(D[1]=H=>p.value=H),"order-by":_.value,"onUpdate:orderBy":D[2]||(D[2]=H=>_.value=H),"data-locales":R(c),"selected-data-locale":b.value,"onUpdate:selectedDataLocale":D[3]||(D[3]=H=>b.value=H),"entity-property-descriptors":R(i),"selected-entity-property-keys":v.value,"onUpdate:selectedEntityPropertyKeys":D[4]||(D[4]=H=>v.value=H),onExecuteQuery:L},null,8,["grid-props","selected-query-language","filter-by","order-by","data-locales","selected-data-locale","entity-property-descriptors","selected-entity-property-keys"])]),_:1},8,["path","locale","loading"]),d(ad,{"grid-props":a,"entity-property-descriptors":R(i),"displayed-grid-headers":w.value,"data-locale":b.value,"query-language":u.value,loading:f.value,"result-entities":E.value,"total-result-count":P.value,"page-number":g.value,"page-size":h.value,onGridUpdated:B},null,8,["grid-props","entity-property-descriptors","displayed-grid-headers","data-locale","query-language","loading","result-entities","total-result-count","page-number","page-size"])])):te("",!0)}});const ld=ue(rd,[["__scopeId","data-v-4013e03a"]]);class ra extends yi{constructor(e,a,n,r=void 0,l=!1){super(`${a} - ${n} [${e.name}]`,"mdi-table",bi(ld),{dataPointer:new _i(e,a,n),executeOnOpen:l},r)}}const od=Q({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(t){const e=t,a=M([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),n=Xe(),r=qe("connection"),l=qe("catalogSchema");function o(){n.createTabRequest(new ra(r,l.value.name,e.entitySchema.name))}function i(s){switch(s){case"view-entities":o();break;case"view-schema":n.createTabRequest(new Ot(r,new Wr(l.value.name,e.entitySchema.name)));break}}return(s,c)=>(S(),T(oa,{"prepend-icon":"mdi-list-box-outline",actions:a.value,onClick:o,"onClick:action":i,class:"text-gray-light text-sm-body-2"},{default:y(()=>[I(Z(s.entitySchema.name),1)]),_:1},8,["actions"]))}}),id={},sd=N("span",{class:"pl-8 text-disabled"}," No items found ",-1);function ud(t,e){return S(),T(et,null,{default:y(()=>[sd]),_:1})}const Wl=ue(id,[["render",ud]]),cd={key:0},dd=Q({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(t){const e=t,a=M([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),n=Qe(),r=Xe(),l=Be(),o=qe("connection"),i=M();je("catalogSchema",i);const s=M(!1);async function c(){if(!(i.value!==void 0||e.catalog.corrupted)){s.value=!0;try{i.value=await n.getCatalogSchema(o,e.catalog.name)}catch(f){l.error(f)}s.value=!1}}function u(f){switch(f){case"open-evitaql-console":r.createTabRequest(new Oi(o,e.catalog.name));break;case"open-graphql-data-api-console":r.createTabRequest(new tn(o,e.catalog.name,an.DATA));break;case"open-graphql-schema-api-console":r.createTabRequest(new tn(o,e.catalog.name,an.SCHEMA));break;case"view-schema":r.createTabRequest(new Ot(o,new Si(e.catalog.name)));break}}return(f,g)=>(S(),T(bn,{value:`${R(o).name}|${f.catalog.name}`},{activator:y(({isOpen:h,props:p})=>[f.catalog.corrupted?(S(),T(oa,pe({key:1},p,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:y(()=>[I(Z(f.catalog.name)+" ",1),d(_e,{activator:"parent"},{default:y(()=>[I(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(S(),T(oa,pe({key:0},p,{openable:"","is-open":h,"prepend-icon":"mdi-menu",loading:s.value,actions:a.value,onClick:c,"onClick:action":u,class:"font-weight-bold"}),{default:y(()=>[I(Z(f.catalog.name),1)]),_:2},1040,["is-open","loading","actions"]))]),default:y(()=>[!f.catalog.corrupted&&i.value!==void 0?(S(),Y("div",cd,[Object.values(i.value.entitySchemas).length>0?(S(!0),Y(le,{key:0},De(Object.values(i.value.entitySchemas),h=>(S(),T(od,{key:h.name,"entity-schema":h},null,8,["entity-schema"]))),128)):(S(),T(Wl,{key:1}))])):te("",!0)]),_:1},8,["value"]))}}),pd=Q({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=Qe(),r=Be();function l(){e("update:modelValue",!1)}function o(){try{n.removeConnection(a.connection.id)}catch(i){r.error(i);return}r.success("Connection removed."),e("update:modelValue",!1)}return(i,s)=>(S(),T(kn,{"model-value":i.modelValue,"max-width":"30rem","onUpdate:modelValue":s[0]||(s[0]=c=>i.$emit("update:modelValue",c))},{activator:y(({props:c})=>[Ze(i.$slots,"activator",vn(yn(c)))]),default:y(()=>[d(wa,{class:"py-8 px-4"},{default:y(()=>[d(Rt,null,{default:y(()=>[I("Remove connection")]),_:1}),d(Nt,{class:"mb-4"},{default:y(()=>[I(" Are you sure you want to remove the connection "),N("strong",null,Z(i.connection.name),1),I("? ")]),_:1}),d(Tn,null,{default:y(()=>[d(In),d(se,{onClick:l,variant:"tonal"},{default:y(()=>[I(" Cancel ")]),_:1}),d(se,{variant:"outlined","prepend-icon":"mdi-delete",onClick:o},{default:y(()=>[I(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),fd={key:0},md=Q({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(t){const e=t,a=Xe(),n=Qe(),r=Be();je("connection",wi(e.connection));const l=M([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!n.isReadOnly()&&!e.connection.preconfigured&&l.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const o=M(!1),i=M(),s=M(!1);async function c(){if(i.value===void 0){s.value=!0;try{i.value=await n.getCatalogs(e.connection)}catch(f){r.error(f)}s.value=!1}}function u(f,g){switch(f){case"open-graphql-system-api-console":a.createTabRequest(new tn(e.connection,"system",an.SYSTEM));break;case"edit":throw new tt(void 0,"Not implemented yet.");case"remove":o.value=!0;break}}return(f,g)=>(S(),T(bn,{value:f.connection.name},{activator:y(({isOpen:h,props:p})=>[d(oa,pe(p,{openable:"","is-open":h,"prepend-icon":"mdi-power-plug-outline",loading:s.value,actions:l.value,onClick:c,"onClick:action":u,class:"font-weight-bold"}),{default:y(()=>[I(Z(f.connection.name),1)]),_:2},1040,["is-open","loading","actions"])]),default:y(()=>[i.value!==void 0?(S(),Y("div",fd,[i.value.length>0?(S(!0),Y(le,{key:0},De(i.value,h=>(S(),T(dd,{key:h.name,catalog:h},null,8,["catalog"]))),128)):(S(),T(Wl,{key:1}))])):te("",!0),d(pd,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=h=>o.value=h),connection:f.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),hd=oe({...at(),...Ti()},"VForm"),gd=Se()({name:"VForm",props:hd(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:a,emit:n}=e;const r=ki(t),l=M();function o(s){s.preventDefault(),r.reset()}function i(s){const c=s,u=r.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),n("submit",c),c.defaultPrevented||u.then(f=>{var h;let{valid:g}=f;g&&((h=l.value)==null||h.submit())}),c.preventDefault()}return Pe(()=>{var s;return d("form",{ref:l,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:o,onSubmit:i},[(s=a.default)==null?void 0:s.call(a,r)])}),zr(r,l)}}),vd=Q({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=Qe(),r=Be(),l=[v=>v?!0:"Name of connection is required.",v=>n.isConnectionExists(v)?"Connection with this name already exists.":!0],o=[v=>v?!0:"evitaLab API URL is required.",v=>{try{return new URL(v),!0}catch{return"evitaLab API URL is not a valid URL."}},async v=>await g()?(u.value.labApiUrlTested=1,!0):(u.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],i=[v=>v?!0:"GraphQL API URL is required.",v=>{try{return new URL(v),!0}catch{return"GraphQL API URL is not a valid URL."}},async v=>await h()?(u.value.gqlUrlTested=1,!0):(u.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],s=M(null),c=C(()=>a.connection?1:0),u=M({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function f(v){switch(v){case 0:return null;case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}}async function g(){try{return(await nr.get(u.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function h(){var v;try{const w=await nr.post(u.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((v=w==null?void 0:w.data)==null?void 0:v.liveness)||!1}catch{return!1}}async function p(){let v=!0;return await g()?u.value.labApiUrlTested=1:(v=!1,u.value.labApiUrlTested=2),await h()?u.value.gqlUrlTested=1:(v=!1,u.value.gqlUrlTested=2),v?r.success("Successfully connected."):r.error("Connection test failed."),v}function _(){s.value.reset(),u.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},e("update:modelValue",!1)}async function b(){const{valid:v}=await s.value.validate();if(v){try{n.addConnection(new Pi(void 0,u.value.name,!1,u.value.labApiUrl,"https://localhost:5555/rest",u.value.gqlUrl))}catch(w){r.error(w);return}s.value.reset(),e("update:modelValue",!1)}}return(v,w)=>(S(),T(kn,{"model-value":v.modelValue,"onUpdate:modelValue":w[3]||(w[3]=E=>v.$emit("update:modelValue",E)),persistent:"","max-width":"36rem"},{activator:y(({props:E})=>[Ze(v.$slots,"activator",vn(yn(E)))]),default:y(()=>[d(wa,{class:"py-8 px-4"},{default:y(()=>[c.value===0?(S(),T(Rt,{key:0},{default:y(()=>[I("Add connection")]),_:1})):te("",!0),c.value===1?(S(),T(Rt,{key:1},{default:y(()=>[I("Edit connection")]),_:1})):te("",!0),d(Nt,null,{default:y(()=>[d(gd,{ref_key:"form",ref:s,"validate-on":"submit"},{default:y(()=>[d(Zt,{modelValue:u.value.name,"onUpdate:modelValue":w[0]||(w[0]=E=>u.value.name=E),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:l,required:""},null,8,["modelValue"]),d(Zt,{modelValue:u.value.labApiUrl,"onUpdate:modelValue":w[1]||(w[1]=E=>u.value.labApiUrl=E),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:o,"append-inner-icon":f(u.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),d(Zt,{modelValue:u.value.gqlUrl,"onUpdate:modelValue":w[2]||(w[2]=E=>u.value.gqlUrl=E),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:i,"append-inner-icon":f(u.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),d(Tn,{class:"px-6"},{default:y(()=>[d(se,{variant:"plain","prepend-icon":"mdi-connection",onClick:p},{default:y(()=>[I(" Test connection ")]),_:1}),d(In),d(se,{variant:"tonal",onClick:_},{default:y(()=>[I(" Cancel ")]),_:1}),d(se,{variant:"outlined","prepend-icon":"mdi-content-save",onClick:b,class:"ml-4"},{default:y(()=>[I(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),yd={key:0,class:"pa-2"},bd=Q({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const a=Qe(),n=M(!1),r=C(()=>a.getConnections());return(l,o)=>(S(),T(Zr,{permanent:"","model-value":l.modelValue,"onUpdate:modelValue":o[2]||(o[2]=i=>l.$emit("update:modelValue",i)),class:"bg-primary"},{append:y(()=>[R(a).isReadOnly()?te("",!0):(S(),Y("div",yd,[d(vd,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=i=>n.value=i)},{activator:y(({props:i})=>[d(se,pe({"prepend-icon":"mdi-plus",block:"",variant:"outlined"},i,{onClick:o[0]||(o[0]=s=>n.value=!0)}),{default:y(()=>[I(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:y(()=>[d(st,{density:"compact",nav:""},{default:y(()=>[d(Ai,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:y(()=>[I("Connections Explorer")]),_:1}),(S(!0),Y(le,null,De(r.value,i=>(S(),T(md,{key:i.name,connection:i},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),_d=t=>(va("data-v-60d2bd0a"),t=t(),ya(),t),Sd={class:"loading-screen"},Od={class:"loading-screen-info"},wd=_d(()=>N("span",null,"Loading, please wait ...",-1)),Td=Q({__name:"LabEditorLoadingScreen",setup(t){return(e,a)=>(S(),Y("div",Sd,[N("div",Od,[d(Nr,{size:48}),wd])]))}});const kd=ue(Td,[["__scopeId","data-v-60d2bd0a"]]),Pd=Q({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(t){const e=M(!1);return(a,n)=>(S(),Y(le,null,[(S(),T(Di,null,[Ur((S(),T(Ei(a.component),pe(a.componentProps,{onReady:n[0]||(n[0]=r=>e.value=!0)}),null,16)),[[Ci,e.value]])],1024)),e.value?te("",!0):(S(),T(kd,{key:0}))],64))}});function Ad(t,e){return t.length<=e?t:t.substring(0,e-3)+"..."}const Cd="/lab/evita-lab-logo.svg",Aa=t=>(va("data-v-dd74b41c"),t=t(),ya(),t),Ed={class:"editor-welcome-screen"},Dd={class:"editor-welcome-screen-hero"},xd={class:"editor-welcome-screen-hero__header"},Ld=Aa(()=>N("h1",{class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},"evitaLab",-1)),Id={class:"text-white",style:{"font-size":"1rem"}},Rd=Aa(()=>N("a",{class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},"(changelog)",-1)),Vd=Aa(()=>N("p",{class:"text-gray-light mb-10",style:{"font-size":"1rem"}},"evitaDB web client",-1)),$d={class:"editor-welcome-screen-blog"},Nd=["href"],Bd={class:"editor-welcome-screen-blog-img__wrap"},Md=["src","alt"],Gd={class:"editor-welcome-screen-blog-item__title"},Ud={class:"editor-welcome-screen-blog-item__perex"},Fd=Aa(()=>N("span",{class:"editor-welcome-screen-blog-item__btn"},"Read",-1)),Wd=xi('<span class="editor-welcome-screen-hr" data-v-dd74b41c> </span><ul class="editor-welcome-screen-hero__links" data-v-dd74b41c><li data-v-dd74b41c>Check out the <a href="https://evitadb.io/documentation" target="_blank" data-v-dd74b41c> evitaDB documentation</a></li><li data-v-dd74b41c>Give us a ⭐ on <a href="https://github.com/lukashornych/evitalab/" target="_blank" data-v-dd74b41c> GitHub</a></li><li data-v-dd74b41c>Reach out to us on <a href="https://discord.gg/VsNBWxgmSw" target="_blank" data-v-dd74b41c> Discord</a></li><li data-v-dd74b41c><a href="https://github.com/lukashornych/evitalab/issues" target="_blank" data-v-dd74b41c> Submit an issue</a></li></ul>',2),zd=Q({__name:"LabEditorWelcomeScreen",setup(t){const e=Qe(),a="v1.1.1",n=M([]);return e.getBlogPosts().then(r=>{n.value=r}),(r,l)=>(S(),Y("div",Ed,[N("div",Dd,[N("header",xd,[d(hn,{width:"160",height:"160",alt:"evitaLab Logo",src:Cd,class:"mx-auto mb-1 evita-lab-logo"}),Ld,N("p",Id,[I(Z(R(a))+" ",1),Rd]),Vd]),N("div",$d,[(S(!0),Y(le,null,De(n.value,o=>(S(),Y("a",{key:o.url,href:o.url,target:"_blank"},[N("span",Bd,[N("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:o.thumbnailUrl,alt:`Image - ${o.title}`},null,8,Md)]),N("span",Gd,Z(o.title),1),N("span",Ud,[d(_n,{source:o.perex},null,8,["source"])]),Fd],8,Nd))),128))]),Wd])]))}});const Hd=ue(zd,[["__scopeId","data-v-dd74b41c"]]);const qd=oe({scrollable:Boolean,...at(),...$t({tag:"main"})},"VMain"),Qd=Se()({name:"VMain",props:qd(),setup(t,e){let{slots:a}=e;const{mainStyles:n}=Bi(),{ssrBootStyles:r}=pn();return Pe(()=>d(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[n.value,r.value,t.style]},{default:()=>{var l,o;return[t.scrollable?d("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(o=a.default)==null?void 0:o.call(a)]}})),{}}}),Xd={key:1,style:{position:"relative"}},jd=Q({__name:"LabEditor",setup(t){const e=Li(),a=Be(),n=Xe(),r=Ii(),l=C(()=>n.getTabRequests());ge(l,()=>{const c=n.getNewTabRequest();c&&(o.value=c.id,n.markTabRequestAsVisited(c.id))},{deep:!0});const o=M();function i(c){const u=l.value.length,f=l.value.findIndex(h=>h.id===o.value),g=l.value.findIndex(h=>h.id===c);n.destroyTabRequest(c),l.value.length===0?o.value=null:g===f&&g===u-1?o.value=l.value[g-1].id:g===f&&g<u-1&&(o.value=l.value[g].id)}async function s(){const c=e.query.demoSnippetRequest;if(c!=null)try{const u=JSON.parse(atob(c));return await r.resolve(u)}catch(u){a.error(u)}}return s().then(c=>{c&&n.createTabRequest(c)}),(c,u)=>(S(),Y(le,null,[l.value.length>0?(S(),T(Fi,{key:0,density:"compact",elevation:"0"},{default:y(()=>[d(Vi,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f)},{default:y(()=>[(S(!0),Y(le,null,De(l.value,f=>(S(),T(Ri,{key:f.id,value:f.id,"prepend-icon":f.icon,onMousedown:Je(g=>i(f.id),["middle"]),class:"lab-tab"},{default:y(()=>[N("span",null,[I(Z(R(Ad)(f.title,30))+" ",1),f.title.length>30?(S(),T(_e,{key:0,activator:"parent"},{default:y(()=>[I(Z(f.title),1)]),_:2},1024)):te("",!0)]),d(se,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Je(g=>i(f.id),["stop"])},{default:y(()=>[d(re,null,{default:y(()=>[I("mdi-close")]),_:1}),d(_e,{activator:"parent"},{default:y(()=>[I(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):te("",!0),d(Qd,{scrollable:!1,class:"lab-editor"},{default:y(()=>[l.value.length>0?(S(),T(Ni,{key:0,modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value=f)},{default:y(()=>[(S(!0),Y(le,null,De(l.value,f=>(S(),T($i,{key:f.id,value:f.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:y(()=>[d(Pd,{component:f.component,"component-props":f.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(S(),Y("div",Xd,[d(Hd)]))]),_:1})],64))}});const Yd=ue(jd,[["__scopeId","data-v-d17b89d3"]]),ep=Q({__name:"Lab",setup(t){const e=M(Ya.Explorer);return(a,n)=>(S(),Y(le,null,[d(ps,{panel:e.value,"onUpdate:panel":n[0]||(n[0]=r=>e.value=r)},null,8,["panel"]),d(bd,{"model-value":e.value===R(Ya).Explorer},null,8,["model-value"]),d(Yd)],64))}});export{ep as default};
