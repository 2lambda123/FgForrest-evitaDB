import{b as Z,e as s,h as K,T as dt,p as F,i as Ke,j as Ja,s as Rt,k as en,n as tn,l as D,q as se,t as _,v as Le,x as X,y as et,z as bt,A as an,B as pe,C as jt,D as wt,E as j,d as ne,V as vt,F as He,m as ye,G as Ne,H as fe,I as nn,J as Qt,K as Yt,L as Xt,a as St,u as ln,c as _t,M as Zt,N as mt,O as Jt,P as ea,Q as ta,R as on,S as kt,U as sn,W as aa,X as tt,Y as na,Z as G,$ as ue,a0 as Se,f as q,w as h,o as P,a1 as ae,a2 as la,a3 as ft,a4 as Ve,_ as Pe,a5 as oa,a6 as sa,a7 as rn,a8 as he,a9 as $t,aa as be,ab as We,ac as Ee,ad as at,ae as Ot,af as me,ag as T,ah as de,ai as Vt,aj as Pt,ak as xt,al as ge,am as Ue,an as ke,ao as ra,ap as pt,aq as ia,ar as ua,as as ca,at as un,au as cn,av as Ce,aw as da,ax as dn,ay as vn,az as mn,aA as nt,aB as fn,aC as je,aD as pn,aE as Me,aF as Be,aG as gn,aH as Q,aI as hn,aJ as gt,aK as ze,aL as va,aM as ma,aN as fa,aO as yn,aP as De,aQ as It,aR as pa,aS as le,aT as bn,aU as wn,aV as Sn,aW as _n,aX as kn,aY as Vn,aZ as Pn,a_ as xn,a$ as In,b0 as Cn,b1 as Tn,b2 as Dn,b3 as Ln,b4 as En,b5 as Bn,b6 as An,b7 as Rn,b8 as $n,b9 as On,ba as N,bb as Mn,bc as Fn,bd as lt,be as Un,bf as qn,bg as Hn,bh as Nn,bi as Gn,bj as Kn,bk as zn,bl as Wn,bm as jn,bn as ga,bo as Qn,bp as Yn,bq as Xn,br as Ae,bs as ut,bt as Re,bu as $e,bv as Ie,bw as _e,bx as Oe,by as ct,bz as Zn,bA as Jn,bB as el,bC as Mt,bD as tl,bE as al,bF as nl,bG as ll,bH as ol,bI as ot,bJ as ha,bK as sl,bL as Ge,bM as ya,bN as rl,bO as ht,bP as yt,bQ as il,bR as ul,bS as cl,bT as dl,bU as vl,bV as ml,bW as fl,bX as Ft,bY as pl,bZ as gl,b_ as Ct,b$ as Tt,c0 as hl,c1 as yl,c2 as bl,c3 as wl,c4 as Sl,c5 as _l,c6 as kl,c7 as Vl,c8 as Pl}from"./index-426d3cb9.js";import{a as ba,u as wa,b as xl}from"./layout-10032a1d.js";const Il=F({target:Object},"v-dialog-transition"),Dt=Z()({name:"VDialogTransition",props:Il(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(l){l.style.pointerEvents="none",l.style.visibility="hidden"},async onEnter(l,o){var v;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),l.style.visibility="";const{x:i,y:u,sx:c,sy:d,speed:r}=qt(e.target,l),m=Ke(l,[{transform:`translate(${i}px, ${u}px) scale(${c}, ${d})`,opacity:0},{}],{duration:225*r,easing:Ja});(v=Ut(l))==null||v.forEach(f=>{Ke(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*r,easing:Rt})}),m.finished.then(()=>o())},onAfterEnter(l){l.style.removeProperty("pointer-events")},onBeforeLeave(l){l.style.pointerEvents="none"},async onLeave(l,o){var v;await new Promise(f=>requestAnimationFrame(f));const{x:i,y:u,sx:c,sy:d,speed:r}=qt(e.target,l);Ke(l,[{},{transform:`translate(${i}px, ${u}px) scale(${c}, ${d})`,opacity:0}],{duration:125*r,easing:en}).finished.then(()=>o()),(v=Ut(l))==null||v.forEach(f=>{Ke(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*r,easing:Rt})})},onAfterLeave(l){l.style.removeProperty("pointer-events")}};return()=>e.target?s(dt,K({name:"dialog-transition"},a,{css:!1}),t):s(dt,{name:"dialog-transition"},t)}});function Ut(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function qt(e,n){const t=e.getBoundingClientRect(),a=tn(n),[l,o]=getComputedStyle(n).transformOrigin.split(" ").map(p=>parseFloat(p)),[i,u]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=t.left+t.width/2;i==="left"||u==="left"?c-=t.width/2:(i==="right"||u==="right")&&(c+=t.width/2);let d=t.top+t.height/2;i==="top"||u==="top"?d-=t.height/2:(i==="bottom"||u==="bottom")&&(d+=t.height/2);const r=t.width/a.width,m=t.height/a.height,v=Math.max(1,r,m),f=r/v||0,g=m/v||0,S=a.width*a.height/(window.innerWidth*window.innerHeight),y=S>.12?Math.min(1.5,(S-.12)*10+1):1;return{x:c-(l+a.left),y:d-(o+a.top),sx:f,sy:g,speed:y}}const Cl=F({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Tl(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let a=0;const l=D(null),o=se(0),i=se(0),u=se(0),c=se(!1),d=se(!1),r=_(()=>Number(e.scrollThreshold)),m=_(()=>Le((r.value-o.value)/r.value||0)),v=()=>{const f=l.value;!f||t&&!t.value||(a=o.value,o.value="window"in f?f.pageYOffset:f.scrollTop,d.value=o.value<a,u.value=Math.abs(o.value-r.value))};return X(d,()=>{i.value=i.value||o.value}),X(c,()=>{i.value=0}),et(()=>{X(()=>e.scrollTarget,f=>{var S;const g=f?document.querySelector(f):window;g&&g!==l.value&&((S=l.value)==null||S.removeEventListener("scroll",v),l.value=g,l.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),bt(()=>{var f;(f=l.value)==null||f.removeEventListener("scroll",v)}),t&&X(t,v,{immediate:!0}),{scrollThreshold:r,currentScroll:o,currentThreshold:u,isScrollActive:c,scrollRatio:m,isScrollingUp:d,savedScroll:i}}const Dl=F({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...an(),...ba(),...Cl(),height:{type:[Number,String],default:64}},"VAppBar"),Ll=Z()({name:"VAppBar",props:Dl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=D(),l=pe(e,"modelValue"),o=_(()=>{var b;const p=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:p.has("hide"),inverted:p.has("inverted"),collapse:p.has("collapse"),elevate:p.has("elevate"),fadeImage:p.has("fade-image")}}),i=_(()=>{const p=o.value;return p.hide||p.inverted||p.collapse||p.elevate||p.fadeImage||!l.value}),{currentScroll:u,scrollThreshold:c,isScrollingUp:d,scrollRatio:r}=Tl(e,{canScroll:i}),m=_(()=>e.collapse||o.value.collapse&&(o.value.inverted?r.value>0:r.value===0)),v=_(()=>e.flat||o.value.elevate&&(o.value.inverted?u.value>0:u.value===0)),f=_(()=>o.value.fadeImage?o.value.inverted?1-r.value:r.value:void 0),g=_(()=>{var x,C;if(o.value.hide&&o.value.inverted)return 0;const p=((x=a.value)==null?void 0:x.contentHeight)??0,b=((C=a.value)==null?void 0:C.extensionHeight)??0;return p+b});jt(_(()=>!!e.scrollBehavior),()=>{He(()=>{o.value.hide?o.value.inverted?l.value=u.value>c.value:l.value=d.value||u.value<c.value:l.value=!0})});const{ssrBootStyles:S}=wt(),{layoutItemStyles:y}=wa({id:e.name,order:_(()=>parseInt(e.order,10)),position:j(e,"location"),layoutSize:g,elementSize:se(void 0),active:l,absolute:j(e,"absolute")});return ne(()=>{const[p]=vt.filterProps(e);return s(vt,K({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":f.value,height:void 0,...S.value},e.style]},p,{collapse:m.value,flat:v.value}),t)}),{}}}),El=F({start:Boolean,end:Boolean,...ye(),...Ne()},"VListItemAction"),Ht=Z()({name:"VListItemAction",props:El(),setup(e,n){let{slots:t}=n;return ne(()=>s(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},t)),{}}});function Bl(e){let{rootEl:n,isSticky:t,layoutItemStyles:a}=e;const l=se(!1),o=se(0),i=_(()=>{const d=typeof l.value=="boolean"?"top":l.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[d]:fe(o.value)}:{top:a.value.top}]});et(()=>{X(t,d=>{d?window.addEventListener("scroll",c,{passive:!0}):window.removeEventListener("scroll",c)},{immediate:!0})}),bt(()=>{window.removeEventListener("scroll",c)});let u=0;function c(){const d=u>window.scrollY?"up":"down",r=n.value.getBoundingClientRect(),m=parseFloat(a.value.top??0),v=window.scrollY-Math.max(0,o.value-m),f=r.height+Math.max(o.value,m)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-m?(l.value="top",o.value=m):d==="up"&&l.value==="bottom"||d==="down"&&l.value==="top"?(o.value=window.scrollY+r.top-g,l.value=!0):d==="down"&&f<=0?(o.value=0,l.value="bottom"):d==="up"&&v<=0&&(g?l.value!=="top"&&(o.value=-v+g+m,l.value="top"):(o.value=r.top+v,l.value="top")),u=window.scrollY}return{isStuck:l,stickyStyles:i}}const Al=100,Rl=20;function Nt(e){const n=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*n}function Gt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const a=Nt(n),l=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);n+=(l-a)*Math.abs(l),t===e.length-1&&(n*=.5)}return Nt(n)*1e3}function $l(){const e={};function n(l){Array.from(l.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new nn(Rl))).push([l.timeStamp,o])})}function t(l){Array.from(l.changedTouches).forEach(o=>{delete e[o.identifier]})}function a(l){var d;const o=(d=e[l])==null?void 0:d.values().reverse();if(!o)throw new Error(`No samples for touch id ${l}`);const i=o[0],u=[],c=[];for(const r of o){if(i[0]-r[0]>Al)break;u.push({t:r[0],d:r[1].clientX}),c.push({t:r[0],d:r[1].clientY})}return{x:Gt(u),y:Gt(c),get direction(){const{x:r,y:m}=this,[v,f]=[Math.abs(r),Math.abs(m)];return v>f&&r>=0?"right":v>f&&r<=0?"left":f>v&&m>=0?"down":f>v&&m<=0?"up":Ol()}}}return{addMovement:n,endTouch:t,getVelocity:a}}function Ol(){throw new Error}function Ml(e){let{isActive:n,isTemporary:t,width:a,touchless:l,position:o}=e;et(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),bt(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",x)});const i=_(()=>["left","right"].includes(o.value)),{addMovement:u,endTouch:c,getVelocity:d}=$l();let r=!1;const m=se(!1),v=se(0),f=se(0);let g;function S(w,E){return(o.value==="left"?w:o.value==="right"?document.documentElement.clientWidth-w:o.value==="top"?w:o.value==="bottom"?document.documentElement.clientHeight-w:Te())-(E?a.value:0)}function y(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=o.value==="left"?(w-f.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-w-f.value)/a.value:o.value==="top"?(w-f.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-w-f.value)/a.value:Te();return E?Math.max(0,Math.min(1,k)):k}function p(w){if(l.value)return;const E=w.changedTouches[0].clientX,k=w.changedTouches[0].clientY,I=25,R=o.value==="left"?E<I:o.value==="right"?E>document.documentElement.clientWidth-I:o.value==="top"?k<I:o.value==="bottom"?k>document.documentElement.clientHeight-I:Te(),U=n.value&&(o.value==="left"?E<a.value:o.value==="right"?E>document.documentElement.clientWidth-a.value:o.value==="top"?k<a.value:o.value==="bottom"?k>document.documentElement.clientHeight-a.value:Te());(R||U||n.value&&t.value)&&(r=!0,g=[E,k],f.value=S(i.value?E:k,n.value),v.value=y(i.value?E:k),c(w),u(w))}function b(w){const E=w.changedTouches[0].clientX,k=w.changedTouches[0].clientY;if(r){if(!w.cancelable){r=!1;return}const R=Math.abs(E-g[0]),U=Math.abs(k-g[1]);(i.value?R>U&&R>3:U>R&&U>3)?(m.value=!0,r=!1):(i.value?U:R)>3&&(r=!1)}if(!m.value)return;w.preventDefault(),u(w);const I=y(i.value?E:k,!1);v.value=Math.max(0,Math.min(1,I)),I>1?f.value=S(i.value?E:k,!0):I<0&&(f.value=S(i.value?E:k,!1))}function x(w){if(r=!1,!m.value)return;u(w),m.value=!1;const E=d(w.changedTouches[0].identifier),k=Math.abs(E.x),I=Math.abs(E.y);(i.value?k>I&&k>400:I>k&&I>3)?n.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Te()):n.value=v.value>.5}const C=_(()=>m.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*a.value}px))`:Te(),transition:"none"}:void 0);return{isDragging:m,dragProgress:v,dragStyles:C}}function Te(){throw new Error}const Fl=["start","end","left","right","top","bottom"],Ul=F({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Fl.includes(e)},sticky:Boolean,...Qt(),...ye(),...Yt(),...ba(),...Xt(),...Ne({tag:"nav"}),...St()},"VNavigationDrawer"),Sa=Z()({name:"VNavigationDrawer",props:Ul(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:l}=n;const{isRtl:o}=ln(),{themeClasses:i}=_t(e),{borderClasses:u}=Zt(e),{backgroundColorClasses:c,backgroundColorStyles:d}=mt(j(e,"color")),{elevationClasses:r}=Jt(e),{mobile:m}=ea(),{roundedClasses:v}=ta(e),f=on(),g=pe(e,"modelValue",null,H=>!!H),{ssrBootStyles:S}=wt(),{scopeId:y}=kt(),p=D(),b=se(!1),x=_(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),C=_(()=>sn(e.location,o.value)),w=_(()=>!e.permanent&&(m.value||e.temporary)),E=_(()=>e.sticky&&!w.value&&C.value!=="bottom");e.expandOnHover&&e.rail!=null&&X(b,H=>a("update:rail",!H)),e.disableResizeWatcher||X(w,H=>!e.permanent&&na(()=>g.value=!H)),!e.disableRouteWatcher&&f&&X(f.currentRoute,()=>w.value&&(g.value=!1)),X(()=>e.permanent,H=>{H&&(g.value=!0)}),aa(()=>{e.modelValue!=null||w.value||(g.value=e.permanent||!m.value)});const{isDragging:k,dragProgress:I,dragStyles:R}=Ml({isActive:g,isTemporary:w,width:x,touchless:j(e,"touchless"),position:C}),U=_(()=>{const H=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):x.value;return k.value?H*I.value:H}),{layoutItemStyles:ee,layoutItemScrimStyles:te}=wa({id:e.name,order:_(()=>parseInt(e.order,10)),position:C,layoutSize:U,elementSize:x,active:_(()=>g.value||k.value),disableTransitions:_(()=>k.value),absolute:_(()=>e.absolute||E.value&&typeof oe.value!="string")}),{isStuck:oe,stickyStyles:we}=Bl({rootEl:p,isSticky:E,layoutItemStyles:ee}),V=mt(_(()=>typeof e.scrim=="string"?e.scrim:null)),$=_(()=>({...k.value?{opacity:I.value*.2,transition:"none"}:void 0,...te.value}));tt({VList:{bgColor:"transparent"}});function J(){b.value=!0}function ce(){b.value=!1}return ne(()=>{const H=l.image||e.image;return s(G,null,[s(e.tag,K({ref:p,onMouseenter:J,onMouseleave:ce,class:["v-navigation-drawer",`v-navigation-drawer--${C.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":E.value},i.value,c.value,u.value,r.value,v.value,e.class],style:[d.value,ee.value,R.value,S.value,we.value,e.style]},y,t),{default:()=>{var A,z,M,W;return[H&&s("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?(A=l.image)==null?void 0:A.call(l,{image:e.image}):s("img",{src:e.image,alt:""},null)]),l.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(z=l.prepend)==null?void 0:z.call(l)]),s("div",{class:"v-navigation-drawer__content"},[(M=l.default)==null?void 0:M.call(l)]),l.append&&s("div",{class:"v-navigation-drawer__append"},[(W=l.append)==null?void 0:W.call(l)])]}}),s(dt,{name:"fade-transition"},{default:()=>[w.value&&(k.value||g.value)&&!!e.scrim&&s("div",K({class:["v-navigation-drawer__scrim",V.backgroundColorClasses.value],style:[$.value,V.backgroundColorStyles.value],onClick:()=>g.value=!1},y),null)]})])}),{isStuck:oe}}}),ql={class:"lab-logo"},Hl={href:"https://github.com/lukashornych/evitalab",target:"_blank"},Nl=ue({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:n}){const t=D([{title:"Explorer",value:Se.Explorer,props:{prependIcon:"mdi-compass"}}]),a=D([{title:"evitaDB Documentation",value:Se.EvitaDBDocumentation,props:{prependIcon:"mdi-book"}},{title:"Feedback",value:Se.Feedback,props:{prependIcon:"mdi-comment-quote"}},{title:"Issues",value:Se.GitHub,props:{prependIcon:"mdi-github"}}]);function l(i){i.value?n("update:panel",i.id):n("update:panel",null)}function o(i){switch(i.id){case Se.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case Se.Feedback:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case Se.GitHub:window.open("https://github.com/lukashornych/evitalab","_blank");break}}return(i,u)=>(P(),q(Sa,{permanent:"",rail:""},{prepend:h(()=>[ae("div",ql,[ae("a",Hl,[s(ft,{size:"24px"},{default:h(()=>[s(la,{alt:"evitaLab Logo",src:"https://github.com/lukashornych/evitalab/blob/dev/public/logo.png?raw=true"})]),_:1})])])]),append:h(()=>[s(Ve,{density:"compact",nav:"",items:a.value,"onClick:select":o},null,8,["items"])]),default:h(()=>[s(Ve,{density:"compact",nav:"",items:t.value,selected:[i.panel],"onClick:select":l},null,8,["items","selected"])]),_:1}))}});const Gl=Pe(Nl,[["__scopeId","data-v-1c6708f3"]]);const Kl=F({id:String,...oa(sa({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Dt}}),["absolute"])},"VMenu"),Fe=Z()({name:"VMenu",props:Kl(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=pe(e,"modelValue"),{scopeId:l}=kt(),o=rn(),i=_(()=>e.id||`v-menu-${o}`),u=D(),c=he($t,null),d=se(0);be($t,{register(){++d.value},unregister(){--d.value},closeParents(){setTimeout(()=>{d.value||(a.value=!1,c==null||c.closeParents())},40)}}),X(a,g=>{g?c==null||c.register():c==null||c.unregister()});function r(){c==null||c.closeParents()}function m(g){var S,y;e.disabled||g.key==="Tab"&&(a.value=!1,(y=(S=u.value)==null?void 0:S.activatorEl)==null||y.focus())}function v(g){var y;if(e.disabled)return;const S=(y=u.value)==null?void 0:y.contentEl;S&&a.value?g.key==="ArrowDown"?(g.preventDefault(),Ot(S,"next")):g.key==="ArrowUp"&&(g.preventDefault(),Ot(S,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(a.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>v(g))))}const f=_(()=>K({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":i.value,onKeydown:v},e.activatorProps));return ne(()=>{const[g]=We.filterProps(e);return s(We,K({ref:u,class:["v-menu",e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":S=>a.value=S,absolute:!0,activatorProps:f.value,"onClick:outside":r,onKeydown:m},l),{activator:t.activator,default:function(){for(var S=arguments.length,y=new Array(S),p=0;p<S;p++)y[p]=arguments[p];return s(Ee,{root:"VMenu"},{default:()=>{var b;return[(b=t.default)==null?void 0:b.call(t,...y)]}})}})}),at({id:i,ΨopenChildren:d},u)}}),zl={class:"tree-view-item__content"},Wl={class:"text-truncate"},jl=ue({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:n}){const t=e,a=D(!1);function l(){t.actions&&t.actions.length>0&&(a.value=!0)}return(o,i)=>(P(),q(ke,{"prepend-icon":null,"append-icon":null,onContextmenu:Ue(l,["prevent"])},{default:h(()=>[ae("div",zl,[o.openable?(P(),q(me,{key:0},{default:h(()=>[T(de(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(P(),q(me,{key:1})),s(me,null,{default:h(()=>[T(de(o.prependIcon),1)]),_:1}),ae("span",Wl,[Vt(o.$slots,"default",{},void 0,!0)]),o.actions&&o.actions.length>0?(P(),q(Fe,{key:2,"menu-items":o.actions,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value=u)},{activator:h(({props:u})=>[s(me,Pt(xt(u)),{default:h(()=>[T(" mdi-dots-vertical ")]),_:2},1040)]),default:h(()=>[s(Ve,{density:"compact",items:o.actions,"onClick:select":i[0]||(i[0]=u=>o.$emit("click:action",u.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):ge("",!0)])]),_:3},8,["onContextmenu"]))}});const Qe=Pe(jl,[["__scopeId","data-v-f95404e3"]]);const Ql=F({renderless:Boolean,...ye()},"VVirtualScrollItem"),Yl=Z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ql(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:a,slots:l}=n;const{resizeRef:o,contentRect:i}=ra(void 0,"border");X(()=>{var u;return(u=i.value)==null?void 0:u.height},u=>{u!=null&&a("update:height",u)}),ne(()=>{var u,c;return e.renderless?s(G,null,[(u=l.default)==null?void 0:u.call(l,{itemRef:o})]):s("div",K({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(c=l.default)==null?void 0:c.call(l)])})}}),Kt=-1,zt=1,Xl=F({itemHeight:{type:[Number,String],default:48}},"virtual");function Zl(e,n,t){const a=se(0),l=se(e.itemHeight),o=_({get:()=>parseInt(l.value??0,10),set(k){l.value=k}}),i=D(),{resizeRef:u,contentRect:c}=ra();He(()=>{u.value=i.value});const d=ea(),r=new Map;let m=Array.from({length:n.value.length});const v=_(()=>{const k=(!c.value||i.value===document.documentElement?d.height.value:c.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(k/o.value*1.7+1)});function f(k,I){o.value=Math.max(o.value,I),m[k]=I,r.set(n.value[k],I)}function g(k){return m.slice(0,k).reduce((I,R)=>I+(R||o.value),0)}function S(k){const I=n.value.length;let R=0,U=0;for(;U<k&&R<I;)U+=m[R++]||o.value;return R-1}let y=0;function p(){if(!i.value||!c.value)return;const k=c.value.height-56,I=i.value.scrollTop,R=I<y?Kt:zt,U=S(I+k/2),ee=Math.round(v.value/3),te=U-ee,oe=a.value+ee*2-1;R===Kt&&U<=oe?a.value=Le(te,0,n.value.length):R===zt&&U>=oe&&(a.value=Le(te,0,n.value.length-v.value)),y=I}function b(k){if(!i.value)return;const I=g(k);i.value.scrollTop=I}const x=_(()=>Math.min(n.value.length,a.value+v.value)),C=_(()=>n.value.slice(a.value,x.value).map((k,I)=>({raw:k,index:I+a.value}))),w=_(()=>g(a.value)),E=_(()=>g(n.value.length)-g(x.value));return X(()=>n.value.length,()=>{m=pt(n.value.length).map(()=>o.value),r.forEach((k,I)=>{const R=n.value.indexOf(I);R===-1?r.delete(I):m[R]=k})}),{containerRef:i,computedItems:C,itemHeight:o,paddingTop:w,paddingBottom:E,scrollToIndex:b,handleScroll:p,handleItemResize:f}}const Jl=F({items:{type:Array,default:()=>[]},renderless:Boolean,...Xl(),...ye(),...ia()},"VVirtualScroll"),eo=Z()({name:"VVirtualScroll",props:Jl(),setup(e,n){let{slots:t}=n;const a=ua("VVirtualScroll"),{dimensionStyles:l}=ca(e),{containerRef:o,handleScroll:i,handleItemResize:u,scrollToIndex:c,paddingTop:d,paddingBottom:r,computedItems:m}=Zl(e,j(e,"items"));return jt(()=>e.renderless,()=>{et(()=>{var v;o.value=un(a.vnode.el,!0),(v=o.value)==null||v.addEventListener("scroll",i)}),cn(()=>{var v;(v=o.value)==null||v.removeEventListener("scroll",i)})}),ne(()=>{const v=m.value.map(f=>s(Yl,{key:f.index,renderless:e.renderless,"onUpdate:height":g=>u(f.index,g)},{default:g=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:f.raw,index:f.index,...g})}}));return e.renderless?s(G,null,[s("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:fe(d.value)}},null),v,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:fe(r.value)}},null)]):s("div",{ref:o,class:["v-virtual-scroll",e.class],onScroll:i,style:[l.value,e.style]},[s("div",{class:"v-virtual-scroll__container",style:{paddingTop:fe(d.value),paddingBottom:fe(r.value)}},[v])])}),{scrollToIndex:c}}});function to(e,n){const t=se(!1);let a;function l(u){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function o(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(t.value){const c=X(t,()=>{c(),u()})}else u()})}async function i(u){var r,m;if(u.key==="Tab"&&((r=n.value)==null||r.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const c=(m=e.value)==null?void 0:m.$el;if(!c)return;(u.key==="Home"||u.key==="End")&&c.scrollTo({top:u.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await o();const d=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const v=c.getBoundingClientRect().top;for(const f of d)if(f.getBoundingClientRect().top>=v){f.focus();break}}else{const v=c.getBoundingClientRect().bottom;for(const f of[...d].reverse())if(f.getBoundingClientRect().bottom<=v){f.focus();break}}}return{onListScroll:l,onListKeydown:i}}const ao=F({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ce,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:da},...dn({itemChildren:!1})},"Select"),no=F({...ao(),...oa(vn({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...mn({transition:{component:Dt}})},"VSelect"),lo=Z()({name:"VSelect",props:no(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:a}=nt(),l=D(),o=D(),i=pe(e,"menu"),u=_({get:()=>i.value,set:V=>{var $;i.value&&!V&&(($=o.value)!=null&&$.ΨopenChildren)||(i.value=V)}}),{items:c,transformIn:d,transformOut:r}=fn(e),m=pe(e,"modelValue",[],V=>d(V===null?[null]:je(V)),V=>{const $=r(V);return e.multiple?$:$[0]??null}),v=pn(),f=_(()=>m.value.map(V=>c.value.find($=>e.valueComparator($.value,V.value))||V)),g=_(()=>f.value.map(V=>V.props.value)),S=se(!1);let y="",p;const b=_(()=>e.hideSelected?c.value.filter(V=>!f.value.some($=>$===V)):c.value),x=_(()=>e.hideNoData&&!c.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),C=D(),{onListScroll:w,onListKeydown:E}=to(C,l);function k(V){e.openOnClear&&(u.value=!0)}function I(){x.value||(u.value=!u.value)}function R(V){var A,z;if(!V.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(V.key)&&V.preventDefault(),["Enter","ArrowDown"," "].includes(V.key)&&(u.value=!0),["Escape","Tab"].includes(V.key)&&(u.value=!1),V.key==="Home"?(A=C.value)==null||A.focus("first"):V.key==="End"&&((z=C.value)==null||z.focus("last"));const $=1e3;function J(M){const W=M.key.length===1,re=!M.ctrlKey&&!M.metaKey&&!M.altKey;return W&&re}if(e.multiple||!J(V))return;const ce=performance.now();ce-p>$&&(y=""),y+=V.key.toLowerCase(),p=ce;const H=c.value.find(M=>M.title.toLowerCase().startsWith(y));H!==void 0&&(m.value=[H])}function U(V){if(e.multiple){const $=g.value.findIndex(J=>e.valueComparator(J,V.value));if($===-1)m.value=[...m.value,V];else{const J=[...m.value];J.splice($,1),m.value=J}}else m.value=[V],u.value=!1}function ee(V){var $;($=C.value)!=null&&$.$el.contains(V.relatedTarget)||(u.value=!1)}function te(){var V;S.value&&((V=l.value)==null||V.focus())}function oe(V){S.value=!0}function we(V){var $,J;if(V==null)m.value=[];else if(($=l.value)!=null&&$.matches(":autofill")||(J=l.value)!=null&&J.matches(":-webkit-autofill")){const ce=c.value.find(H=>H.title===V);ce&&U(ce)}else l.value&&(l.value.value="")}return ne(()=>{const V=!!(e.chips||t.chip),$=!!(!e.hideNoData||b.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),J=m.value.length>0,[ce]=Me.filterProps(e),H=J||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(Me,K({ref:l},ce,{modelValue:m.value.map(A=>A.props.value).join(", "),"onUpdate:modelValue":we,focused:S.value,"onUpdate:focused":A=>S.value=A,validationValue:m.externalValue,dirty:J,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:H,"onClick:clear":k,"onMousedown:control":I,onBlur:ee,onKeydown:R}),{...t,default:()=>s(G,null,[s(Fe,K({ref:o,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:te},e.menuProps),{default:()=>[$&&s(Ve,{ref:C,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:A=>A.preventDefault(),onKeydown:E,onFocusin:oe,onScrollPassive:w,tabindex:"-1"},{default:()=>{var A,z,M;return[(A=t["prepend-item"])==null?void 0:A.call(t),!b.value.length&&!e.hideNoData&&(((z=t["no-data"])==null?void 0:z.call(t))??s(ke,{title:a(e.noDataText)},null)),s(eo,{renderless:!0,items:b.value},{default:W=>{var L;let{item:re,index:ie,itemRef:O}=W;const B=K(re.props,{ref:O,key:ie,onClick:()=>U(re)});return((L=t.item)==null?void 0:L.call(t,{item:re,index:ie,props:B}))??s(ke,B,{prepend:Y=>{let{isSelected:ve}=Y;return s(G,null,[e.multiple&&!e.hideSelected?s(Be,{key:re.value,modelValue:ve,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&s(me,{icon:re.props.prependIcon},null)])}})}}),(M=t["append-item"])==null?void 0:M.call(t)]}})]}),f.value.map((A,z)=>{var re;function M(ie){ie.stopPropagation(),ie.preventDefault(),U(A)}const W={"onClick:close":M,onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:A.value,class:"v-select__selection"},[V?t.chip?s(Ee,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:A.title}}},{default:()=>{var ie;return[(ie=t.chip)==null?void 0:ie.call(t,{item:A,index:z,props:W})]}}):s(gn,K({key:"chip",closable:e.closableChips,size:"small",text:A.title},W),null):((re=t.selection)==null?void 0:re.call(t,{item:A,index:z}))??s("span",{class:"v-select__selection-text"},[A.title,e.multiple&&z<f.value.length-1&&s("span",{class:"v-select__selection-comma"},[T(",")])])])})]),"append-inner":function(){var W;for(var A=arguments.length,z=new Array(A),M=0;M<A;M++)z[M]=arguments[M];return s(G,null,[(W=t["append-inner"])==null?void 0:W.call(t,...z),e.menuIcon?s(me,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),at({isFocused:S,menu:u,select:U},l)}}),_a=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),ka=Symbol.for("vuetify:data-table-pagination");function Va(e){const n=pe(e,"page",void 0,a=>+(a??1)),t=pe(e,"itemsPerPage",void 0,a=>+(a??10));return{page:n,itemsPerPage:t}}function Pa(e){const{page:n,itemsPerPage:t,itemsLength:a}=e,l=_(()=>t.value===-1?0:t.value*(n.value-1)),o=_(()=>t.value===-1?a.value:Math.min(a.value,l.value+t.value)),i=_(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));He(()=>{n.value>i.value&&(n.value=i.value)});function u(v){t.value=v,n.value=1}function c(){n.value=Le(n.value+1,1,i.value)}function d(){n.value=Le(n.value-1,1,i.value)}function r(v){n.value=Le(v,1,i.value)}const m={page:n,itemsPerPage:t,startIndex:l,stopIndex:o,pageCount:i,itemsLength:a,nextPage:c,prevPage:d,setPage:r,setItemsPerPage:u};return be(ka,m),m}function oo(){const e=he(ka);if(!e)throw new Error("Missing pagination!");return e}function so(e){const{items:n,startIndex:t,stopIndex:a,itemsPerPage:l}=e;return{paginatedItems:_(()=>l.value<=0?n.value:n.value.slice(t.value,a.value))}}const Lt=F({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ye=Z()({name:"VDataTableFooter",props:Lt(),setup(e,n){let{slots:t}=n;const{t:a}=nt(),{page:l,pageCount:o,startIndex:i,stopIndex:u,itemsLength:c,itemsPerPage:d,setItemsPerPage:r}=oo(),m=_(()=>e.itemsPerPageOptions.map(v=>({...v,title:a(v.title)})));return()=>{var v;return s("div",{class:"v-data-table-footer"},[(v=t.prepend)==null?void 0:v.call(t),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[a(e.itemsPerPageText)]),s(lo,{items:m.value,modelValue:d.value,"onUpdate:modelValue":f=>r(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[a(e.pageText,c.value?i.value+1:0,u.value,c.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(Q,{icon:e.firstIcon,variant:"plain",onClick:()=>l.value=1,disabled:l.value===1,"aria-label":a(e.firstPageLabel)},null),s(Q,{icon:e.prevIcon,variant:"plain",onClick:()=>l.value=Math.max(1,l.value-1),disabled:l.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&s("span",{key:"page",class:"v-data-table-footer__page"},[l.value]),s(Q,{icon:e.nextIcon,variant:"plain",onClick:()=>l.value=Math.min(o.value,l.value+1),disabled:l.value===o.value,"aria-label":a(e.nextPageLabel)},null),s(Q,{icon:e.lastIcon,variant:"plain",onClick:()=>l.value=o.value,disabled:l.value===o.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Et=hn({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,n)=>{let{slots:t,attrs:a}=n;const l=e.tag??"td";return s(l,K({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:fe(e.height),width:fe(e.width),left:fe(e.fixedOffset||null)}},a),{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}),ro=F({headers:{type:Array,default:()=>[]}},"DataTable-header"),xa=Symbol.for("vuetify:data-table-headers");function Ia(e,n){const t=D([]),a=D([]);He(()=>{var f,g,S;const o=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],i=o.flatMap((y,p)=>y.map(b=>({column:b,row:p}))),u=o.length,c={title:"",sortable:!1},d={...c,width:48};if((f=n==null?void 0:n.groupBy)!=null&&f.value.length){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-group"});y<0?i.unshift({column:{...c,key:"data-table-group",title:"Group",rowspan:u},row:0}):i.splice(y,1,{column:{...c,...i[y].column},row:i[y].row})}if((g=n==null?void 0:n.showSelect)!=null&&g.value){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-select"});y<0?i.unshift({column:{...d,key:"data-table-select",rowspan:u},row:0}):i.splice(y,1,{column:{...d,...i[y].column},row:i[y].row})}if((S=n==null?void 0:n.showExpand)!=null&&S.value){const y=i.findIndex(p=>{let{column:b}=p;return b.key==="data-table-expand"});y<0?i.push({column:{...d,key:"data-table-expand",rowspan:u},row:0}):i.splice(y,1,{column:{...d,...i[y].column},row:i[y].row})}const r=pt(u).map(()=>[]),m=pt(u).fill(0);i.forEach(y=>{let{column:p,row:b}=y,x=p.key;x==null&&(x="");for(let C=b;C<=b+(p.rowspan??1)-1;C++)r[C].push({...p,key:x,fixedOffset:m[C],sortable:p.sortable??!!p.key}),m[C]+=Number(p.width??0)}),r.forEach(y=>{for(let p=y.length;p--;p>=0)if(y[p].fixed){y[p].lastFixed=!0;return}});const v=new Set;t.value=r.map(y=>{const p=[];for(const b of y)v.has(b.key)||(v.add(b.key),p.push(b));return p}),a.value=r.at(-1)??[]});const l={headers:t,columns:a};return be(xa,l),l}function st(){const e=he(xa);if(!e)throw new Error("Missing headers!");return e}const io={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:n,value:t}=e;return new Set(t?[(a=n[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:n}=e;return n}},Ca={showSelectAll:!0,allSelected:e=>{let{currentPage:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const l of n)t?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:n,currentPage:t,selected:a}=e;return Ca.select({items:t,value:n,selected:a})}},Ta={showSelectAll:!0,allSelected:e=>{let{allItems:n}=e;return n},select:e=>{let{items:n,value:t,selected:a}=e;for(const l of n)t?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:n,allItems:t,selected:a}=e;return Ta.select({items:t,value:n,selected:a})}},uo=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Da=Symbol.for("vuetify:data-table-selection");function La(e,n){let{allItems:t,currentPage:a}=n;const l=pe(e,"modelValue",e.modelValue,y=>new Set(y),y=>[...y.values()]),o=_(()=>t.value.filter(y=>y.selectable)),i=_(()=>a.value.filter(y=>y.selectable)),u=_(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return io;case"all":return Ta;case"page":default:return Ca}});function c(y){return je(y).every(p=>l.value.has(p.value))}function d(y){return je(y).some(p=>l.value.has(p.value))}function r(y,p){const b=u.value.select({items:y,value:p,selected:new Set(l.value)});l.value=b}function m(y){r([y],!c([y]))}function v(y){const p=u.value.selectAll({value:y,allItems:o.value,currentPage:i.value,selected:new Set(l.value)});l.value=p}const f=_(()=>l.value.size>0),g=_(()=>{const y=u.value.allSelected({allItems:o.value,currentPage:i.value});return c(y)}),S={toggleSelect:m,select:r,selectAll:v,isSelected:c,isSomeSelected:d,someSelected:f,allSelected:g,showSelectAll:u.value.showSelectAll};return be(Da,S),S}function rt(){const e=he(Da);if(!e)throw new Error("Missing selection!");return e}const co=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ea=Symbol.for("vuetify:data-table-sort");function Ba(e){const n=pe(e,"sortBy"),t=j(e,"mustSort"),a=j(e,"multiSort");return{sortBy:n,mustSort:t,multiSort:a}}function Aa(e){const{sortBy:n,mustSort:t,multiSort:a,page:l}=e,o=c=>{let d=n.value.map(m=>({...m}))??[];const r=d.find(m=>m.key===c.key);r?r.order==="desc"?t.value?r.order="asc":d=d.filter(m=>m.key!==c.key):r.order="desc":a.value?d=[...d,{key:c.key,order:"asc"}]:d=[{key:c.key,order:"asc"}],n.value=d,l&&(l.value=1)};function i(c){return!!n.value.find(d=>d.key===c.key)}const u={sortBy:n,toggleSort:o,isSorted:i};return be(Ea,u),u}function vo(){const e=he(Ea);if(!e)throw new Error("Missing sort!");return e}function mo(e,n,t){const a=nt();return{sortedItems:_(()=>t.value.length?fo(n.value,t.value,a.current.value,e.customKeySort):n.value)}}function fo(e,n,t,a){const l=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,i)=>{for(let u=0;u<n.length;u++){const c=n[u].key,d=n[u].order??"asc";if(d===!1)continue;let r=gt(o.raw,c),m=gt(i.raw,c);if(d==="desc"&&([r,m]=[m,r]),a!=null&&a[c]){const v=a[c](r,m);if(!v)continue;return v}if(r instanceof Date&&m instanceof Date)return r.getTime()-m.getTime();if([r,m]=[r,m].map(v=>v!=null?v.toString().toLocaleLowerCase():v),r!==m)return ze(r)&&ze(m)?0:ze(r)?-1:ze(m)?1:!isNaN(r)&&!isNaN(m)?Number(r)-Number(m):l.compare(r,m)}return 0})}const Ra=F({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ce,default:"$sortAsc"},sortDescIcon:{type:Ce,default:"$sortDesc"},...va()},"VDataTableHeaders"),Xe=Z()({name:"VDataTableHeaders",props:Ra(),setup(e,n){let{slots:t,emit:a}=n;const{toggleSort:l,sortBy:o,isSorted:i}=vo(),{someSelected:u,allSelected:c,selectAll:d,showSelectAll:r}=rt(),{columns:m,headers:v}=st(),{loaderClasses:f}=ma(e),g=(C,w)=>{if(!(!e.sticky&&!C.fixed))return{position:"sticky",zIndex:C.fixed?4:e.sticky?3:void 0,left:C.fixed?fe(C.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}};function S(C){const w=o.value.find(E=>E.key===C.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:p}=mt(e,"color"),b=_(()=>({headers:v.value,columns:m.value,toggleSort:l,isSorted:i,sortBy:o.value,someSelected:u.value,allSelected:c.value,selectAll:d,getSortIcon:S,getFixedStyles:g})),x=C=>{let{column:w,x:E,y:k}=C;const I=w.key==="data-table-select"||w.key==="data-table-expand";return s(Et,{tag:"th",align:w.align,class:["v-data-table__th",{"v-data-table__th--sortable":w.sortable,"v-data-table__th--sorted":i(w)},f.value],style:{width:fe(w.width),minWidth:fe(w.width),...g(w,k)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>l(w):void 0,lastFixed:w.lastFixed,noPadding:I},{default:()=>{var ee;const R=`column.${w.key}`,U={column:w,selectAll:d,isSorted:i,toggleSort:l,sortBy:o.value,someSelected:u.value,allSelected:c.value,getSortIcon:S};return t[R]?t[R](U):w.key==="data-table-select"?((ee=t["column.data-table-select"])==null?void 0:ee.call(t,U))??(r&&s(Be,{modelValue:c.value,indeterminate:u.value&&!c.value,"onUpdate:modelValue":d},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[w.title]),w.sortable&&s(me,{key:"icon",class:"v-data-table-header__sort-icon",icon:S(w)},null),e.multiSort&&i(w)&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:p.value},[o.value.findIndex(te=>te.key===w.key)+1])])}})};ne(()=>s(G,null,[t.headers?t.headers(b.value):v.value.map((C,w)=>s("tr",null,[C.map((E,k)=>s(x,{column:E,x:k,y:w},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:m.value.length},[s(fa,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),po=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),$a=Symbol.for("vuetify:data-table-group");function Oa(e){return{groupBy:pe(e,"groupBy")}}function Ma(e){const{groupBy:n,sortBy:t}=e,a=D(new Set),l=_(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t.value));function o(d){return a.value.has(d.id)}function i(d){const r=new Set(a.value);o(d)?r.delete(d.id):r.add(d.id),a.value=r}function u(d){function r(m){const v=[];for(const f of m.items)"type"in f&&f.type==="group"?v.push(...r(f)):v.push(f);return v}return r({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:l,toggleGroup:i,opened:a,groupBy:n,extractRows:u,isGroupOpen:o};return be($a,c),c}function Fa(){const e=he($a);if(!e)throw new Error("Missing group!");return e}function go(e,n){if(!e.length)return[];const t=new Map;for(const a of e){const l=gt(a.raw,n);t.has(l)||t.set(l,[]),t.get(l).push(a)}return t}function Ua(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const l=go(e,n[0]),o=[],i=n.slice(1);return l.forEach((u,c)=>{const d=n[0],r=`${a}_${d}_${c}`;o.push({depth:t,id:r,key:d,value:c,items:i.length?Ua(u,i,t+1,r):u,type:"group"})}),o}function qa(e,n){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(n.has(a.id)||a.value==null)&&t.push(...qa(a.items,n))):t.push(a);return t}function Ha(e,n,t){return{flatItems:_(()=>{if(!n.value.length)return e.value;const l=Ua(e.value,n.value.map(o=>o.key));return qa(l,t.value)})}}const ho=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),yo=Z()({name:"VDataTableGroupHeaderRow",props:ho(),setup(e,n){let{slots:t}=n;const{isGroupOpen:a,toggleGroup:l,extractRows:o}=Fa(),{isSelected:i,isSomeSelected:u,select:c}=rt(),{columns:d}=st(),r=_(()=>o([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(m=>{var v,f;if(m.key==="data-table-group"){const g=a(e.item)?"$expand":"$next",S=()=>l(e.item);return((v=t["data-table-group"])==null?void 0:v.call(t,{item:e.item,count:r.value.length,props:{icon:g,onClick:S}}))??s(Et,{class:"v-data-table-group-header-row__column"},{default:()=>[s(Q,{size:"small",variant:"text",icon:g,onClick:S},null),s("span",null,[e.item.value]),s("span",null,[T("("),r.value.length,T(")")])]})}if(m.key==="data-table-select"){const g=i(r.value),S=u(r.value)&&!g,y=p=>c(r.value,p);return((f=t["data-table-select"])==null?void 0:f.call(t,{props:{modelValue:g,indeterminate:S,"onUpdate:modelValue":y}}))??s("td",null,[s(Be,{modelValue:g,indeterminate:S,"onUpdate:modelValue":y},null)])}return s("td",null,null)})])}}),bo=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Na=Symbol.for("vuetify:datatable:expanded");function Ga(e){const n=j(e,"expandOnClick"),t=pe(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function a(u,c){const d=new Set(t.value);c?d.add(u.value):d.delete(u.value),t.value=d}function l(u){return t.value.has(u.value)}function o(u){a(u,!l(u))}const i={expand:a,expanded:t,expandOnClick:n,isExpanded:l,toggleExpand:o};return be(Na,i),i}function Ka(){const e=he(Na);if(!e)throw new Error("foo");return e}const wo=F({index:Number,item:Object,onClick:Function},"VDataTableRow"),So=yn({name:"VDataTableRow",props:wo(),setup(e,n){let{slots:t}=n;const{isSelected:a,toggleSelect:l}=rt(),{isExpanded:o,toggleExpand:i}=Ka(),{columns:u}=st();ne(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&u.value.map((c,d)=>s(Et,{align:c.align,fixed:c.fixed,fixedOffset:c.fixedOffset,lastFixed:c.lastFixed,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",width:c.width},{default:()=>{var f,g;const r=e.item,m=`item.${c.key}`,v={index:e.index,item:e.item,columns:u.value,isSelected:a,toggleSelect:l,isExpanded:o,toggleExpand:i};return t[m]?t[m](v):c.key==="data-table-select"?((f=t["item.data-table-select"])==null?void 0:f.call(t,v))??s(Be,{disabled:!r.selectable,modelValue:a([r]),onClick:Ue(()=>l(r),["stop"])},null):c.key==="data-table-expand"?((g=t["item.data-table-expand"])==null?void 0:g.call(t,v))??s(Q,{icon:o(r)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ue(()=>i(r),["stop"])},null):De(r.columns,c.key)}}))]))}}),za=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Ze=Z()({name:"VDataTableRows",props:za(),setup(e,n){let{emit:t,slots:a}=n;const{columns:l}=st(),{expandOnClick:o,toggleExpand:i,isExpanded:u}=Ka(),{isSelected:c,toggleSelect:d}=rt(),{toggleGroup:r,isGroupOpen:m}=Fa(),{t:v}=nt();return ne(()=>{var f;return e.loading&&a.loading?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:l.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:l.value.length},[((f=a["no-data"])==null?void 0:f.call(a))??v(e.noDataText)])]):s(G,null,[e.items.map((g,S)=>{var b;if(g.type==="group")return a["group-header"]?a["group-header"]({index:S,item:g,columns:l.value,isExpanded:u,toggleExpand:i,isSelected:c,toggleSelect:d,toggleGroup:r,isGroupOpen:m}):s(yo,{key:`group-header_${g.id}`,item:g},a);const y={index:S,item:g,columns:l.value,isExpanded:u,toggleExpand:i,isSelected:c,toggleSelect:d},p={...y,props:{key:`item_${g.key??g.index}`,onClick:o.value||e["onClick:row"]?x=>{var C;o.value&&i(g),(C=e["onClick:row"])==null||C.call(e,x,{item:g})}:void 0,index:S,item:g}};return s(G,null,[a.item?a.item(p):s(So,p.props,a),u(g)&&((b=a["expanded-row"])==null?void 0:b.call(a,y))])})])}),{}}});const Wa=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ye(),...It(),...Ne(),...St()},"VTable"),Je=Z()({name:"VTable",props:Wa(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=_t(e),{densityClasses:l}=pa(e);return ne(()=>s(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,l.value,e.class],style:e.style},{default:()=>{var o,i,u;return[(o=t.top)==null?void 0:o.call(t),t.default?s("div",{class:"v-table__wrapper",style:{height:fe(e.height)}},[s("table",null,[t.default()])]):(i=t.wrapper)==null?void 0:i.call(t),(u=t.bottom)==null?void 0:u.call(t)]}})),{}}}),_o=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function ko(e,n,t,a){const l=e.returnObject?n:De(n,e.itemValue),o=De(n,e.itemSelectable,!0),i=a.reduce((u,c)=>(u[c.key]=De(n,c.value??c.key),u),{});return{type:"item",key:e.returnObject?De(n,e.itemValue):l,index:t,value:l,selectable:o,columns:i,raw:n}}function Vo(e,n,t){return n.map((a,l)=>ko(e,a,l,t))}function ja(e,n){return{items:_(()=>Vo(e,e.items,n.value))}}function Qa(e){let{page:n,itemsPerPage:t,sortBy:a,groupBy:l,search:o}=e;const i=ua("VDataTable"),u=_(()=>({page:n.value,itemsPerPage:t.value,sortBy:a.value,groupBy:l.value,search:o.value}));X(()=>o==null?void 0:o.value,()=>{n.value=1});let c=null;X(u,()=>{da(c,u.value)||(i.emit("update:options",u.value),c=u.value)},{deep:!0,immediate:!0})}const Po=(e,n,t)=>e==null||n==null?-1:e.toString().toLocaleLowerCase().indexOf(n.toString().toLocaleLowerCase()),xo=F({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Io(e,n,t){var u;const a=[],l=(t==null?void 0:t.default)??Po,o=t!=null&&t.filterKeys?je(t.filterKeys):!1,i=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let c=0;c<e.length;c++){const d=e[c],r={},m={};let v=-1;if(n&&!(t!=null&&t.noFilter)){if(typeof d=="object"){const S=o||Object.keys(d);for(const y of S){const p=De(d,y,d),b=(u=t==null?void 0:t.customKeyFilter)==null?void 0:u[y];if(v=b?b(p,n,d):l(p,n,d),v!==-1&&v!==!1)b?r[y]=v:m[y]=v;else if((t==null?void 0:t.filterMode)==="every")continue e}}else v=l(d,n,d),v!==-1&&v!==!1&&(m.title=v);const f=Object.keys(m).length,g=Object.keys(r).length;if(!f&&!g||(t==null?void 0:t.filterMode)==="union"&&g!==i&&!f||(t==null?void 0:t.filterMode)==="intersection"&&(g!==i||!f))continue}a.push({index:c,matches:{...m,...r}})}return a}function Co(e,n,t,a){const l=D([]),o=D(new Map),i=_(()=>a!=null&&a.transform?le(n).map(a==null?void 0:a.transform):le(n));He(()=>{const c=typeof t=="function"?t():le(t),d=typeof c!="string"&&typeof c!="number"?"":String(c),r=Io(i.value,d,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=le(n),v=[],f=new Map;r.forEach(g=>{let{index:S,matches:y}=g;const p=m[S];v.push(p),f.set(p.value,y)}),l.value=v,o.value=f});function u(c){return o.value.get(c.value)}return{filteredItems:l,filteredMatches:o,getMatches:u}}const Ya=F({...za(),width:[String,Number],search:String,...bo(),...po(),...ro(),..._o(),...uo(),...co(),...Ra(),...Wa()},"DataTable"),To=F({..._a(),...Ya(),...xo(),...Lt()},"VDataTable");Z()({name:"VDataTable",props:To(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{emit:t,slots:a}=n;const{groupBy:l}=Oa(e),{sortBy:o,multiSort:i,mustSort:u}=Ba(e),{page:c,itemsPerPage:d}=Va(e),{columns:r,headers:m}=Ia(e,{groupBy:l,showSelect:j(e,"showSelect"),showExpand:j(e,"showExpand")}),{items:v}=ja(e,r),f=j(e,"search"),{filteredItems:g}=Co(e,v,f,{transform:W=>W.columns}),{toggleSort:S}=Aa({sortBy:o,multiSort:i,mustSort:u,page:c}),{sortByWithGroups:y,opened:p,extractRows:b,isGroupOpen:x,toggleGroup:C}=Ma({groupBy:l,sortBy:o}),{sortedItems:w}=mo(e,g,y),{flatItems:E}=Ha(w,l,p),k=_(()=>E.value.length),{startIndex:I,stopIndex:R,pageCount:U,setItemsPerPage:ee}=Pa({page:c,itemsPerPage:d,itemsLength:k}),{paginatedItems:te}=so({items:E,startIndex:I,stopIndex:R,itemsPerPage:d}),oe=_(()=>b(te.value)),{isSelected:we,select:V,selectAll:$,toggleSelect:J,someSelected:ce,allSelected:H}=La(e,{allItems:v,currentPage:oe}),{isExpanded:A,toggleExpand:z}=Ga(e);Qa({page:c,itemsPerPage:d,sortBy:o,groupBy:l,search:f}),tt({VDataTableRows:{hideNoData:j(e,"hideNoData"),noDataText:j(e,"noDataText"),loading:j(e,"loading"),loadingText:j(e,"loadingText")}});const M=_(()=>({page:c.value,itemsPerPage:d.value,sortBy:o.value,pageCount:U.value,toggleSort:S,setItemsPerPage:ee,someSelected:ce.value,allSelected:H.value,isSelected:we,select:V,selectAll:$,toggleSelect:J,isExpanded:A,toggleExpand:z,isGroupOpen:x,toggleGroup:C,items:oe.value,groupedItems:te.value,columns:r.value,headers:m.value}));return ne(()=>{const[W]=Ye.filterProps(e),[re]=Xe.filterProps(e),[ie]=Ze.filterProps(e),[O]=Je.filterProps(e);return s(Je,K({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},O),{top:()=>{var B;return(B=a.top)==null?void 0:B.call(a,M.value)},default:()=>{var B,L,Y,ve;return a.default?a.default(M.value):s(G,null,[(B=a.colgroup)==null?void 0:B.call(a,M.value),s("thead",null,[s(Xe,re,a)]),(L=a.thead)==null?void 0:L.call(a,M.value),s("tbody",null,[a.body?a.body(M.value):s(Ze,K(ie,{items:te.value}),a)]),(Y=a.tbody)==null?void 0:Y.call(a,M.value),(ve=a.tfoot)==null?void 0:ve.call(a,M.value)])},bottom:()=>a.bottom?a.bottom(M.value):s(G,null,[s(Ye,W,{prepend:a["footer.prepend"]})])})}),{}}});const Do=F({itemsLength:{type:[Number,String],required:!0},..._a(),...Ya(),...Lt()},"VDataTableServer"),Lo=Z()({name:"VDataTableServer",props:Do(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,n)=>!0},setup(e,n){let{emit:t,slots:a}=n;const{groupBy:l}=Oa(e),{sortBy:o,multiSort:i,mustSort:u}=Ba(e),{page:c,itemsPerPage:d}=Va(e),r=_(()=>parseInt(e.itemsLength,10)),{columns:m,headers:v}=Ia(e,{groupBy:l,showSelect:j(e,"showSelect"),showExpand:j(e,"showExpand")}),{items:f}=ja(e,m),{toggleSort:g}=Aa({sortBy:o,multiSort:i,mustSort:u,page:c}),{opened:S,isGroupOpen:y,toggleGroup:p,extractRows:b}=Ma({groupBy:l,sortBy:o}),{pageCount:x,setItemsPerPage:C}=Pa({page:c,itemsPerPage:d,itemsLength:r}),{flatItems:w}=Ha(f,l,S),{isSelected:E,select:k,selectAll:I,toggleSelect:R,someSelected:U,allSelected:ee}=La(e,{allItems:f,currentPage:f}),{isExpanded:te,toggleExpand:oe}=Ga(e),we=_(()=>b(f.value));Qa({page:c,itemsPerPage:d,sortBy:o,groupBy:l,search:j(e,"search")}),be("v-data-table",{toggleSort:g,sortBy:o}),tt({VDataTableRows:{hideNoData:j(e,"hideNoData"),noDataText:j(e,"noDataText"),loading:j(e,"loading"),loadingText:j(e,"loadingText")}});const V=_(()=>({page:c.value,itemsPerPage:d.value,sortBy:o.value,pageCount:x.value,toggleSort:g,setItemsPerPage:C,someSelected:U.value,allSelected:ee.value,isSelected:E,select:k,selectAll:I,toggleSelect:R,isExpanded:te,toggleExpand:oe,isGroupOpen:y,toggleGroup:p,items:we.value,groupedItems:w.value,columns:m.value,headers:v.value}));ne(()=>{const[$]=Ye.filterProps(e),[J]=Xe.filterProps(e),[ce]=Ze.filterProps(e),[H]=Je.filterProps(e);return s(Je,K({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},H),{top:()=>{var A;return(A=a.top)==null?void 0:A.call(a,V.value)},default:()=>{var A,z,M,W;return a.default?a.default(V.value):s(G,null,[(A=a.colgroup)==null?void 0:A.call(a,V.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(Xe,K(J,{sticky:e.fixedHeader}),a)]),(z=a.thead)==null?void 0:z.call(a,V.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(V.value):s(Ze,K(ce,{items:w.value}),a)]),(M=a.tbody)==null?void 0:M.call(a,V.value),(W=a.tfoot)==null?void 0:W.call(a,V.value)])},bottom:()=>a.bottom?a.bottom(V.value):s(Ye,$,{prepend:a["footer.prepend"]})})})}}),Eo=ue({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(e,{emit:n}){const t=e,a=[bn(),wn(),Sn(),_n(),kn(),Vn(Pn,{fallback:!0}),xn(),In(),Cn(),Tn(),Dn(),Ln.of([{key:"Enter",run:()=>(n("execute"),!0)},...En,...Bn,...An,...Rn,...$n]),On.transactionFilter.of(l=>l.newDoc.lines>1?[]:l),...t.additionalExtensions];return(l,o)=>(P(),N("div",{class:Fn(["cm-oneline",{"cm-oneline--with-prepend-icon":l.prependInnerIcon}])},[l.prependInnerIcon?(P(),q(me,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:h(()=>[T(de(l.prependInnerIcon),1)]),_:1})):ge("",!0),s(le(Mn),{"model-value":l.modelValue,extensions:a,placeholder:l.placeholder,disabled:l.disabled,"onUpdate:modelValue":o[0]||(o[0]=i=>l.$emit("update:modelValue",i)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const Wt=Pe(Eo,[["__scopeId","data-v-0d175474"]]);const Bt=Z()({name:"VCardActions",props:ye(),setup(e,n){let{slots:t}=n;return tt({VBtn:{variant:"text"}}),ne(()=>{var a;return s("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),Bo=lt("v-card-subtitle"),qe=lt("v-card-title"),Ao=F({appendAvatar:String,appendIcon:Ce,prependAvatar:String,prependIcon:Ce,subtitle:String,title:String,...ye(),...It()},"VCardItem"),Ro=Z()({name:"VCardItem",props:Ao(),setup(e,n){let{slots:t}=n;return ne(()=>{var d;const a=!!(e.prependAvatar||e.prependIcon),l=!!(a||t.prepend),o=!!(e.appendAvatar||e.appendIcon),i=!!(o||t.append),u=!!(e.title||t.title),c=!!(e.subtitle||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[l&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(Ee,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):a&&s(ft,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),s("div",{class:"v-card-item__content"},[u&&s(qe,{key:"title"},{default:()=>{var r;return[((r=t.title)==null?void 0:r.call(t))??e.title]}}),c&&s(Bo,{key:"subtitle"},{default:()=>{var r;return[((r=t.subtitle)==null?void 0:r.call(t))??e.subtitle]}}),(d=t.default)==null?void 0:d.call(t)]),i&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(Ee,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):o&&s(ft,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),it=lt("v-card-text"),$o=F({appendAvatar:String,appendIcon:Ce,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ce,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Qt(),...ye(),...It(),...ia(),...Yt(),...va(),...Un(),...qn(),...Xt(),...Hn(),...Ne(),...St(),...Nn({variant:"elevated"})},"VCard"),At=Z()({name:"VCard",directives:{Ripple:Gn},props:$o(),setup(e,n){let{attrs:t,slots:a}=n;const{themeClasses:l}=_t(e),{borderClasses:o}=Zt(e),{colorClasses:i,colorStyles:u,variantClasses:c}=Kn(e),{densityClasses:d}=pa(e),{dimensionStyles:r}=ca(e),{elevationClasses:m}=Jt(e),{loaderClasses:v}=ma(e),{locationStyles:f}=zn(e),{positionClasses:g}=Wn(e),{roundedClasses:S}=ta(e),y=jn(e,t),p=_(()=>e.link!==!1&&y.isLink.value),b=_(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return ne(()=>{const x=p.value?"a":e.tag,C=!!(a.title||e.title),w=!!(a.subtitle||e.subtitle),E=C||w,k=!!(a.append||e.appendAvatar||e.appendIcon),I=!!(a.prepend||e.prependAvatar||e.prependIcon),R=!!(a.image||e.image),U=E||I||k,ee=!!(a.text||e.text);return ga(s(x,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},l.value,o.value,i.value,d.value,m.value,v.value,g.value,S.value,c.value,e.class],style:[u.value,r.value,f.value,e.style],href:y.href.value,onClick:b.value&&y.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var te;return[R&&s("div",{key:"image",class:"v-card__image"},[a.image?s(Ee,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):s(la,{key:"image-img",cover:!0,src:e.image},null)]),s(fa,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),U&&s(Ro,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),ee&&s(it,{key:"text"},{default:()=>{var oe;return[((oe=a.text)==null?void 0:oe.call(a))??e.text]}}),(te=a.default)==null?void 0:te.call(a),a.actions&&s(Bt,null,{default:a.actions}),Yn(b.value,"v-card")]}}),[[Qn("ripple"),b.value&&e.ripple]])}),{}}}),Oo={key:0,class:"data-grid"},Mo={class:"query-input"},Fo=["onClick"],Uo={class:"data-grid-cell__body"},qo={key:0,class:"text-disabled"},Ho={style:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center"}},No={key:1},Go=ue({__name:"LabEditorDataGrid",props:{params:{},data:{}},setup(e){var H,A,z,M,W,re,ie;const n=e,t=Xn(),a=Ae(),l=D([n.params.dataPointer.catalogName,n.params.dataPointer.entityType]),o=[{title:"EvitaQL",value:ut.EvitaQL},{title:"GraphQL",value:ut.GraphQL}];let i=[],u=[],c=new Map;const d=D((H=n.data)!=null&&H.queryLanguage?[n.data.queryLanguage]:[ut.EvitaQL]);X(d,(O,B)=>{O[0]!==B[0]&&(g.value="",y.value="",$())});const r=D(!1),m=D((A=n.data)!=null&&A.pageNumber?n.data.pageNumber:1),v=D((z=n.data)!=null&&z.pageSize?n.data.pageSize:25),f=[10,25,50,100,250,500,1e3].map(O=>({title:O.toString(10),value:O})),g=D((M=n.data)!=null&&M.filterBy?n.data.filterBy:""),S=[],y=D((W=n.data)!=null&&W.orderBy?n.data.orderBy:""),p=[],b=D((re=n.data)!=null&&re.dataLanguage?[n.data.dataLanguage]:["none"]);X(b,()=>$());const x=D((ie=n.data)!=null&&ie.displayedData?n.data.displayedData:[]);X(x,(O,B)=>{te(),O.length>B.length&&$()});const C=D([]),w=D([]),E=D(0),k=D(!1),I=D(""),R=D(""),U=D(!1);aa(()=>{t.getDataLocales(n.params.dataPointer).then(O=>(u=O,t.getEntityPropertyKeys(n.params.dataPointer))).then(O=>(i=O.map(B=>B.toString()),ee(i))).then(O=>{c=O,oe(),U.value=!0,n.params.executeOnOpen&&$()}).catch(O=>{a.error(O)})});async function ee(O){const B=new Map;for(const L of O){let Y;try{Y=await t.isEntityPropertySortable(n.params.dataPointer,L)}catch(ve){a.error(ve),Y=!1}B.set(L,{key:L,title:L,sortable:Y})}return B}async function te(){C.value=x.value.map(O=>c.get(O)),C.value.sort((O,B)=>i.indexOf(O.key)-i.indexOf(B.key))}function oe(){if(x.value.length>0)return;const O=Re.entity($e.PrimaryKey).toString(),B=Re.entity($e.Parent).toString(),L=Re.entity($e.Locales).toString(),Y=Re.entity($e.AllLocales).toString(),ve=Re.entity($e.PriceInnerRecordHandling).toString(),xe=[];i.includes(O)&&xe.push(O),i.includes(B)&&xe.push(B),i.includes(L)&&xe.push(L),i.includes(Y)&&xe.push(Y),i.includes(ve)&&xe.push(ve),x.value=xe}function we(){x.value.length<i.length?x.value=i.slice():x.value=[]}async function V({page:O,itemsPerPage:B,sortBy:L}){m.value=O,v.value=B;try{y.value=await t.buildOrderByFromGridColumns(n.params.dataPointer,d.value[0],L)}catch(Y){a.error(Y)}await $()}async function $(){r.value=!0;try{const O=await t.executeQuery(n.params.dataPointer,d.value[0],g.value,y.value,b.value.length===0?void 0:b.value[0],x.value,m.value,v.value);w.value=O.entities.map(B=>{const L={};return B.forEach(([Y,ve])=>L[Y.toString()]=ve),L}),E.value=O.totalEntitiesCount}catch(O){a.error(O)}r.value=!1}function J(O,B){B&&(I.value=O,R.value=B,k.value=!0)}function ce(){k.value=!1,I.value="",R.value=""}return(O,B)=>U.value?(P(),N("div",Oo,[s(vt,{density:"compact",elevation:"2",class:"data-grid__header"},{append:h(()=>[s(Q,{icon:"",variant:"elevated",loading:r.value,density:"compact",onClick:$},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-play")]),_:1}),s(Ie,{activator:"parent"},{default:h(()=>[T(" Execute query ")]),_:1})]),_:1},8,["loading"])]),extension:h(()=>[ae("div",Mo,[s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-code-braces")]),_:1}),s(Ie,{activator:"parent"},{default:h(()=>[T("Select query language")]),_:1}),s(Fe,{activator:"parent"},{default:h(()=>[s(Ve,{selected:d.value,"onUpdate:selected":B[0]||(B[0]=L=>d.value=L),density:"compact"},{default:h(()=>[(P(),N(G,null,_e(o,L=>s(ke,{key:L.value,value:L.value},{default:h(()=>[s(Oe,null,{default:h(()=>[T(de(L.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}),s(Wt,{modelValue:g.value,"onUpdate:modelValue":B[1]||(B[1]=L=>g.value=L),"prepend-inner-icon":"mdi-filter",placeholder:"Filter by","additional-extensions":S,onExecute:$},null,8,["modelValue"]),s(Wt,{modelValue:y.value,"onUpdate:modelValue":B[2]||(B[2]=L=>y.value=L),"prepend-inner-icon":"mdi-sort",placeholder:"Order by","additional-extensions":p,onExecute:$},null,8,["modelValue"]),s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-translate")]),_:1}),s(Ie,{activator:"parent"},{default:h(()=>[T(" Select data locale ")]),_:1}),s(Fe,{activator:"parent"},{default:h(()=>[s(Ve,{selected:b.value,"onUpdate:selected":B[3]||(B[3]=L=>b.value=L),density:"compact","min-width":"100"},{default:h(()=>[s(ke,{value:"none"},{default:h(()=>[s(Oe,null,{default:h(()=>[T("None")]),_:1})]),_:1}),s(ct,{class:"mt-2 mb-2"}),(P(!0),N(G,null,_e(le(u),L=>(P(),q(ke,{key:L,value:L},{default:h(()=>[s(Oe,null,{default:h(()=>[T(de(L),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}),s(Q,{icon:"",density:"comfortable"},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-view-column")]),_:1}),s(Ie,{activator:"parent"},{default:h(()=>[T(" Select displayed data ")]),_:1}),s(Fe,{activator:"parent","close-on-content-click":!1},{default:h(()=>[s(Ve,{selected:x.value,"onUpdate:selected":B[4]||(B[4]=L=>x.value=L),"select-strategy":"classic",density:"compact"},{default:h(()=>[s(ke,null,{prepend:h(()=>[s(Ht,{start:""},{default:h(()=>[s(Be,{indeterminate:x.value.length>0&&x.value.length<le(i).length,"model-value":x.value.length===le(i).length,onClick:we},null,8,["indeterminate","model-value"])]),_:1})]),default:h(()=>[s(Oe,null,{default:h(()=>[T("Select all")]),_:1})]),_:1}),s(ct,{class:"mt-2 mb-2"}),(P(!0),N(G,null,_e(le(i),L=>(P(),q(ke,{key:L,value:L},{prepend:h(({isActive:Y})=>[s(Ht,{start:""},{default:h(()=>[s(Be,{"model-value":Y},null,8,["model-value"])]),_:2},1024)]),default:h(()=>[s(Oe,null,{default:h(()=>[T(de(L),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})])]),default:h(()=>[s(Zn,{icon:"mdi-table",disabled:!0,style:{opacity:"1"}}),s(Jn,null,{default:h(()=>[s(el,{items:l.value,class:"pl-0 pr-0"},null,8,["items"])]),_:1})]),_:1}),s(le(al),{vertical:"",class:"data-grid__body"},{default:h(()=>[s(le(Mt),{size:"70","min-size":"30"},{default:h(()=>[s(le(Lo),{headers:C.value,loading:r.value,items:w.value,"items-length":E.value,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":v.value,"items-per-page-Options":le(f),"onUpdate:options":V},{item:h(({item:L})=>[ae("tr",null,[(P(!0),N(G,null,_e(L.columns,(Y,ve)=>(P(),N("td",{key:ve,onClick:xe=>J(ve,Y)},[ae("span",Uo,[Y?(P(),N(G,{key:1},[T(de(Y),1)],64)):(P(),N("span",qo,"<null>"))])],8,Fo))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),k.value?(P(),q(le(Mt),{key:0,size:"30"},{default:h(()=>[s(At,{class:"data-grid-cell-detail"},{default:h(()=>[s(qe,null,{default:h(()=>[ae("div",Ho,[ae("span",null,de(I.value),1),s(Q,{icon:"",variant:"flat",density:"compact",onClick:ce},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-close")]),_:1})]),_:1})])]),_:1}),s(ct),s(it,{class:"data-grid-cell-detail__body"},{default:h(()=>[s(tl,{modelValue:R.value,"onUpdate:modelValue":B[5]||(B[5]=L=>R.value=L),"read-only":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):ge("",!0)]),_:1})])):(P(),N("div",No," Loading... "))}});const Ko=Pe(Go,[["__scopeId","data-v-53a38dac"]]);class zo extends nl{constructor(n,t,a,l=void 0,o=!1){super(`${t} - ${a} [${n.name}]`,"mdi-table",ll(Ko),{dataPointer:new ol(n,t,a),executeOnOpen:o},l)}}const Wo=ue({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(e){const n=e,t=D([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=ot(),l=he("connection"),o=he("catalogSchema");function i(){a.createTabRequest(new zo(l,o.value.name,n.entitySchema.name))}function u(c){switch(c){case"view-entities":i();break;case"view-schema":a.createTabRequest(new ha(l,new sl(o.value.name,n.entitySchema.name)));break}}return(c,d)=>(P(),q(Qe,{"prepend-icon":"mdi-list-box",actions:t.value,onClick:i,"onClick:action":u},{default:h(()=>[T(de(c.entitySchema.name),1)]),_:1},8,["actions"]))}}),jo={key:0},Qo=ue({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(e){const n=e,t=D([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=Ge(),l=ot(),o=Ae(),i=he("connection"),u=D();be("catalogSchema",u);async function c(){if(!(u.value!==void 0||n.catalog.corrupted))try{u.value=await a.getCatalogSchema(i,n.catalog.name)}catch(r){o.error(r)}}function d(r){switch(r){case"open-evitaql-console":l.createTabRequest(new il(i,n.catalog.name));break;case"open-graphql-data-api-console":l.createTabRequest(new ht(i,n.catalog.name,yt.DATA));break;case"open-graphql-schema-api-console":l.createTabRequest(new ht(i,n.catalog.name,yt.SCHEMA));break;case"view-schema":l.createTabRequest(new ha(i,new rl(n.catalog.name)));break}}return(r,m)=>(P(),q(ya,{value:`${le(i).name}|${r.catalog.name}`},{activator:h(({isOpen:v,props:f})=>[r.catalog.corrupted?(P(),q(Qe,K({key:1},f,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:h(()=>[T(de(r.catalog.name)+" ",1),s(Ie,{activator:"parent"},{default:h(()=>[T(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(P(),q(Qe,K({key:0},f,{openable:"","is-open":v,"prepend-icon":"mdi-book-open",actions:t.value,onClick:c,"onClick:action":d}),{default:h(()=>[T(de(r.catalog.name),1)]),_:2},1040,["is-open","actions"]))]),default:h(()=>[!r.catalog.corrupted&&u.value!==void 0?(P(),N("div",jo,[(P(!0),N(G,null,_e(Object.values(u.value.entitySchemas),v=>(P(),q(Wo,{key:v.name,"entity-schema":v},null,8,["entity-schema"]))),128))])):ge("",!0)]),_:1},8,["value"]))}});const Yo=F({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...sa({origin:"center center",scrollStrategy:"block",transition:{component:Dt},zIndex:2400})},"VDialog"),Xa=Z()({name:"VDialog",props:Yo(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const a=pe(e,"modelValue"),{scopeId:l}=kt(),o=D();function i(c){var m,v;const d=c.relatedTarget,r=c.target;if(d!==r&&((m=o.value)!=null&&m.contentEl)&&((v=o.value)!=null&&v.globalTop)&&![document,o.value.contentEl].includes(r)&&!o.value.contentEl.contains(r)){const f=cl(o.value.contentEl);if(!f.length)return;const g=f[0],S=f[f.length-1];d===g?S.focus():g.focus()}}ul&&X(()=>a.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",i):document.removeEventListener("focusin",i)},{immediate:!0}),X(a,async c=>{var d,r;await na(),c?(d=o.value.contentEl)==null||d.focus({preventScroll:!0}):(r=o.value.activatorEl)==null||r.focus({preventScroll:!0})});const u=_(()=>K({"aria-haspopup":"dialog","aria-expanded":String(a.value)},e.activatorProps));return ne(()=>{const[c]=We.filterProps(e);return s(We,K({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,"aria-modal":"true",activatorProps:u.value,role:"dialog"},l),{activator:t.activator,default:function(){for(var d=arguments.length,r=new Array(d),m=0;m<d;m++)r[m]=arguments[m];return s(Ee,{root:"VDialog"},{default:()=>{var v;return[(v=t.default)==null?void 0:v.call(t,...r)]}})}})}),at({},o)}}),Za=lt("flex-grow-1","div","VSpacer"),Xo=ue({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,a=Ge(),l=Ae();function o(){n("update:modelValue",!1)}function i(){try{a.removeConnection(t.connection.id)}catch(u){l.error(u);return}l.success("Connection removed."),n("update:modelValue",!1)}return(u,c)=>(P(),q(Xa,{"model-value":u.modelValue,"max-width":"30rem","onUpdate:modelValue":c[0]||(c[0]=d=>u.$emit("update:modelValue",d))},{activator:h(({props:d})=>[Vt(u.$slots,"activator",Pt(xt(d)))]),default:h(()=>[s(At,null,{default:h(()=>[s(qe,null,{default:h(()=>[T("Remove connection")]),_:1}),s(it,null,{default:h(()=>[T(" Are you sure you want to remove the connection "),ae("strong",null,de(u.connection.name),1),T("? ")]),_:1}),s(Bt,null,{default:h(()=>[s(Za),s(Q,{onClick:o},{default:h(()=>[T(" Cancel ")]),_:1}),s(Q,{"prepend-icon":"mdi-delete",onClick:i},{default:h(()=>[T(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),Zo={key:0},Jo=ue({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(e){const n=e,t=ot(),a=Ge(),l=Ae();be("connection",dl(n.connection));const o=D([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!a.isReadOnly()&&!n.connection.preconfigured&&o.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const i=D(!1),u=D();async function c(){if(u.value===void 0)try{u.value=await a.getCatalogs(n.connection)}catch(r){l.error(r)}}function d(r,m){switch(r){case"open-graphql-system-api-console":t.createTabRequest(new ht(n.connection,"system",yt.SYSTEM));break;case"edit":throw new vl(void 0,"Not implemented yet.");case"remove":i.value=!0;break}}return(r,m)=>(P(),q(ya,{value:r.connection.name},{activator:h(({isOpen:v,props:f})=>[s(Qe,K(f,{openable:"","is-open":v,"prepend-icon":"mdi-server",actions:o.value,onClick:c,"onClick:action":d}),{default:h(()=>[T(de(r.connection.name),1)]),_:2},1040,["is-open","actions"])]),default:h(()=>[u.value!==void 0?(P(),N("div",Zo,[(P(!0),N(G,null,_e(u.value,v=>(P(),q(Qo,{key:v.name,catalog:v},null,8,["catalog"]))),128))])):ge("",!0),s(Xo,{modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=v=>i.value=v),connection:r.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),es=F({...ye(),...ml()},"VForm"),ts=Z()({name:"VForm",props:es(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,n){let{slots:t,emit:a}=n;const l=fl(e),o=D();function i(c){c.preventDefault(),l.reset()}function u(c){const d=c,r=l.validate();d.then=r.then.bind(r),d.catch=r.catch.bind(r),d.finally=r.finally.bind(r),a("submit",d),d.defaultPrevented||r.then(m=>{var f;let{valid:v}=m;v&&((f=o.value)==null||f.submit())}),d.preventDefault()}return ne(()=>{var c;return s("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:u},[(c=t.default)==null?void 0:c.call(t,l)])}),at(l,o)}}),as=ue({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,a=Ge(),l=Ae(),o=[p=>p?!0:"Name of connection is required.",p=>a.isConnectionExists(p)?"Connection with this name already exists.":!0],i=[p=>p?!0:"evitaLab API URL is required.",p=>{try{return new URL(p),!0}catch{return"evitaLab API URL is not a valid URL."}},async p=>await v()?(r.value.labApiUrlTested=1,!0):(r.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],u=[p=>p?!0:"GraphQL API URL is required.",p=>{try{return new URL(p),!0}catch{return"GraphQL API URL is not a valid URL."}},async p=>await f()?(r.value.gqlUrlTested=1,!0):(r.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],c=D(null),d=_(()=>t.connection?1:0),r=D({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function m(p){switch(p){case 0:return null;case 1:return"mdi-check-circle";case 2:return"mdi-close-circle"}}async function v(){try{return(await Ft.get(r.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function f(){var p;try{const b=await Ft.post(r.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((p=b==null?void 0:b.data)==null?void 0:p.liveness)||!1}catch{return!1}}async function g(){let p=!0;return await v()?r.value.labApiUrlTested=1:(p=!1,r.value.labApiUrlTested=2),await f()?r.value.gqlUrlTested=1:(p=!1,r.value.gqlUrlTested=2),p?l.success("Successfully connected."):l.error("Connection test failed."),p}function S(){c.value.reset(),r.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},n("update:modelValue",!1)}async function y(){const{valid:p}=await c.value.validate();if(p){try{a.addConnection(new pl(void 0,r.value.name,!1,r.value.labApiUrl,"https://localhost:5555/rest",r.value.gqlUrl))}catch(b){l.error(b);return}c.value.reset(),n("update:modelValue",!1)}}return(p,b)=>(P(),q(Xa,{"model-value":p.modelValue,"onUpdate:modelValue":b[3]||(b[3]=x=>p.$emit("update:modelValue",x)),persistent:"","max-width":"30rem"},{activator:h(({props:x})=>[Vt(p.$slots,"activator",Pt(xt(x)))]),default:h(()=>[s(At,null,{default:h(()=>[d.value===0?(P(),q(qe,{key:0},{default:h(()=>[T("Add connection")]),_:1})):ge("",!0),d.value===1?(P(),q(qe,{key:1},{default:h(()=>[T("Edit connection")]),_:1})):ge("",!0),s(it,null,{default:h(()=>[s(ts,{ref_key:"form",ref:c,"validate-on":"submit"},{default:h(()=>[s(Me,{modelValue:r.value.name,"onUpdate:modelValue":b[0]||(b[0]=x=>r.value.name=x),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:o,required:""},null,8,["modelValue"]),s(Me,{modelValue:r.value.labApiUrl,"onUpdate:modelValue":b[1]||(b[1]=x=>r.value.labApiUrl=x),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:i,"append-inner-icon":m(r.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),s(Me,{modelValue:r.value.gqlUrl,"onUpdate:modelValue":b[2]||(b[2]=x=>r.value.gqlUrl=x),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:u,"append-inner-icon":m(r.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),s(Bt,null,{default:h(()=>[s(Q,{"prepend-icon":"mdi-connection",onClick:g},{default:h(()=>[T(" Test connection ")]),_:1}),s(Za),s(Q,{onClick:S},{default:h(()=>[T(" Cancel ")]),_:1}),s(Q,{"prepend-icon":"mdi-content-save",onClick:y},{default:h(()=>[T(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),ns={key:0,class:"pa-2"},ls=ue({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:n}){const t=Ge(),a=D(!1),l=_(()=>t.getConnections());return(o,i)=>(P(),q(Sa,{permanent:"","model-value":o.modelValue,"onUpdate:modelValue":i[2]||(i[2]=u=>o.$emit("update:modelValue",u))},{append:h(()=>[le(t).isReadOnly()?ge("",!0):(P(),N("div",ns,[s(as,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=u=>a.value=u)},{activator:h(({props:u})=>[s(Q,K({"prepend-icon":"mdi-plus",block:"",variant:"tonal"},u,{onClick:i[0]||(i[0]=c=>a.value=!0)}),{default:h(()=>[T(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:h(()=>[s(Ve,{density:"compact",nav:""},{default:h(()=>[s(gl,null,{default:h(()=>[T("Connections Explorer")]),_:1}),(P(!0),N(G,null,_e(l.value,u=>(P(),q(Jo,{key:u.name,connection:u},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),os=e=>(Ct("data-v-af503213"),e=e(),Tt(),e),ss={class:"spinner",width:"1.5rem",height:"1.5rem",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},rs=os(()=>ae("circle",{class:"path",fill:"none","stroke-width":"6","stroke-linecap":"round",cx:"33",cy:"33",r:"30"},null,-1)),is=[rs],us=ue({__name:"VLoadingIcon",setup(e){return(n,t)=>(P(),N("svg",ss,is))}});const cs=Pe(us,[["__scopeId","data-v-af503213"]]),ds=e=>(Ct("data-v-8fa20ca2"),e=e(),Tt(),e),vs={class:"loading-screen"},ms={class:"loading-screen-info"},fs=ds(()=>ae("span",null,"Loading, please wait ...",-1)),ps=ue({__name:"LabEditorLoadingScreen",setup(e){return(n,t)=>(P(),N("div",vs,[ae("div",ms,[s(cs,{width:"3rem",height:"3rem"}),fs])]))}});const gs=Pe(ps,[["__scopeId","data-v-8fa20ca2"]]),hs=ue({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(e){const n=D(!1);return(t,a)=>(P(),N(G,null,[(P(),q(bl,null,[ga((P(),q(yl(t.component),K(t.componentProps,{onReady:a[0]||(a[0]=l=>n.value=!0)}),null,16)),[[hl,n.value]])],1024)),n.value?ge("",!0):(P(),q(gs,{key:0}))],64))}});function ys(e,n){return e.length<=n?e:e.substring(0,n-3)+"..."}const bs=e=>(Ct("data-v-1cf322c2"),e=e(),Tt(),e),ws={class:"editor-welcome-screen"},Ss={class:"editor-welcome-screen-hero"},_s=bs(()=>ae("header",{class:"editor-welcome-screen-hero__header"},[ae("h1",{class:"text-h2"},"evitaLab"),ae("p",{class:"text-subtitle-1 mt-2"},"evitaDB web client")],-1)),ks={class:"editor-welcome-screen-hero__links"},Vs=ue({__name:"LabEditorWelcomeScreen",setup(e){function n(){window.open("https://evitadb.io/documentation","_blank")}function t(){window.open("https://github.com/lukashornych/evitalab/","_blank")}function a(){window.open("https://discord.gg/VsNBWxgmSw","_blank")}function l(){window.open("https://github.com/lukashornych/evitalab/issues","_blank")}return(o,i)=>(P(),N("div",ws,[ae("div",Ss,[_s,ae("div",ks,[s(Q,{"prepend-icon":"mdi-book",onClick:n},{default:h(()=>[T(" Check out the evitaDB documentation ")]),_:1}),s(Q,{"prepend-icon":"mdi-github",onClick:t},{default:h(()=>[T(" Give us a ⭐ on GitHub ")]),_:1}),s(Q,{"prepend-icon":"mdi-comment-quote",onClick:a},{default:h(()=>[T(" Reach out to us on Discord ")]),_:1}),s(Q,{"prepend-icon":"mdi-bug",onClick:l},{default:h(()=>[T(" Submit an issue ")]),_:1})])])]))}});const Ps=Pe(Vs,[["__scopeId","data-v-1cf322c2"]]);const xs=F({scrollable:Boolean,...ye(),...Ne({tag:"main"})},"VMain"),Is=Z()({name:"VMain",props:xs(),setup(e,n){let{slots:t}=n;const{mainStyles:a}=xl(),{ssrBootStyles:l}=wt();return ne(()=>s(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,l.value,e.style]},{default:()=>{var o,i;return[e.scrollable?s("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(i=t.default)==null?void 0:i.call(t)]}})),{}}}),Cs={key:1,style:{position:"relative"}},Ts=ue({__name:"LabEditor",setup(e){const n=wl(),t=Ae(),a=ot(),l=Sl(),o=_(()=>a.getTabRequests());X(o,()=>{const d=a.getNewTabRequest();d&&(i.value=d.id,a.markTabRequestAsVisited(d.id))},{deep:!0});const i=D();function u(d){const r=o.value.length,m=o.value.findIndex(f=>f.id===i.value),v=o.value.findIndex(f=>f.id===d);a.destroyTabRequest(d),o.value.length===0?i.value=null:v===m&&v===r-1?i.value=o.value[v-1].id:v===m&&v<r-1&&(i.value=o.value[v].id)}async function c(){const d=n.query.demoSnippetRequest;if(d!==void 0)try{const r=JSON.parse(atob(d));return await l.resolve(r)}catch(r){t.error(r)}}return c().then(d=>{d&&a.createTabRequest(d)}),(d,r)=>(P(),N(G,null,[o.value.length>0?(P(),q(Ll,{key:0,density:"compact",elevation:"0"},{default:h(()=>[s(kl,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=m=>i.value=m)},{default:h(()=>[(P(!0),N(G,null,_e(o.value,m=>(P(),q(_l,{key:m.id,value:m.id,"prepend-icon":m.icon,onMousedown:Ue(v=>u(m.id),["middle"])},{default:h(()=>[ae("span",null,[T(de(le(ys)(m.title,30))+" ",1),m.title.length>30?(P(),q(Ie,{key:0,activator:"parent"},{default:h(()=>[T(de(m.title),1)]),_:2},1024)):ge("",!0)]),s(Q,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ue(v=>u(m.id),["stop"])},{default:h(()=>[s(me,null,{default:h(()=>[T("mdi-close")]),_:1}),s(Ie,{activator:"parent"},{default:h(()=>[T(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):ge("",!0),s(Is,{scrollable:!1,class:"lab-editor"},{default:h(()=>[o.value.length>0?(P(),q(Pl,{key:0,modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=m=>i.value=m)},{default:h(()=>[(P(!0),N(G,null,_e(o.value,m=>(P(),q(Vl,{key:m.id,value:m.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:h(()=>[s(hs,{component:m.component,"component-props":m.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(P(),N("div",Cs,[s(Ps)]))]),_:1})],64))}});const Ds=Pe(Ts,[["__scopeId","data-v-31678cef"]]),Bs=ue({__name:"Lab",setup(e){const n=D(Se.Explorer);return(t,a)=>(P(),N(G,null,[s(Gl,{panel:n.value,"onUpdate:panel":a[0]||(a[0]=l=>n.value=l)},null,8,["panel"]),s(ls,{"model-value":n.value===le(Se).Explorer},null,8,["model-value"]),s(Ds)],64))}});export{Bs as default};
