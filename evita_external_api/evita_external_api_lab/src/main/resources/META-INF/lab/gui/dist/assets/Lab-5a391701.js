import{b as ee,e as s,h as z,T as vt,p as U,i as ze,j as nn,s as $t,k as ln,n as on,l as I,q as se,t as _,v as Le,x as J,y as tt,z as wt,A as sn,B as fe,C as Qt,D as St,E as Q,d as le,V as mt,F as Ne,m as he,G as Ge,H as me,I as rn,J as Yt,K as Xt,L as Zt,a as _t,u as un,c as kt,M as Jt,N as ft,O as ea,P as ta,Q as aa,R as cn,S as Vt,U as dn,W as na,X as at,Y as la,Z as G,$ as ce,a0 as Se,f as O,w as h,o as k,a1 as Z,a2 as oa,a3 as pt,a4 as Ve,_ as Pe,a5 as vn,a6 as sa,a7 as ra,a8 as mn,a9 as ge,aa as Ot,ab as ye,ac as je,ad as Be,ae as nt,af as Mt,ag as ve,ah as T,ai as ue,aj as Pt,ak as xt,al as Ct,am as pe,an as qe,ao as _e,ap as It,aq as Tt,ar as ia,as as gt,at as ua,au as ca,av as da,aw as fn,ax as pn,ay as Ie,az as va,aA as gn,aB as hn,aC as yn,aD as lt,aE as bn,aF as Qe,aG as wn,aH as Fe,aI as Ae,aJ as Sn,aK as Y,aL as _n,aM as ht,aN as We,aO as ma,aP as fa,aQ as pa,aR as kn,aS as Ee,aT as Dt,aU as ga,aV as ne,aW as Vn,aX as Pn,aY as xn,aZ as Cn,a_ as In,a$ as Tn,b0 as Dn,b1 as En,b2 as Ln,b3 as Bn,b4 as An,b5 as Rn,b6 as $n,b7 as On,b8 as Mn,b9 as Fn,ba as Un,bb as qn,bc as Hn,bd as K,be as Nn,bf as Gn,bg as ot,bh as Kn,bi as zn,bj as Wn,bk as jn,bl as Qn,bm as Yn,bn as Xn,bo as Zn,bp as Jn,bq as ha,br as el,bs as tl,bt as al,bu as Re,bv as ct,bw as $e,bx as Oe,by as Ce,bz as ke,bA as Me,bB as dt,bC as nl,bD as ll,bE as ol,bF as Ft,bG as sl,bH as rl,bI as il,bJ as ul,bK as cl,bL as st,bM as ya,bN as dl,bO as Ke,bP as ba,bQ as vl,bR as yt,bS as bt,bT as ml,bU as fl,bV as pl,bW as gl,bX as hl,bY as yl,bZ as bl,b_ as Ut,b$ as wl,c0 as Sl,c1 as _l,c2 as kl,c3 as Vl,c4 as Pl,c5 as xl,c6 as Cl,c7 as Il,c8 as Tl,c9 as Dl}from"./index-7e981242.js";import{a as wa,u as Sa,b as El}from"./layout-3dd59540.js";const Ll=U({target:Object},"v-dialog-transition"),Et=ee()({name:"VDialogTransition",props:Ll(),setup(e,l){let{slots:t}=l;const a={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,o){var m;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),n.style.visibility="";const{x:c,y:r,sx:u,sy:v,speed:i}=Ht(e.target,n),d=ze(n,[{transform:`translate(${c}px, ${r}px) scale(${u}, ${v})`,opacity:0},{}],{duration:225*i,easing:nn});(m=qt(n))==null||m.forEach(f=>{ze(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*i,easing:$t})}),d.finished.then(()=>o())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,o){var m;await new Promise(f=>requestAnimationFrame(f));const{x:c,y:r,sx:u,sy:v,speed:i}=Ht(e.target,n);ze(n,[{},{transform:`translate(${c}px, ${r}px) scale(${u}, ${v})`,opacity:0}],{duration:125*i,easing:ln}).finished.then(()=>o()),(m=qt(n))==null||m.forEach(f=>{ze(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*i,easing:$t})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?s(vt,z({name:"dialog-transition"},a,{css:!1}),t):s(vt,{name:"dialog-transition"},t)}});function qt(e){var t;const l=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return l&&[...l]}function Ht(e,l){const t=e.getBoundingClientRect(),a=on(l),[n,o]=getComputedStyle(l).transformOrigin.split(" ").map(p=>parseFloat(p)),[c,r]=getComputedStyle(l).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=t.left+t.width/2;c==="left"||r==="left"?u-=t.width/2:(c==="right"||r==="right")&&(u+=t.width/2);let v=t.top+t.height/2;c==="top"||r==="top"?v-=t.height/2:(c==="bottom"||r==="bottom")&&(v+=t.height/2);const i=t.width/a.width,d=t.height/a.height,m=Math.max(1,i,d),f=i/m||0,g=d/m||0,w=a.width*a.height/(window.innerWidth*window.innerHeight),y=w>.12?Math.min(1.5,(w-.12)*10+1):1;return{x:u-(n+a.left),y:v-(o+a.top),sx:f,sy:g,speed:y}}const Bl=U({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Al(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=l;let a=0;const n=I(null),o=se(0),c=se(0),r=se(0),u=se(!1),v=se(!1),i=_(()=>Number(e.scrollThreshold)),d=_(()=>Le((i.value-o.value)/i.value||0)),m=()=>{const f=n.value;!f||t&&!t.value||(a=o.value,o.value="window"in f?f.pageYOffset:f.scrollTop,v.value=o.value<a,r.value=Math.abs(o.value-i.value))};return J(v,()=>{c.value=c.value||o.value}),J(u,()=>{c.value=0}),tt(()=>{J(()=>e.scrollTarget,f=>{var w;const g=f?document.querySelector(f):window;g&&g!==n.value&&((w=n.value)==null||w.removeEventListener("scroll",m),n.value=g,n.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),wt(()=>{var f;(f=n.value)==null||f.removeEventListener("scroll",m)}),t&&J(t,m,{immediate:!0}),{scrollThreshold:i,currentScroll:o,currentThreshold:r,isScrollActive:u,scrollRatio:d,isScrollingUp:v,savedScroll:c}}const Rl=U({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...sn(),...wa(),...Bl(),height:{type:[Number,String],default:64}},"VAppBar"),$l=ee()({name:"VAppBar",props:Rl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=I(),n=fe(e,"modelValue"),o=_(()=>{var b;const p=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:p.has("hide"),inverted:p.has("inverted"),collapse:p.has("collapse"),elevate:p.has("elevate"),fadeImage:p.has("fade-image")}}),c=_(()=>{const p=o.value;return p.hide||p.inverted||p.collapse||p.elevate||p.fadeImage||!n.value}),{currentScroll:r,scrollThreshold:u,isScrollingUp:v,scrollRatio:i}=Al(e,{canScroll:c}),d=_(()=>e.collapse||o.value.collapse&&(o.value.inverted?i.value>0:i.value===0)),m=_(()=>e.flat||o.value.elevate&&(o.value.inverted?r.value>0:r.value===0)),f=_(()=>o.value.fadeImage?o.value.inverted?1-i.value:i.value:void 0),g=_(()=>{var D,P;if(o.value.hide&&o.value.inverted)return 0;const p=((D=a.value)==null?void 0:D.contentHeight)??0,b=((P=a.value)==null?void 0:P.extensionHeight)??0;return p+b});Qt(_(()=>!!e.scrollBehavior),()=>{Ne(()=>{o.value.hide?o.value.inverted?n.value=r.value>u.value:n.value=v.value||r.value<u.value:n.value=!0})});const{ssrBootStyles:w}=St(),{layoutItemStyles:y}=Sa({id:e.name,order:_(()=>parseInt(e.order,10)),position:Q(e,"location"),layoutSize:g,elementSize:se(void 0),active:n,absolute:Q(e,"absolute")});return le(()=>{const[p]=mt.filterProps(e);return s(mt,z({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":f.value,height:void 0,...w.value},e.style]},p,{collapse:d.value,flat:m.value}),t)}),{}}}),Ol=U({start:Boolean,end:Boolean,...he(),...Ge()},"VListItemAction"),Nt=ee()({name:"VListItemAction",props:Ol(),setup(e,l){let{slots:t}=l;return le(()=>s(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},t)),{}}});function Ml(e){let{rootEl:l,isSticky:t,layoutItemStyles:a}=e;const n=se(!1),o=se(0),c=_(()=>{const v=typeof n.value=="boolean"?"top":n.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[v]:me(o.value)}:{top:a.value.top}]});tt(()=>{J(t,v=>{v?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),wt(()=>{window.removeEventListener("scroll",u)});let r=0;function u(){const v=r>window.scrollY?"up":"down",i=l.value.getBoundingClientRect(),d=parseFloat(a.value.top??0),m=window.scrollY-Math.max(0,o.value-d),f=i.height+Math.max(o.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;i.height<window.innerHeight-d?(n.value="top",o.value=d):v==="up"&&n.value==="bottom"||v==="down"&&n.value==="top"?(o.value=window.scrollY+i.top-g,n.value=!0):v==="down"&&f<=0?(o.value=0,n.value="bottom"):v==="up"&&m<=0&&(g?n.value!=="top"&&(o.value=-m+g+d,n.value="top"):(o.value=i.top+m,n.value="top")),r=window.scrollY}return{isStuck:n,stickyStyles:c}}const Fl=100,Ul=20;function Gt(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function Kt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const a=Gt(l),n=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);l+=(n-a)*Math.abs(n),t===e.length-1&&(l*=.5)}return Gt(l)*1e3}function ql(){const e={};function l(n){Array.from(n.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new rn(Ul))).push([n.timeStamp,o])})}function t(n){Array.from(n.changedTouches).forEach(o=>{delete e[o.identifier]})}function a(n){var v;const o=(v=e[n])==null?void 0:v.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const c=o[0],r=[],u=[];for(const i of o){if(c[0]-i[0]>Fl)break;r.push({t:i[0],d:i[1].clientX}),u.push({t:i[0],d:i[1].clientY})}return{x:Kt(r),y:Kt(u),get direction(){const{x:i,y:d}=this,[m,f]=[Math.abs(i),Math.abs(d)];return m>f&&i>=0?"right":m>f&&i<=0?"left":f>m&&d>=0?"down":f>m&&d<=0?"up":Hl()}}}return{addMovement:l,endTouch:t,getVelocity:a}}function Hl(){throw new Error}function Nl(e){let{isActive:l,isTemporary:t,width:a,touchless:n,position:o}=e;tt(()=>{window.addEventListener("touchstart",p,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",D,{passive:!0})}),wt(()=>{window.removeEventListener("touchstart",p),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",D)});const c=_(()=>["left","right"].includes(o.value)),{addMovement:r,endTouch:u,getVelocity:v}=ql();let i=!1;const d=se(!1),m=se(0),f=se(0);let g;function w(S,E){return(o.value==="left"?S:o.value==="right"?document.documentElement.clientWidth-S:o.value==="top"?S:o.value==="bottom"?document.documentElement.clientHeight-S:De())-(E?a.value:0)}function y(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const V=o.value==="left"?(S-f.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-S-f.value)/a.value:o.value==="top"?(S-f.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-S-f.value)/a.value:De();return E?Math.max(0,Math.min(1,V)):V}function p(S){if(n.value)return;const E=S.changedTouches[0].clientX,V=S.changedTouches[0].clientY,C=25,$=o.value==="left"?E<C:o.value==="right"?E>document.documentElement.clientWidth-C:o.value==="top"?V<C:o.value==="bottom"?V>document.documentElement.clientHeight-C:De(),M=l.value&&(o.value==="left"?E<a.value:o.value==="right"?E>document.documentElement.clientWidth-a.value:o.value==="top"?V<a.value:o.value==="bottom"?V>document.documentElement.clientHeight-a.value:De());($||M||l.value&&t.value)&&(i=!0,g=[E,V],f.value=w(c.value?E:V,l.value),m.value=y(c.value?E:V),u(S),r(S))}function b(S){const E=S.changedTouches[0].clientX,V=S.changedTouches[0].clientY;if(i){if(!S.cancelable){i=!1;return}const $=Math.abs(E-g[0]),M=Math.abs(V-g[1]);(c.value?$>M&&$>3:M>$&&M>3)?(d.value=!0,i=!1):(c.value?M:$)>3&&(i=!1)}if(!d.value)return;S.preventDefault(),r(S);const C=y(c.value?E:V,!1);m.value=Math.max(0,Math.min(1,C)),C>1?f.value=w(c.value?E:V,!0):C<0&&(f.value=w(c.value?E:V,!1))}function D(S){if(i=!1,!d.value)return;r(S),d.value=!1;const E=v(S.changedTouches[0].identifier),V=Math.abs(E.x),C=Math.abs(E.y);(c.value?V>C&&V>400:C>V&&C>3)?l.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||De()):l.value=m.value>.5}const P=_(()=>d.value?{transform:o.value==="left"?`translateX(calc(-100% + ${m.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${m.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${m.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${m.value*a.value}px))`:De(),transition:"none"}:void 0);return{isDragging:d,dragProgress:m,dragStyles:P}}function De(){throw new Error}const Gl=["start","end","left","right","top","bottom"],Kl=U({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Gl.includes(e)},sticky:Boolean,...Yt(),...he(),...Xt(),...wa(),...Zt(),...Ge({tag:"nav"}),..._t()},"VNavigationDrawer"),_a=ee()({name:"VNavigationDrawer",props:Kl(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const{isRtl:o}=un(),{themeClasses:c}=kt(e),{borderClasses:r}=Jt(e),{backgroundColorClasses:u,backgroundColorStyles:v}=ft(Q(e,"color")),{elevationClasses:i}=ea(e),{mobile:d}=ta(),{roundedClasses:m}=aa(e),f=cn(),g=fe(e,"modelValue",null,N=>!!N),{ssrBootStyles:w}=St(),{scopeId:y}=Vt(),p=I(),b=se(!1),D=_(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),P=_(()=>dn(e.location,o.value)),S=_(()=>!e.permanent&&(d.value||e.temporary)),E=_(()=>e.sticky&&!S.value&&P.value!=="bottom");e.expandOnHover&&e.rail!=null&&J(b,N=>a("update:rail",!N)),e.disableResizeWatcher||J(S,N=>!e.permanent&&la(()=>g.value=!N)),!e.disableRouteWatcher&&f&&J(f.currentRoute,()=>S.value&&(g.value=!1)),J(()=>e.permanent,N=>{N&&(g.value=!0)}),na(()=>{e.modelValue!=null||S.value||(g.value=e.permanent||!d.value)});const{isDragging:V,dragProgress:C,dragStyles:$}=Nl({isActive:g,isTemporary:S,width:D,touchless:Q(e,"touchless"),position:P}),M=_(()=>{const N=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):D.value;return V.value?N*C.value:N}),{layoutItemStyles:te,layoutItemScrimStyles:ae}=Sa({id:e.name,order:_(()=>parseInt(e.order,10)),position:P,layoutSize:M,elementSize:D,active:_(()=>g.value||V.value),disableTransitions:_(()=>V.value),absolute:_(()=>e.absolute||E.value&&typeof oe.value!="string")}),{isStuck:oe,stickyStyles:be}=Ml({rootEl:p,isSticky:E,layoutItemStyles:te}),x=ft(_(()=>typeof e.scrim=="string"?e.scrim:null)),q=_(()=>({...V.value?{opacity:C.value*.2,transition:"none"}:void 0,...ae.value}));at({VList:{bgColor:"transparent"}});function H(){b.value=!0}function de(){b.value=!1}return le(()=>{const N=n.image||e.image;return s(G,null,[s(e.tag,z({ref:p,onMouseenter:H,onMouseleave:de,class:["v-navigation-drawer",`v-navigation-drawer--${P.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":E.value},c.value,u.value,r.value,i.value,m.value,e.class],style:[v.value,te.value,$.value,w.value,be.value,e.style]},y,t),{default:()=>{var R,W,F,j;return[N&&s("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?(R=n.image)==null?void 0:R.call(n,{image:e.image}):s("img",{src:e.image,alt:""},null)]),n.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(W=n.prepend)==null?void 0:W.call(n)]),s("div",{class:"v-navigation-drawer__content"},[(F=n.default)==null?void 0:F.call(n)]),n.append&&s("div",{class:"v-navigation-drawer__append"},[(j=n.append)==null?void 0:j.call(n)])]}}),s(vt,{name:"fade-transition"},{default:()=>[S.value&&(V.value||g.value)&&!!e.scrim&&s("div",z({class:["v-navigation-drawer__scrim",x.backgroundColorClasses.value],style:[q.value,x.backgroundColorStyles.value],onClick:()=>g.value=!1},y),null)]})])}),{isStuck:oe}}}),zl={class:"lab-logo"},Wl={href:"https://github.com/lukashornych/evitalab",target:"_blank"},jl=ce({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:l}){const t=I([{title:"Explorer",value:Se.Explorer,props:{prependIcon:"mdi-compass"}}]),a=I([{title:"evitaDB Documentation",value:Se.EvitaDBDocumentation,props:{prependIcon:"mdi-book"}},{title:"Feedback",value:Se.Feedback,props:{prependIcon:"mdi-comment-quote"}},{title:"Issues",value:Se.GitHub,props:{prependIcon:"mdi-github"}}]);function n(c){c.value?l("update:panel",c.id):l("update:panel",null)}function o(c){switch(c.id){case Se.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case Se.Feedback:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case Se.GitHub:window.open("https://github.com/lukashornych/evitalab","_blank");break}}return(c,r)=>(k(),O(_a,{permanent:"",rail:""},{prepend:h(()=>[Z("div",zl,[Z("a",Wl,[s(pt,{size:"24px"},{default:h(()=>[s(oa,{alt:"evitaLab Logo",src:"https://github.com/lukashornych/evitalab/blob/dev/public/logo.png?raw=true"})]),_:1})])])]),append:h(()=>[s(Ve,{density:"compact",nav:"",items:a.value,"onClick:select":o},null,8,["items"])]),default:h(()=>[s(Ve,{density:"compact",nav:"",items:t.value,selected:[c.panel],"onClick:select":n},null,8,["items","selected"])]),_:1}))}});const Ql=Pe(jl,[["__scopeId","data-v-1c6708f3"]]),ka=ce({__name:"VLoadingCircular",props:{size:{default:24}},setup(e){return(l,t)=>(k(),O(vn,{indeterminate:"",size:l.size,width:"3"},null,8,["size"]))}});const Yl=U({id:String,...sa(ra({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Et}}),["absolute"])},"VMenu"),Ue=ee()({name:"VMenu",props:Yl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=fe(e,"modelValue"),{scopeId:n}=Vt(),o=mn(),c=_(()=>e.id||`v-menu-${o}`),r=I(),u=ge(Ot,null),v=se(0);ye(Ot,{register(){++v.value},unregister(){--v.value},closeParents(){setTimeout(()=>{v.value||(a.value=!1,u==null||u.closeParents())},40)}}),J(a,g=>{g?u==null||u.register():u==null||u.unregister()});function i(){u==null||u.closeParents()}function d(g){var w,y;e.disabled||g.key==="Tab"&&(a.value=!1,(y=(w=r.value)==null?void 0:w.activatorEl)==null||y.focus())}function m(g){var y;if(e.disabled)return;const w=(y=r.value)==null?void 0:y.contentEl;w&&a.value?g.key==="ArrowDown"?(g.preventDefault(),Mt(w,"next")):g.key==="ArrowUp"&&(g.preventDefault(),Mt(w,"prev")):["ArrowDown","ArrowUp"].includes(g.key)&&(a.value=!0,g.preventDefault(),setTimeout(()=>setTimeout(()=>m(g))))}const f=_(()=>z({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":c.value,onKeydown:m},e.activatorProps));return le(()=>{const[g]=je.filterProps(e);return s(je,z({ref:r,class:["v-menu",e.class],style:e.style},g,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,absolute:!0,activatorProps:f.value,"onClick:outside":i,onKeydown:d},n),{activator:t.activator,default:function(){for(var w=arguments.length,y=new Array(w),p=0;p<w;p++)y[p]=arguments[p];return s(Be,{root:"VMenu"},{default:()=>{var b;return[(b=t.default)==null?void 0:b.call(t,...y)]}})}})}),nt({id:c,ΨopenChildren:v},r)}}),Xl=e=>(It("data-v-c3e70ca0"),e=e(),Tt(),e),Zl={class:"tree-view-item__content"},Jl={class:"text-truncate"},eo=Xl(()=>Z("span",{class:"text-disabled"}," No items found ",-1)),to=ce({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:l}){const t=e,a=I(!1);function n(){t.actions&&t.actions.length>0&&(a.value=!0)}return(o,c)=>(k(),O(_e,{"prepend-icon":null,"append-icon":null,onContextmenu:qe(n,["prevent"])},{default:h(()=>[Z("div",Zl,[o.openable?(k(),O(ve,{key:0},{default:h(()=>[T(ue(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(k(),O(ve,{key:1})),o.loading?(k(),O(ka,{key:2})):(k(),O(ve,{key:3},{default:h(()=>[T(ue(o.prependIcon),1)]),_:1})),Z("span",Jl,[Pt(o.$slots,"default",{},()=>[eo],!0)]),o.actions&&o.actions.length>0?(k(),O(Ue,{key:4,"menu-items":o.actions,modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=r=>a.value=r)},{activator:h(({props:r})=>[s(ve,xt(Ct(r)),{default:h(()=>[T(" mdi-dots-vertical ")]),_:2},1040)]),default:h(()=>[s(Ve,{density:"compact",items:o.actions,"onClick:select":c[0]||(c[0]=r=>o.$emit("click:action",r.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):pe("",!0)])]),_:3},8,["onContextmenu"]))}});const Ye=Pe(to,[["__scopeId","data-v-c3e70ca0"]]);const ao=U({renderless:Boolean,...he()},"VVirtualScrollItem"),no=ee()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ao(),emits:{"update:height":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const{resizeRef:o,contentRect:c}=ia(void 0,"border");J(()=>{var r;return(r=c.value)==null?void 0:r.height},r=>{r!=null&&a("update:height",r)}),le(()=>{var r,u;return e.renderless?s(G,null,[(r=n.default)==null?void 0:r.call(n,{itemRef:o})]):s("div",z({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(u=n.default)==null?void 0:u.call(n)])})}}),zt=-1,Wt=1,lo=U({itemHeight:{type:[Number,String],default:48}},"virtual");function oo(e,l,t){const a=se(0),n=se(e.itemHeight),o=_({get:()=>parseInt(n.value??0,10),set(V){n.value=V}}),c=I(),{resizeRef:r,contentRect:u}=ia();Ne(()=>{r.value=c.value});const v=ta(),i=new Map;let d=Array.from({length:l.value.length});const m=_(()=>{const V=(!u.value||c.value===document.documentElement?v.height.value:u.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(V/o.value*1.7+1)});function f(V,C){o.value=Math.max(o.value,C),d[V]=C,i.set(l.value[V],C)}function g(V){return d.slice(0,V).reduce((C,$)=>C+($||o.value),0)}function w(V){const C=l.value.length;let $=0,M=0;for(;M<V&&$<C;)M+=d[$++]||o.value;return $-1}let y=0;function p(){if(!c.value||!u.value)return;const V=u.value.height-56,C=c.value.scrollTop,$=C<y?zt:Wt,M=w(C+V/2),te=Math.round(m.value/3),ae=M-te,oe=a.value+te*2-1;$===zt&&M<=oe?a.value=Le(ae,0,l.value.length):$===Wt&&M>=oe&&(a.value=Le(ae,0,l.value.length-m.value)),y=C}function b(V){if(!c.value)return;const C=g(V);c.value.scrollTop=C}const D=_(()=>Math.min(l.value.length,a.value+m.value)),P=_(()=>l.value.slice(a.value,D.value).map((V,C)=>({raw:V,index:C+a.value}))),S=_(()=>g(a.value)),E=_(()=>g(l.value.length)-g(D.value));return J(()=>l.value.length,()=>{d=gt(l.value.length).map(()=>o.value),i.forEach((V,C)=>{const $=l.value.indexOf(C);$===-1?i.delete(C):d[$]=V})}),{containerRef:c,computedItems:P,itemHeight:o,paddingTop:S,paddingBottom:E,scrollToIndex:b,handleScroll:p,handleItemResize:f}}const so=U({items:{type:Array,default:()=>[]},renderless:Boolean,...lo(),...he(),...ua()},"VVirtualScroll"),ro=ee()({name:"VVirtualScroll",props:so(),setup(e,l){let{slots:t}=l;const a=ca("VVirtualScroll"),{dimensionStyles:n}=da(e),{containerRef:o,handleScroll:c,handleItemResize:r,scrollToIndex:u,paddingTop:v,paddingBottom:i,computedItems:d}=oo(e,Q(e,"items"));return Qt(()=>e.renderless,()=>{tt(()=>{var m;o.value=fn(a.vnode.el,!0),(m=o.value)==null||m.addEventListener("scroll",c)}),pn(()=>{var m;(m=o.value)==null||m.removeEventListener("scroll",c)})}),le(()=>{const m=d.value.map(f=>s(no,{key:f.index,renderless:e.renderless,"onUpdate:height":g=>r(f.index,g)},{default:g=>{var w;return(w=t.default)==null?void 0:w.call(t,{item:f.raw,index:f.index,...g})}}));return e.renderless?s(G,null,[s("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:me(v.value)}},null),m,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:me(i.value)}},null)]):s("div",{ref:o,class:["v-virtual-scroll",e.class],onScroll:c,style:[n.value,e.style]},[s("div",{class:"v-virtual-scroll__container",style:{paddingTop:me(v.value),paddingBottom:me(i.value)}},[m])])}),{scrollToIndex:u}}});function io(e,l){const t=se(!1);let a;function n(r){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function o(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const u=J(t,()=>{u(),r()})}else r()})}async function c(r){var i,d;if(r.key==="Tab"&&((i=l.value)==null||i.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(d=e.value)==null?void 0:d.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await o();const v=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const m=u.getBoundingClientRect().top;for(const f of v)if(f.getBoundingClientRect().top>=m){f.focus();break}}else{const m=u.getBoundingClientRect().bottom;for(const f of[...v].reverse())if(f.getBoundingClientRect().bottom<=m){f.focus();break}}}return{onListScroll:n,onListKeydown:c}}const uo=U({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Ie,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:va},...gn({itemChildren:!1})},"Select"),co=U({...uo(),...sa(hn({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...yn({transition:{component:Et}})},"VSelect"),vo=ee()({name:"VSelect",props:co(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:a}=lt(),n=I(),o=I(),c=fe(e,"menu"),r=_({get:()=>c.value,set:x=>{var q;c.value&&!x&&((q=o.value)!=null&&q.ΨopenChildren)||(c.value=x)}}),{items:u,transformIn:v,transformOut:i}=bn(e),d=fe(e,"modelValue",[],x=>v(x===null?[null]:Qe(x)),x=>{const q=i(x);return e.multiple?q:q[0]??null}),m=wn(),f=_(()=>d.value.map(x=>u.value.find(q=>e.valueComparator(q.value,x.value))||x)),g=_(()=>f.value.map(x=>x.props.value)),w=se(!1);let y="",p;const b=_(()=>e.hideSelected?u.value.filter(x=>!f.value.some(q=>q===x)):u.value),D=_(()=>e.hideNoData&&!u.value.length||e.readonly||(m==null?void 0:m.isReadonly.value)),P=I(),{onListScroll:S,onListKeydown:E}=io(P,n);function V(x){e.openOnClear&&(r.value=!0)}function C(){D.value||(r.value=!r.value)}function $(x){var R,W;if(!x.key||e.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(x.key)&&x.preventDefault(),["Enter","ArrowDown"," "].includes(x.key)&&(r.value=!0),["Escape","Tab"].includes(x.key)&&(r.value=!1),x.key==="Home"?(R=P.value)==null||R.focus("first"):x.key==="End"&&((W=P.value)==null||W.focus("last"));const q=1e3;function H(F){const j=F.key.length===1,re=!F.ctrlKey&&!F.metaKey&&!F.altKey;return j&&re}if(e.multiple||!H(x))return;const de=performance.now();de-p>q&&(y=""),y+=x.key.toLowerCase(),p=de;const N=u.value.find(F=>F.title.toLowerCase().startsWith(y));N!==void 0&&(d.value=[N])}function M(x){if(e.multiple){const q=g.value.findIndex(H=>e.valueComparator(H,x.value));if(q===-1)d.value=[...d.value,x];else{const H=[...d.value];H.splice(q,1),d.value=H}}else d.value=[x],r.value=!1}function te(x){var q;(q=P.value)!=null&&q.$el.contains(x.relatedTarget)||(r.value=!1)}function ae(){var x;w.value&&((x=n.value)==null||x.focus())}function oe(x){w.value=!0}function be(x){var q,H;if(x==null)d.value=[];else if((q=n.value)!=null&&q.matches(":autofill")||(H=n.value)!=null&&H.matches(":-webkit-autofill")){const de=u.value.find(N=>N.title===x);de&&M(de)}else n.value&&(n.value.value="")}return le(()=>{const x=!!(e.chips||t.chip),q=!!(!e.hideNoData||b.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),H=d.value.length>0,[de]=Fe.filterProps(e),N=H||!w.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(Fe,z({ref:n},de,{modelValue:d.value.map(R=>R.props.value).join(", "),"onUpdate:modelValue":be,focused:w.value,"onUpdate:focused":R=>w.value=R,validationValue:d.externalValue,dirty:H,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:N,"onClick:clear":V,"onMousedown:control":C,onBlur:te,onKeydown:$}),{...t,default:()=>s(G,null,[s(Ue,z({ref:o,modelValue:r.value,"onUpdate:modelValue":R=>r.value=R,activator:"parent",contentClass:"v-select__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ae},e.menuProps),{default:()=>[q&&s(Ve,{ref:P,selected:g.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:R=>R.preventDefault(),onKeydown:E,onFocusin:oe,onScrollPassive:S,tabindex:"-1"},{default:()=>{var R,W,F;return[(R=t["prepend-item"])==null?void 0:R.call(t),!b.value.length&&!e.hideNoData&&(((W=t["no-data"])==null?void 0:W.call(t))??s(_e,{title:a(e.noDataText)},null)),s(ro,{renderless:!0,items:b.value},{default:j=>{var A;let{item:re,index:ie,itemRef:Te}=j;const B=z(re.props,{ref:Te,key:ie,onClick:()=>M(re)});return((A=t.item)==null?void 0:A.call(t,{item:re,index:ie,props:B}))??s(_e,B,{prepend:L=>{let{isSelected:X}=L;return s(G,null,[e.multiple&&!e.hideSelected?s(Ae,{key:re.value,modelValue:X,ripple:!1,tabindex:"-1"},null):void 0,re.props.prependIcon&&s(ve,{icon:re.props.prependIcon},null)])}})}}),(F=t["append-item"])==null?void 0:F.call(t)]}})]}),f.value.map((R,W)=>{var re;function F(ie){ie.stopPropagation(),ie.preventDefault(),M(R)}const j={"onClick:close":F,onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:R.value,class:"v-select__selection"},[x?t.chip?s(Be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:R.title}}},{default:()=>{var ie;return[(ie=t.chip)==null?void 0:ie.call(t,{item:R,index:W,props:j})]}}):s(Sn,z({key:"chip",closable:e.closableChips,size:"small",text:R.title},j),null):((re=t.selection)==null?void 0:re.call(t,{item:R,index:W}))??s("span",{class:"v-select__selection-text"},[R.title,e.multiple&&W<f.value.length-1&&s("span",{class:"v-select__selection-comma"},[T(",")])])])})]),"append-inner":function(){var j;for(var R=arguments.length,W=new Array(R),F=0;F<R;F++)W[F]=arguments[F];return s(G,null,[(j=t["append-inner"])==null?void 0:j.call(t,...W),e.menuIcon?s(ve,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),nt({isFocused:w,menu:r,select:M},n)}}),Va=U({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Pa=Symbol.for("vuetify:data-table-pagination");function xa(e){const l=fe(e,"page",void 0,a=>+(a??1)),t=fe(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function Ca(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=_(()=>t.value===-1?0:t.value*(l.value-1)),o=_(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),c=_(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));Ne(()=>{l.value>c.value&&(l.value=c.value)});function r(m){t.value=m,l.value=1}function u(){l.value=Le(l.value+1,1,c.value)}function v(){l.value=Le(l.value-1,1,c.value)}function i(m){l.value=Le(m,1,c.value)}const d={page:l,itemsPerPage:t,startIndex:n,stopIndex:o,pageCount:c,itemsLength:a,nextPage:u,prevPage:v,setPage:i,setItemsPerPage:r};return ye(Pa,d),d}function mo(){const e=ge(Pa);if(!e)throw new Error("Missing pagination!");return e}function fo(e){const{items:l,startIndex:t,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:_(()=>n.value<=0?l.value:l.value.slice(t.value,a.value))}}const Lt=U({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Xe=ee()({name:"VDataTableFooter",props:Lt(),setup(e,l){let{slots:t}=l;const{t:a}=lt(),{page:n,pageCount:o,startIndex:c,stopIndex:r,itemsLength:u,itemsPerPage:v,setItemsPerPage:i}=mo(),d=_(()=>e.itemsPerPageOptions.map(m=>({...m,title:a(m.title)})));return()=>{var m;return s("div",{class:"v-data-table-footer"},[(m=t.prepend)==null?void 0:m.call(t),s("div",{class:"v-data-table-footer__items-per-page"},[s("span",null,[a(e.itemsPerPageText)]),s(vo,{items:d.value,modelValue:v.value,"onUpdate:modelValue":f=>i(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),s("div",{class:"v-data-table-footer__info"},[s("div",null,[a(e.pageText,u.value?c.value+1:0,r.value,u.value)])]),s("div",{class:"v-data-table-footer__pagination"},[s(Y,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),s(Y,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&s("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),s(Y,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(o.value,n.value+1),disabled:n.value===o.value,"aria-label":a(e.nextPageLabel)},null),s(Y,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=o.value,disabled:n.value===o.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Bt=_n({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:t,attrs:a}=l;const n=e.tag??"td";return s(n,z({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:me(e.height),width:me(e.width),left:me(e.fixedOffset||null)}},a),{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}),po=U({headers:{type:Array,default:()=>[]}},"DataTable-header"),Ia=Symbol.for("vuetify:data-table-headers");function Ta(e,l){const t=I([]),a=I([]);Ne(()=>{var f,g,w;const o=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],c=o.flatMap((y,p)=>y.map(b=>({column:b,row:p}))),r=o.length,u={title:"",sortable:!1},v={...u,width:48};if((f=l==null?void 0:l.groupBy)!=null&&f.value.length){const y=c.findIndex(p=>{let{column:b}=p;return b.key==="data-table-group"});y<0?c.unshift({column:{...u,key:"data-table-group",title:"Group",rowspan:r},row:0}):c.splice(y,1,{column:{...u,...c[y].column},row:c[y].row})}if((g=l==null?void 0:l.showSelect)!=null&&g.value){const y=c.findIndex(p=>{let{column:b}=p;return b.key==="data-table-select"});y<0?c.unshift({column:{...v,key:"data-table-select",rowspan:r},row:0}):c.splice(y,1,{column:{...v,...c[y].column},row:c[y].row})}if((w=l==null?void 0:l.showExpand)!=null&&w.value){const y=c.findIndex(p=>{let{column:b}=p;return b.key==="data-table-expand"});y<0?c.push({column:{...v,key:"data-table-expand",rowspan:r},row:0}):c.splice(y,1,{column:{...v,...c[y].column},row:c[y].row})}const i=gt(r).map(()=>[]),d=gt(r).fill(0);c.forEach(y=>{let{column:p,row:b}=y,D=p.key;D==null&&(D="");for(let P=b;P<=b+(p.rowspan??1)-1;P++)i[P].push({...p,key:D,fixedOffset:d[P],sortable:p.sortable??!!p.key}),d[P]+=Number(p.width??0)}),i.forEach(y=>{for(let p=y.length;p--;p>=0)if(y[p].fixed){y[p].lastFixed=!0;return}});const m=new Set;t.value=i.map(y=>{const p=[];for(const b of y)m.has(b.key)||(m.add(b.key),p.push(b));return p}),a.value=i.at(-1)??[]});const n={headers:t,columns:a};return ye(Ia,n),n}function rt(){const e=ge(Ia);if(!e)throw new Error("Missing headers!");return e}const go={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Da={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return Da.select({items:t,value:l,selected:a})}},Ea={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return Ea.select({items:t,value:l,selected:a})}},ho=U({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),La=Symbol.for("vuetify:data-table-selection");function Ba(e,l){let{allItems:t,currentPage:a}=l;const n=fe(e,"modelValue",e.modelValue,y=>new Set(y),y=>[...y.values()]),o=_(()=>t.value.filter(y=>y.selectable)),c=_(()=>a.value.filter(y=>y.selectable)),r=_(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return go;case"all":return Ea;case"page":default:return Da}});function u(y){return Qe(y).every(p=>n.value.has(p.value))}function v(y){return Qe(y).some(p=>n.value.has(p.value))}function i(y,p){const b=r.value.select({items:y,value:p,selected:new Set(n.value)});n.value=b}function d(y){i([y],!u([y]))}function m(y){const p=r.value.selectAll({value:y,allItems:o.value,currentPage:c.value,selected:new Set(n.value)});n.value=p}const f=_(()=>n.value.size>0),g=_(()=>{const y=r.value.allSelected({allItems:o.value,currentPage:c.value});return u(y)}),w={toggleSelect:d,select:i,selectAll:m,isSelected:u,isSomeSelected:v,someSelected:f,allSelected:g,showSelectAll:r.value.showSelectAll};return ye(La,w),w}function it(){const e=ge(La);if(!e)throw new Error("Missing selection!");return e}const yo=U({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Aa=Symbol.for("vuetify:data-table-sort");function Ra(e){const l=fe(e,"sortBy"),t=Q(e,"mustSort"),a=Q(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function $a(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,o=u=>{let v=l.value.map(d=>({...d}))??[];const i=v.find(d=>d.key===u.key);i?i.order==="desc"?t.value?i.order="asc":v=v.filter(d=>d.key!==u.key):i.order="desc":a.value?v=[...v,{key:u.key,order:"asc"}]:v=[{key:u.key,order:"asc"}],l.value=v,n&&(n.value=1)};function c(u){return!!l.value.find(v=>v.key===u.key)}const r={sortBy:l,toggleSort:o,isSorted:c};return ye(Aa,r),r}function bo(){const e=ge(Aa);if(!e)throw new Error("Missing sort!");return e}function wo(e,l,t){const a=lt();return{sortedItems:_(()=>t.value.length?So(l.value,t.value,a.current.value,e.customKeySort):l.value)}}function So(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,c)=>{for(let r=0;r<l.length;r++){const u=l[r].key,v=l[r].order??"asc";if(v===!1)continue;let i=ht(o.raw,u),d=ht(c.raw,u);if(v==="desc"&&([i,d]=[d,i]),a!=null&&a[u]){const m=a[u](i,d);if(!m)continue;return m}if(i instanceof Date&&d instanceof Date)return i.getTime()-d.getTime();if([i,d]=[i,d].map(m=>m!=null?m.toString().toLocaleLowerCase():m),i!==d)return We(i)&&We(d)?0:We(i)?-1:We(d)?1:!isNaN(i)&&!isNaN(d)?Number(i)-Number(d):n.compare(i,d)}return 0})}const Oa=U({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ie,default:"$sortAsc"},sortDescIcon:{type:Ie,default:"$sortDesc"},...ma()},"VDataTableHeaders"),Ze=ee()({name:"VDataTableHeaders",props:Oa(),setup(e,l){let{slots:t,emit:a}=l;const{toggleSort:n,sortBy:o,isSorted:c}=bo(),{someSelected:r,allSelected:u,selectAll:v,showSelectAll:i}=it(),{columns:d,headers:m}=rt(),{loaderClasses:f}=fa(e),g=(P,S)=>{if(!(!e.sticky&&!P.fixed))return{position:"sticky",zIndex:P.fixed?4:e.sticky?3:void 0,left:P.fixed?me(P.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${S})`:void 0}};function w(P){const S=o.value.find(E=>E.key===P.key);return S?S.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:p}=ft(e,"color"),b=_(()=>({headers:m.value,columns:d.value,toggleSort:n,isSorted:c,sortBy:o.value,someSelected:r.value,allSelected:u.value,selectAll:v,getSortIcon:w,getFixedStyles:g})),D=P=>{let{column:S,x:E,y:V}=P;const C=S.key==="data-table-select"||S.key==="data-table-expand";return s(Bt,{tag:"th",align:S.align,class:["v-data-table__th",{"v-data-table__th--sortable":S.sortable,"v-data-table__th--sorted":c(S)},f.value],style:{width:me(S.width),minWidth:me(S.width),...g(S,V)},colspan:S.colspan,rowspan:S.rowspan,onClick:S.sortable?()=>n(S):void 0,lastFixed:S.lastFixed,noPadding:C},{default:()=>{var te;const $=`column.${S.key}`,M={column:S,selectAll:v,isSorted:c,toggleSort:n,sortBy:o.value,someSelected:r.value,allSelected:u.value,getSortIcon:w};return t[$]?t[$](M):S.key==="data-table-select"?((te=t["column.data-table-select"])==null?void 0:te.call(t,M))??(i&&s(Ae,{modelValue:u.value,indeterminate:r.value&&!u.value,"onUpdate:modelValue":v},null)):s("div",{class:"v-data-table-header__content"},[s("span",null,[S.title]),S.sortable&&s(ve,{key:"icon",class:"v-data-table-header__sort-icon",icon:w(S)},null),e.multiSort&&c(S)&&s("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:p.value},[o.value.findIndex(ae=>ae.key===S.key)+1])])}})};le(()=>s(G,null,[t.headers?t.headers(b.value):m.value.map((P,S)=>s("tr",null,[P.map((E,V)=>s(D,{column:E,x:V,y:S},null))])),e.loading&&s("tr",{class:"v-data-table-progress"},[s("th",{colspan:d.value.length},[s(pa,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),_o=U({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ma=Symbol.for("vuetify:data-table-group");function Fa(e){return{groupBy:fe(e,"groupBy")}}function Ua(e){const{groupBy:l,sortBy:t}=e,a=I(new Set),n=_(()=>l.value.map(v=>({...v,order:v.order??!1})).concat(t.value));function o(v){return a.value.has(v.id)}function c(v){const i=new Set(a.value);o(v)?i.delete(v.id):i.add(v.id),a.value=i}function r(v){function i(d){const m=[];for(const f of d.items)"type"in f&&f.type==="group"?m.push(...i(f)):m.push(f);return m}return i({type:"group",items:v,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:n,toggleGroup:c,opened:a,groupBy:l,extractRows:r,isGroupOpen:o};return ye(Ma,u),u}function qa(){const e=ge(Ma);if(!e)throw new Error("Missing group!");return e}function ko(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=ht(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Ha(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ko(e,l[0]),o=[],c=l.slice(1);return n.forEach((r,u)=>{const v=l[0],i=`${a}_${v}_${u}`;o.push({depth:t,id:i,key:v,value:u,items:c.length?Ha(r,c,t+1,i):r,type:"group"})}),o}function Na(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...Na(a.items,l))):t.push(a);return t}function Ga(e,l,t){return{flatItems:_(()=>{if(!l.value.length)return e.value;const n=Ha(e.value,l.value.map(o=>o.key));return Na(n,t.value)})}}const Vo=U({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Po=ee()({name:"VDataTableGroupHeaderRow",props:Vo(),setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:o}=qa(),{isSelected:c,isSomeSelected:r,select:u}=it(),{columns:v}=rt(),i=_(()=>o([e.item]));return()=>s("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[v.value.map(d=>{var m,f;if(d.key==="data-table-group"){const g=a(e.item)?"$expand":"$next",w=()=>n(e.item);return((m=t["data-table-group"])==null?void 0:m.call(t,{item:e.item,count:i.value.length,props:{icon:g,onClick:w}}))??s(Bt,{class:"v-data-table-group-header-row__column"},{default:()=>[s(Y,{size:"small",variant:"text",icon:g,onClick:w},null),s("span",null,[e.item.value]),s("span",null,[T("("),i.value.length,T(")")])]})}if(d.key==="data-table-select"){const g=c(i.value),w=r(i.value)&&!g,y=p=>u(i.value,p);return((f=t["data-table-select"])==null?void 0:f.call(t,{props:{modelValue:g,indeterminate:w,"onUpdate:modelValue":y}}))??s("td",null,[s(Ae,{modelValue:g,indeterminate:w,"onUpdate:modelValue":y},null)])}return s("td",null,null)})])}}),xo=U({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ka=Symbol.for("vuetify:datatable:expanded");function za(e){const l=Q(e,"expandOnClick"),t=fe(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function a(r,u){const v=new Set(t.value);u?v.add(r.value):v.delete(r.value),t.value=v}function n(r){return t.value.has(r.value)}function o(r){a(r,!n(r))}const c={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:o};return ye(Ka,c),c}function Wa(){const e=ge(Ka);if(!e)throw new Error("foo");return e}const Co=U({index:Number,item:Object,onClick:Function},"VDataTableRow"),Io=kn({name:"VDataTableRow",props:Co(),setup(e,l){let{slots:t}=l;const{isSelected:a,toggleSelect:n}=it(),{isExpanded:o,toggleExpand:c}=Wa(),{columns:r}=rt();le(()=>s("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&r.value.map((u,v)=>s(Bt,{align:u.align,fixed:u.fixed,fixedOffset:u.fixedOffset,lastFixed:u.lastFixed,noPadding:u.key==="data-table-select"||u.key==="data-table-expand",width:u.width},{default:()=>{var f,g;const i=e.item,d=`item.${u.key}`,m={index:e.index,item:e.item,columns:r.value,isSelected:a,toggleSelect:n,isExpanded:o,toggleExpand:c};return t[d]?t[d](m):u.key==="data-table-select"?((f=t["item.data-table-select"])==null?void 0:f.call(t,m))??s(Ae,{disabled:!i.selectable,modelValue:a([i]),onClick:qe(()=>n(i),["stop"])},null):u.key==="data-table-expand"?((g=t["item.data-table-expand"])==null?void 0:g.call(t,m))??s(Y,{icon:o(i)?"$collapse":"$expand",size:"small",variant:"text",onClick:qe(()=>c(i),["stop"])},null):Ee(i.columns,u.key)}}))]))}}),ja=U({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),Je=ee()({name:"VDataTableRows",props:ja(),setup(e,l){let{emit:t,slots:a}=l;const{columns:n}=rt(),{expandOnClick:o,toggleExpand:c,isExpanded:r}=Wa(),{isSelected:u,toggleSelect:v}=it(),{toggleGroup:i,isGroupOpen:d}=qa(),{t:m}=lt();return le(()=>{var f;return e.loading&&a.loading?s("tr",{class:"v-data-table-rows-loading",key:"loading"},[s("td",{colspan:n.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?s("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[s("td",{colspan:n.value.length},[((f=a["no-data"])==null?void 0:f.call(a))??m(e.noDataText)])]):s(G,null,[e.items.map((g,w)=>{var b;if(g.type==="group")return a["group-header"]?a["group-header"]({index:w,item:g,columns:n.value,isExpanded:r,toggleExpand:c,isSelected:u,toggleSelect:v,toggleGroup:i,isGroupOpen:d}):s(Po,{key:`group-header_${g.id}`,item:g},a);const y={index:w,item:g,columns:n.value,isExpanded:r,toggleExpand:c,isSelected:u,toggleSelect:v},p={...y,props:{key:`item_${g.key??g.index}`,onClick:o.value||e["onClick:row"]?D=>{var P;o.value&&c(g),(P=e["onClick:row"])==null||P.call(e,D,{item:g})}:void 0,index:w,item:g}};return s(G,null,[a.item?a.item(p):s(Io,p.props,a),r(g)&&((b=a["expanded-row"])==null?void 0:b.call(a,y))])})])}),{}}});const Qa=U({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...he(),...Dt(),...Ge(),..._t()},"VTable"),et=ee()({name:"VTable",props:Qa(),setup(e,l){let{slots:t}=l;const{themeClasses:a}=kt(e),{densityClasses:n}=ga(e);return le(()=>s(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,n.value,e.class],style:e.style},{default:()=>{var o,c,r;return[(o=t.top)==null?void 0:o.call(t),t.default?s("div",{class:"v-table__wrapper",style:{height:me(e.height)}},[s("table",null,[t.default()])]):(c=t.wrapper)==null?void 0:c.call(t),(r=t.bottom)==null?void 0:r.call(t)]}})),{}}}),To=U({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function Do(e,l,t,a){const n=e.returnObject?l:Ee(l,e.itemValue),o=Ee(l,e.itemSelectable,!0),c=a.reduce((r,u)=>(r[u.key]=Ee(l,u.value??u.key),r),{});return{type:"item",key:e.returnObject?Ee(l,e.itemValue):n,index:t,value:n,selectable:o,columns:c,raw:l}}function Eo(e,l,t){return l.map((a,n)=>Do(e,a,n,t))}function Ya(e,l){return{items:_(()=>Eo(e,e.items,l.value))}}function Xa(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:o}=e;const c=ca("VDataTable"),r=_(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:o.value}));J(()=>o==null?void 0:o.value,()=>{l.value=1});let u=null;J(r,()=>{va(u,r.value)||(c.emit("update:options",r.value),u=r.value)},{deep:!0,immediate:!0})}const Lo=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),Bo=U({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ao(e,l,t){var r;const a=[],n=(t==null?void 0:t.default)??Lo,o=t!=null&&t.filterKeys?Qe(t.filterKeys):!1,c=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let u=0;u<e.length;u++){const v=e[u],i={},d={};let m=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof v=="object"){const w=o||Object.keys(v);for(const y of w){const p=Ee(v,y,v),b=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[y];if(m=b?b(p,l,v):n(p,l,v),m!==-1&&m!==!1)b?i[y]=m:d[y]=m;else if((t==null?void 0:t.filterMode)==="every")continue e}}else m=n(v,l,v),m!==-1&&m!==!1&&(d.title=m);const f=Object.keys(d).length,g=Object.keys(i).length;if(!f&&!g||(t==null?void 0:t.filterMode)==="union"&&g!==c&&!f||(t==null?void 0:t.filterMode)==="intersection"&&(g!==c||!f))continue}a.push({index:u,matches:{...d,...i}})}return a}function Ro(e,l,t,a){const n=I([]),o=I(new Map),c=_(()=>a!=null&&a.transform?ne(l).map(a==null?void 0:a.transform):ne(l));Ne(()=>{const u=typeof t=="function"?t():ne(t),v=typeof u!="string"&&typeof u!="number"?"":String(u),i=Ao(c.value,v,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=ne(l),m=[],f=new Map;i.forEach(g=>{let{index:w,matches:y}=g;const p=d[w];m.push(p),f.set(p.value,y)}),n.value=m,o.value=f});function r(u){return o.value.get(u.value)}return{filteredItems:n,filteredMatches:o,getMatches:r}}const Za=U({...ja(),width:[String,Number],search:String,...xo(),..._o(),...po(),...To(),...ho(),...yo(),...Oa(),...Qa()},"DataTable"),$o=U({...Va(),...Za(),...Bo(),...Lt()},"VDataTable");ee()({name:"VDataTable",props:$o(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=Fa(e),{sortBy:o,multiSort:c,mustSort:r}=Ra(e),{page:u,itemsPerPage:v}=xa(e),{columns:i,headers:d}=Ta(e,{groupBy:n,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:m}=Ya(e,i),f=Q(e,"search"),{filteredItems:g}=Ro(e,m,f,{transform:j=>j.columns}),{toggleSort:w}=$a({sortBy:o,multiSort:c,mustSort:r,page:u}),{sortByWithGroups:y,opened:p,extractRows:b,isGroupOpen:D,toggleGroup:P}=Ua({groupBy:n,sortBy:o}),{sortedItems:S}=wo(e,g,y),{flatItems:E}=Ga(S,n,p),V=_(()=>E.value.length),{startIndex:C,stopIndex:$,pageCount:M,setItemsPerPage:te}=Ca({page:u,itemsPerPage:v,itemsLength:V}),{paginatedItems:ae}=fo({items:E,startIndex:C,stopIndex:$,itemsPerPage:v}),oe=_(()=>b(ae.value)),{isSelected:be,select:x,selectAll:q,toggleSelect:H,someSelected:de,allSelected:N}=Ba(e,{allItems:m,currentPage:oe}),{isExpanded:R,toggleExpand:W}=za(e);Xa({page:u,itemsPerPage:v,sortBy:o,groupBy:n,search:f}),at({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const F=_(()=>({page:u.value,itemsPerPage:v.value,sortBy:o.value,pageCount:M.value,toggleSort:w,setItemsPerPage:te,someSelected:de.value,allSelected:N.value,isSelected:be,select:x,selectAll:q,toggleSelect:H,isExpanded:R,toggleExpand:W,isGroupOpen:D,toggleGroup:P,items:oe.value,groupedItems:ae.value,columns:i.value,headers:d.value}));return le(()=>{const[j]=Xe.filterProps(e),[re]=Ze.filterProps(e),[ie]=Je.filterProps(e),[Te]=et.filterProps(e);return s(et,z({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Te),{top:()=>{var B;return(B=a.top)==null?void 0:B.call(a,F.value)},default:()=>{var B,A,L,X;return a.default?a.default(F.value):s(G,null,[(B=a.colgroup)==null?void 0:B.call(a,F.value),s("thead",null,[s(Ze,re,a)]),(A=a.thead)==null?void 0:A.call(a,F.value),s("tbody",null,[a.body?a.body(F.value):s(Je,z(ie,{items:ae.value}),a)]),(L=a.tbody)==null?void 0:L.call(a,F.value),(X=a.tfoot)==null?void 0:X.call(a,F.value)])},bottom:()=>a.bottom?a.bottom(F.value):s(G,null,[s(Xe,j,{prepend:a["footer.prepend"]})])})}),{}}});const Oo=U({itemsLength:{type:[Number,String],required:!0},...Va(),...Za(),...Lt()},"VDataTableServer"),Mo=ee()({name:"VDataTableServer",props:Oo(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,l)=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=Fa(e),{sortBy:o,multiSort:c,mustSort:r}=Ra(e),{page:u,itemsPerPage:v}=xa(e),i=_(()=>parseInt(e.itemsLength,10)),{columns:d,headers:m}=Ta(e,{groupBy:n,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:f}=Ya(e,d),{toggleSort:g}=$a({sortBy:o,multiSort:c,mustSort:r,page:u}),{opened:w,isGroupOpen:y,toggleGroup:p,extractRows:b}=Ua({groupBy:n,sortBy:o}),{pageCount:D,setItemsPerPage:P}=Ca({page:u,itemsPerPage:v,itemsLength:i}),{flatItems:S}=Ga(f,n,w),{isSelected:E,select:V,selectAll:C,toggleSelect:$,someSelected:M,allSelected:te}=Ba(e,{allItems:f,currentPage:f}),{isExpanded:ae,toggleExpand:oe}=za(e),be=_(()=>b(f.value));Xa({page:u,itemsPerPage:v,sortBy:o,groupBy:n,search:Q(e,"search")}),ye("v-data-table",{toggleSort:g,sortBy:o}),at({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const x=_(()=>({page:u.value,itemsPerPage:v.value,sortBy:o.value,pageCount:D.value,toggleSort:g,setItemsPerPage:P,someSelected:M.value,allSelected:te.value,isSelected:E,select:V,selectAll:C,toggleSelect:$,isExpanded:ae,toggleExpand:oe,isGroupOpen:y,toggleGroup:p,items:be.value,groupedItems:S.value,columns:d.value,headers:m.value}));le(()=>{const[q]=Xe.filterProps(e),[H]=Ze.filterProps(e),[de]=Je.filterProps(e),[N]=et.filterProps(e);return s(et,z({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},N),{top:()=>{var R;return(R=a.top)==null?void 0:R.call(a,x.value)},default:()=>{var R,W,F,j;return a.default?a.default(x.value):s(G,null,[(R=a.colgroup)==null?void 0:R.call(a,x.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(Ze,z(H,{sticky:e.fixedHeader}),a)]),(W=a.thead)==null?void 0:W.call(a,x.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(x.value):s(Je,z(de,{items:S.value}),a)]),(F=a.tbody)==null?void 0:F.call(a,x.value),(j=a.tfoot)==null?void 0:j.call(a,x.value)])},bottom:()=>a.bottom?a.bottom(x.value):s(Xe,q,{prepend:a["footer.prepend"]})})})}}),Fo=ce({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(e,{emit:l}){const t=e,a=[Vn(),Pn(),xn(),Cn(),In(),Tn(Dn,{fallback:!0}),En(),Ln(),Bn(),An(),Rn(),$n.of([{key:"Enter",run:()=>(l("execute"),!0)},...On,...Mn,...Fn,...Un,...qn]),Hn.transactionFilter.of(n=>n.newDoc.lines>1?[]:n),...t.additionalExtensions];return(n,o)=>(k(),K("div",{class:Gn(["cm-oneline",{"cm-oneline--with-prepend-icon":n.prependInnerIcon}])},[n.prependInnerIcon?(k(),O(ve,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:h(()=>[T(ue(n.prependInnerIcon),1)]),_:1})):pe("",!0),s(ne(Nn),{"model-value":n.modelValue,extensions:a,placeholder:n.placeholder,disabled:n.disabled,"onUpdate:modelValue":o[0]||(o[0]=c=>n.$emit("update:modelValue",c)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const jt=Pe(Fo,[["__scopeId","data-v-0d175474"]]);const At=ee()({name:"VCardActions",props:he(),setup(e,l){let{slots:t}=l;return at({VBtn:{variant:"text"}}),le(()=>{var a;return s("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),Uo=ot("v-card-subtitle"),He=ot("v-card-title"),qo=U({appendAvatar:String,appendIcon:Ie,prependAvatar:String,prependIcon:Ie,subtitle:String,title:String,...he(),...Dt()},"VCardItem"),Ho=ee()({name:"VCardItem",props:qo(),setup(e,l){let{slots:t}=l;return le(()=>{var v;const a=!!(e.prependAvatar||e.prependIcon),n=!!(a||t.prepend),o=!!(e.appendAvatar||e.appendIcon),c=!!(o||t.append),r=!!(e.title||t.title),u=!!(e.subtitle||t.subtitle);return s("div",{class:["v-card-item",e.class],style:e.style},[n&&s("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?s(Be,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):a&&s(pt,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),s("div",{class:"v-card-item__content"},[r&&s(He,{key:"title"},{default:()=>{var i;return[((i=t.title)==null?void 0:i.call(t))??e.title]}}),u&&s(Uo,{key:"subtitle"},{default:()=>{var i;return[((i=t.subtitle)==null?void 0:i.call(t))??e.subtitle]}}),(v=t.default)==null?void 0:v.call(t)]),c&&s("div",{key:"append",class:"v-card-item__append"},[t.append?s(Be,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):o&&s(pt,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),ut=ot("v-card-text"),No=U({appendAvatar:String,appendIcon:Ie,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ie,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Yt(),...he(),...Dt(),...ua(),...Xt(),...ma(),...Kn(),...zn(),...Zt(),...Wn(),...Ge(),..._t(),...jn({variant:"elevated"})},"VCard"),Rt=ee()({name:"VCard",directives:{Ripple:Qn},props:No(),setup(e,l){let{attrs:t,slots:a}=l;const{themeClasses:n}=kt(e),{borderClasses:o}=Jt(e),{colorClasses:c,colorStyles:r,variantClasses:u}=Yn(e),{densityClasses:v}=ga(e),{dimensionStyles:i}=da(e),{elevationClasses:d}=ea(e),{loaderClasses:m}=fa(e),{locationStyles:f}=Xn(e),{positionClasses:g}=Zn(e),{roundedClasses:w}=aa(e),y=Jn(e,t),p=_(()=>e.link!==!1&&y.isLink.value),b=_(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return le(()=>{const D=p.value?"a":e.tag,P=!!(a.title||e.title),S=!!(a.subtitle||e.subtitle),E=P||S,V=!!(a.append||e.appendAvatar||e.appendIcon),C=!!(a.prepend||e.prependAvatar||e.prependIcon),$=!!(a.image||e.image),M=E||C||V,te=!!(a.text||e.text);return ha(s(D,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},n.value,o.value,c.value,v.value,d.value,m.value,g.value,w.value,u.value,e.class],style:[r.value,i.value,f.value,e.style],href:y.href.value,onClick:b.value&&y.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var ae;return[$&&s("div",{key:"image",class:"v-card__image"},[a.image?s(Be,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):s(oa,{key:"image-img",cover:!0,src:e.image},null)]),s(pa,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),M&&s(Ho,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),te&&s(ut,{key:"text"},{default:()=>{var oe;return[((oe=a.text)==null?void 0:oe.call(a))??e.text]}}),(ae=a.default)==null?void 0:ae.call(a),a.actions&&s(At,null,{default:a.actions}),tl(b.value,"v-card")]}}),[[el("ripple"),b.value&&e.ripple]])}),{}}}),Go={key:0,class:"data-grid"},Ko={class:"query-input"},zo=["onClick"],Wo={class:"data-grid-cell__body"},jo={key:0,class:"text-disabled"},Qo={style:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center"}},Yo={key:1},Xo=ce({__name:"LabEditorDataGrid",props:{params:{},data:{}},emits:["ready"],setup(e,{emit:l}){var R,W,F,j,re,ie,Te;const t=e,a=al(),n=Re(),o=I([t.params.dataPointer.catalogName,t.params.dataPointer.entityType]),c=[{title:"EvitaQL",value:ct.EvitaQL},{title:"GraphQL",value:ct.GraphQL}];let r=[],u=[],v=new Map;const i=I((R=t.data)!=null&&R.queryLanguage?[t.data.queryLanguage]:[ct.EvitaQL]);J(i,(B,A)=>{B[0]!==A[0]&&(w.value="",p.value="",H())});const d=I(!1),m=I((W=t.data)!=null&&W.pageNumber?t.data.pageNumber:1),f=I((F=t.data)!=null&&F.pageSize?t.data.pageSize:25),g=[10,25,50,100,250,500,1e3].map(B=>({title:B.toString(10),value:B})),w=I((j=t.data)!=null&&j.filterBy?t.data.filterBy:""),y=[],p=I((re=t.data)!=null&&re.orderBy?t.data.orderBy:""),b=[],D=I((ie=t.data)!=null&&ie.dataLanguage?[t.data.dataLanguage]:["none"]);J(D,()=>H());const P=I((Te=t.data)!=null&&Te.displayedData?t.data.displayedData:[]);J(P,(B,A)=>{oe(),B.length>A.length&&H()});const S=I([]),E=I([]),V=I(0),C=I(!1),$=I(""),M=I(""),te=I(!1);l("ready"),na(()=>{a.getDataLocales(t.params.dataPointer).then(B=>(u=B,a.getEntityPropertyKeys(t.params.dataPointer))).then(B=>(r=B.map(A=>A.toString()),ae(r))).then(B=>{v=B,be(),te.value=!0,t.params.executeOnOpen&&H()}).catch(B=>{n.error(B)})});async function ae(B){const A=new Map;for(const L of B){let X;try{X=await a.isEntityPropertySortable(t.params.dataPointer,L)}catch(we){n.error(we),X=!1}A.set(L,{key:L,title:L,sortable:X})}return A}async function oe(){S.value=P.value.map(B=>v.get(B)),S.value.sort((B,A)=>r.indexOf(B.key)-r.indexOf(A.key))}function be(){if(P.value.length>0)return;const B=$e.entity(Oe.PrimaryKey).toString(),A=$e.entity(Oe.Parent).toString(),L=$e.entity(Oe.Locales).toString(),X=$e.entity(Oe.AllLocales).toString(),we=$e.entity(Oe.PriceInnerRecordHandling).toString(),xe=[];r.includes(B)&&xe.push(B),r.includes(A)&&xe.push(A),r.includes(L)&&xe.push(L),r.includes(X)&&xe.push(X),r.includes(we)&&xe.push(we),P.value=xe}function x(){P.value.length<r.length?P.value=r.slice():P.value=[]}async function q({page:B,itemsPerPage:A,sortBy:L}){m.value=B,f.value=A;try{p.value=await a.buildOrderByFromGridColumns(t.params.dataPointer,i.value[0],L)}catch(X){n.error(X)}await H()}async function H(){d.value=!0;try{const B=await a.executeQuery(t.params.dataPointer,i.value[0],w.value,p.value,D.value.length===0?void 0:D.value[0],P.value,m.value,f.value);E.value=B.entities.map(A=>{const L={};return A.forEach(([X,we])=>L[X.toString()]=we),L}),V.value=B.totalEntitiesCount}catch(B){n.error(B)}d.value=!1}function de(B,A){A&&($.value=B,M.value=A,C.value=!0)}function N(){C.value=!1,$.value="",M.value=""}return(B,A)=>te.value?(k(),K("div",Go,[s(mt,{density:"compact",elevation:"2",class:"data-grid__header"},{append:h(()=>[s(Y,{icon:"",variant:"elevated",loading:d.value,density:"compact",onClick:H},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-play")]),_:1}),s(Ce,{activator:"parent"},{default:h(()=>[T(" Execute query ")]),_:1})]),_:1},8,["loading"])]),extension:h(()=>[Z("div",Ko,[s(Y,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-code-braces")]),_:1}),s(Ce,{activator:"parent"},{default:h(()=>[T("Select query language")]),_:1}),s(Ue,{activator:"parent"},{default:h(()=>[s(Ve,{selected:i.value,"onUpdate:selected":A[0]||(A[0]=L=>i.value=L),density:"compact"},{default:h(()=>[(k(),K(G,null,ke(c,L=>s(_e,{key:L.value,value:L.value},{default:h(()=>[s(Me,null,{default:h(()=>[T(ue(L.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}),s(jt,{modelValue:w.value,"onUpdate:modelValue":A[1]||(A[1]=L=>w.value=L),"prepend-inner-icon":"mdi-filter",placeholder:"Filter by","additional-extensions":y,onExecute:H},null,8,["modelValue"]),s(jt,{modelValue:p.value,"onUpdate:modelValue":A[2]||(A[2]=L=>p.value=L),"prepend-inner-icon":"mdi-sort",placeholder:"Order by","additional-extensions":b,onExecute:H},null,8,["modelValue"]),s(Y,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-translate")]),_:1}),s(Ce,{activator:"parent"},{default:h(()=>[T(" Select data locale ")]),_:1}),s(Ue,{activator:"parent"},{default:h(()=>[s(Ve,{selected:D.value,"onUpdate:selected":A[3]||(A[3]=L=>D.value=L),density:"compact","min-width":"100"},{default:h(()=>[s(_e,{value:"none"},{default:h(()=>[s(Me,null,{default:h(()=>[T("None")]),_:1})]),_:1}),s(dt,{class:"mt-2 mb-2"}),(k(!0),K(G,null,ke(ne(u),L=>(k(),O(_e,{key:L,value:L},{default:h(()=>[s(Me,null,{default:h(()=>[T(ue(L),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}),s(Y,{icon:"",density:"comfortable"},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-view-column")]),_:1}),s(Ce,{activator:"parent"},{default:h(()=>[T(" Select displayed data ")]),_:1}),s(Ue,{activator:"parent","close-on-content-click":!1},{default:h(()=>[s(Ve,{selected:P.value,"onUpdate:selected":A[4]||(A[4]=L=>P.value=L),"select-strategy":"classic",density:"compact"},{default:h(()=>[s(_e,null,{prepend:h(()=>[s(Nt,{start:""},{default:h(()=>[s(Ae,{indeterminate:P.value.length>0&&P.value.length<ne(r).length,"model-value":P.value.length===ne(r).length,onClick:x},null,8,["indeterminate","model-value"])]),_:1})]),default:h(()=>[s(Me,null,{default:h(()=>[T("Select all")]),_:1})]),_:1}),s(dt,{class:"mt-2 mb-2"}),(k(!0),K(G,null,ke(ne(r),L=>(k(),O(_e,{key:L,value:L},{prepend:h(({isActive:X})=>[s(Nt,{start:""},{default:h(()=>[s(Ae,{"model-value":X},null,8,["model-value"])]),_:2},1024)]),default:h(()=>[s(Me,null,{default:h(()=>[T(ue(L),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1})])]),default:h(()=>[s(nl,{icon:"mdi-table",disabled:!0,style:{opacity:"1"}}),s(ll,null,{default:h(()=>[s(ol,{items:o.value,class:"pl-0 pr-0"},null,8,["items"])]),_:1})]),_:1}),s(ne(rl),{vertical:"",class:"data-grid__body"},{default:h(()=>[s(ne(Ft),{size:"70","min-size":"30"},{default:h(()=>[s(ne(Mo),{headers:S.value,loading:d.value,items:E.value,"items-length":V.value,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":f.value,"items-per-page-Options":ne(g),"onUpdate:options":q},{item:h(({item:L})=>[Z("tr",null,[(k(!0),K(G,null,ke(L.columns,(X,we)=>(k(),K("td",{key:we,onClick:xe=>de(we,X)},[Z("span",Wo,[X?(k(),K(G,{key:1},[T(ue(X),1)],64)):(k(),K("span",jo,"<null>"))])],8,zo))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),C.value?(k(),O(ne(Ft),{key:0,size:"30"},{default:h(()=>[s(Rt,{class:"data-grid-cell-detail"},{default:h(()=>[s(He,null,{default:h(()=>[Z("div",Qo,[Z("span",null,ue($.value),1),s(Y,{icon:"",variant:"flat",density:"compact",onClick:N},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-close")]),_:1})]),_:1})])]),_:1}),s(dt),s(ut,{class:"data-grid-cell-detail__body"},{default:h(()=>[s(sl,{modelValue:M.value,"onUpdate:modelValue":A[5]||(A[5]=L=>M.value=L),"read-only":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):pe("",!0)]),_:1})])):(k(),K("div",Yo," Loading... "))}});const Zo=Pe(Xo,[["__scopeId","data-v-8a878b6a"]]);class Jo extends il{constructor(l,t,a,n=void 0,o=!1){super(`${t} - ${a} [${l.name}]`,"mdi-table",ul(Zo),{dataPointer:new cl(l,t,a),executeOnOpen:o},n)}}const es=ce({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(e){const l=e,t=I([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=st(),n=ge("connection"),o=ge("catalogSchema");function c(){a.createTabRequest(new Jo(n,o.value.name,l.entitySchema.name))}function r(u){switch(u){case"view-entities":c();break;case"view-schema":a.createTabRequest(new ya(n,new dl(o.value.name,l.entitySchema.name)));break}}return(u,v)=>(k(),O(Ye,{"prepend-icon":"mdi-list-box",actions:t.value,onClick:c,"onClick:action":r},{default:h(()=>[T(ue(u.entitySchema.name),1)]),_:1},8,["actions"]))}}),ts={},as=Z("span",{class:"pl-8 text-disabled"}," No items found ",-1);function ns(e,l){return k(),O(_e,null,{default:h(()=>[as]),_:1})}const Ja=Pe(ts,[["render",ns]]),ls={key:0},os=ce({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(e){const l=e,t=I([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=Ke(),n=st(),o=Re(),c=ge("connection"),r=I();ye("catalogSchema",r);const u=I(!1);async function v(){if(!(r.value!==void 0||l.catalog.corrupted)){u.value=!0;try{r.value=await a.getCatalogSchema(c,l.catalog.name)}catch(d){o.error(d)}u.value=!1}}function i(d){switch(d){case"open-evitaql-console":n.createTabRequest(new ml(c,l.catalog.name));break;case"open-graphql-data-api-console":n.createTabRequest(new yt(c,l.catalog.name,bt.DATA));break;case"open-graphql-schema-api-console":n.createTabRequest(new yt(c,l.catalog.name,bt.SCHEMA));break;case"view-schema":n.createTabRequest(new ya(c,new vl(l.catalog.name)));break}}return(d,m)=>(k(),O(ba,{value:`${ne(c).name}|${d.catalog.name}`},{activator:h(({isOpen:f,props:g})=>[d.catalog.corrupted?(k(),O(Ye,z({key:1},g,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:h(()=>[T(ue(d.catalog.name)+" ",1),s(Ce,{activator:"parent"},{default:h(()=>[T(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(k(),O(Ye,z({key:0},g,{openable:"","is-open":f,"prepend-icon":"mdi-book-open",loading:u.value,actions:t.value,onClick:v,"onClick:action":i}),{default:h(()=>[T(ue(d.catalog.name),1)]),_:2},1040,["is-open","loading","actions"]))]),default:h(()=>[!d.catalog.corrupted&&r.value!==void 0?(k(),K("div",ls,[Object.values(r.value.entitySchemas).length>0?(k(!0),K(G,{key:0},ke(Object.values(r.value.entitySchemas),f=>(k(),O(es,{key:f.name,"entity-schema":f},null,8,["entity-schema"]))),128)):(k(),O(Ja,{key:1}))])):pe("",!0)]),_:1},8,["value"]))}});const ss=U({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ra({origin:"center center",scrollStrategy:"block",transition:{component:Et},zIndex:2400})},"VDialog"),en=ee()({name:"VDialog",props:ss(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=fe(e,"modelValue"),{scopeId:n}=Vt(),o=I();function c(u){var d,m;const v=u.relatedTarget,i=u.target;if(v!==i&&((d=o.value)!=null&&d.contentEl)&&((m=o.value)!=null&&m.globalTop)&&![document,o.value.contentEl].includes(i)&&!o.value.contentEl.contains(i)){const f=pl(o.value.contentEl);if(!f.length)return;const g=f[0],w=f[f.length-1];v===g?w.focus():g.focus()}}fl&&J(()=>a.value&&e.retainFocus,u=>{u?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0}),J(a,async u=>{var v,i;await la(),u?(v=o.value.contentEl)==null||v.focus({preventScroll:!0}):(i=o.value.activatorEl)==null||i.focus({preventScroll:!0})});const r=_(()=>z({"aria-haspopup":"dialog","aria-expanded":String(a.value)},e.activatorProps));return le(()=>{const[u]=je.filterProps(e);return s(je,z({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},u,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,"aria-modal":"true",activatorProps:r.value,role:"dialog"},n),{activator:t.activator,default:function(){for(var v=arguments.length,i=new Array(v),d=0;d<v;d++)i[d]=arguments[d];return s(Be,{root:"VDialog"},{default:()=>{var m;return[(m=t.default)==null?void 0:m.call(t,...i)]}})}})}),nt({},o)}}),tn=ot("flex-grow-1","div","VSpacer"),rs=ce({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=Ke(),n=Re();function o(){l("update:modelValue",!1)}function c(){try{a.removeConnection(t.connection.id)}catch(r){n.error(r);return}n.success("Connection removed."),l("update:modelValue",!1)}return(r,u)=>(k(),O(en,{"model-value":r.modelValue,"max-width":"30rem","onUpdate:modelValue":u[0]||(u[0]=v=>r.$emit("update:modelValue",v))},{activator:h(({props:v})=>[Pt(r.$slots,"activator",xt(Ct(v)))]),default:h(()=>[s(Rt,null,{default:h(()=>[s(He,null,{default:h(()=>[T("Remove connection")]),_:1}),s(ut,null,{default:h(()=>[T(" Are you sure you want to remove the connection "),Z("strong",null,ue(r.connection.name),1),T("? ")]),_:1}),s(At,null,{default:h(()=>[s(tn),s(Y,{onClick:o},{default:h(()=>[T(" Cancel ")]),_:1}),s(Y,{"prepend-icon":"mdi-delete",onClick:c},{default:h(()=>[T(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),is={key:0},us=ce({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(e){const l=e,t=st(),a=Ke(),n=Re();ye("connection",gl(l.connection));const o=I([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!a.isReadOnly()&&!l.connection.preconfigured&&o.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const c=I(!1),r=I(),u=I(!1);async function v(){if(r.value===void 0){u.value=!0;try{r.value=await a.getCatalogs(l.connection)}catch(d){n.error(d)}u.value=!1}}function i(d,m){switch(d){case"open-graphql-system-api-console":t.createTabRequest(new yt(l.connection,"system",bt.SYSTEM));break;case"edit":throw new hl(void 0,"Not implemented yet.");case"remove":c.value=!0;break}}return(d,m)=>(k(),O(ba,{value:d.connection.name},{activator:h(({isOpen:f,props:g})=>[s(Ye,z(g,{openable:"","is-open":f,"prepend-icon":"mdi-server",loading:u.value,actions:o.value,onClick:v,"onClick:action":i}),{default:h(()=>[T(ue(d.connection.name),1)]),_:2},1040,["is-open","loading","actions"])]),default:h(()=>[r.value!==void 0?(k(),K("div",is,[r.value.length>0?(k(!0),K(G,{key:0},ke(r.value,f=>(k(),O(os,{key:f.name,catalog:f},null,8,["catalog"]))),128)):(k(),O(Ja,{key:1}))])):pe("",!0),s(rs,{modelValue:c.value,"onUpdate:modelValue":m[0]||(m[0]=f=>c.value=f),connection:d.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),cs=U({...he(),...yl()},"VForm"),ds=ee()({name:"VForm",props:cs(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:a}=l;const n=bl(e),o=I();function c(u){u.preventDefault(),n.reset()}function r(u){const v=u,i=n.validate();v.then=i.then.bind(i),v.catch=i.catch.bind(i),v.finally=i.finally.bind(i),a("submit",v),v.defaultPrevented||i.then(d=>{var f;let{valid:m}=d;m&&((f=o.value)==null||f.submit())}),v.preventDefault()}return le(()=>{var u;return s("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:r},[(u=t.default)==null?void 0:u.call(t,n)])}),nt(n,o)}}),vs=ce({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=Ke(),n=Re(),o=[p=>p?!0:"Name of connection is required.",p=>a.isConnectionExists(p)?"Connection with this name already exists.":!0],c=[p=>p?!0:"evitaLab API URL is required.",p=>{try{return new URL(p),!0}catch{return"evitaLab API URL is not a valid URL."}},async p=>await m()?(i.value.labApiUrlTested=1,!0):(i.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],r=[p=>p?!0:"GraphQL API URL is required.",p=>{try{return new URL(p),!0}catch{return"GraphQL API URL is not a valid URL."}},async p=>await f()?(i.value.gqlUrlTested=1,!0):(i.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],u=I(null),v=_(()=>t.connection?1:0),i=I({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function d(p){switch(p){case 0:return null;case 1:return"mdi-check-circle";case 2:return"mdi-close-circle"}}async function m(){try{return(await Ut.get(i.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function f(){var p;try{const b=await Ut.post(i.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((p=b==null?void 0:b.data)==null?void 0:p.liveness)||!1}catch{return!1}}async function g(){let p=!0;return await m()?i.value.labApiUrlTested=1:(p=!1,i.value.labApiUrlTested=2),await f()?i.value.gqlUrlTested=1:(p=!1,i.value.gqlUrlTested=2),p?n.success("Successfully connected."):n.error("Connection test failed."),p}function w(){u.value.reset(),i.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},l("update:modelValue",!1)}async function y(){const{valid:p}=await u.value.validate();if(p){try{a.addConnection(new wl(void 0,i.value.name,!1,i.value.labApiUrl,"https://localhost:5555/rest",i.value.gqlUrl))}catch(b){n.error(b);return}u.value.reset(),l("update:modelValue",!1)}}return(p,b)=>(k(),O(en,{"model-value":p.modelValue,"onUpdate:modelValue":b[3]||(b[3]=D=>p.$emit("update:modelValue",D)),persistent:"","max-width":"30rem"},{activator:h(({props:D})=>[Pt(p.$slots,"activator",xt(Ct(D)))]),default:h(()=>[s(Rt,null,{default:h(()=>[v.value===0?(k(),O(He,{key:0},{default:h(()=>[T("Add connection")]),_:1})):pe("",!0),v.value===1?(k(),O(He,{key:1},{default:h(()=>[T("Edit connection")]),_:1})):pe("",!0),s(ut,null,{default:h(()=>[s(ds,{ref_key:"form",ref:u,"validate-on":"submit"},{default:h(()=>[s(Fe,{modelValue:i.value.name,"onUpdate:modelValue":b[0]||(b[0]=D=>i.value.name=D),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:o,required:""},null,8,["modelValue"]),s(Fe,{modelValue:i.value.labApiUrl,"onUpdate:modelValue":b[1]||(b[1]=D=>i.value.labApiUrl=D),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:c,"append-inner-icon":d(i.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),s(Fe,{modelValue:i.value.gqlUrl,"onUpdate:modelValue":b[2]||(b[2]=D=>i.value.gqlUrl=D),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:r,"append-inner-icon":d(i.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),s(At,null,{default:h(()=>[s(Y,{"prepend-icon":"mdi-connection",onClick:g},{default:h(()=>[T(" Test connection ")]),_:1}),s(tn),s(Y,{onClick:w},{default:h(()=>[T(" Cancel ")]),_:1}),s(Y,{"prepend-icon":"mdi-content-save",onClick:y},{default:h(()=>[T(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),ms={key:0,class:"pa-2"},fs=ce({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const t=Ke(),a=I(!1),n=_(()=>t.getConnections());return(o,c)=>(k(),O(_a,{permanent:"","model-value":o.modelValue,"onUpdate:modelValue":c[2]||(c[2]=r=>o.$emit("update:modelValue",r))},{append:h(()=>[ne(t).isReadOnly()?pe("",!0):(k(),K("div",ms,[s(vs,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=r=>a.value=r)},{activator:h(({props:r})=>[s(Y,z({"prepend-icon":"mdi-plus",block:"",variant:"tonal"},r,{onClick:c[0]||(c[0]=u=>a.value=!0)}),{default:h(()=>[T(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:h(()=>[s(Ve,{density:"compact",nav:""},{default:h(()=>[s(Sl,null,{default:h(()=>[T("Connections Explorer")]),_:1}),(k(!0),K(G,null,ke(n.value,r=>(k(),O(us,{key:r.name,connection:r},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),ps=e=>(It("data-v-60d2bd0a"),e=e(),Tt(),e),gs={class:"loading-screen"},hs={class:"loading-screen-info"},ys=ps(()=>Z("span",null,"Loading, please wait ...",-1)),bs=ce({__name:"LabEditorLoadingScreen",setup(e){return(l,t)=>(k(),K("div",gs,[Z("div",hs,[s(ka,{size:48}),ys])]))}});const ws=Pe(bs,[["__scopeId","data-v-60d2bd0a"]]),Ss=ce({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(e){const l=I(!1);return(t,a)=>(k(),K(G,null,[(k(),O(Vl,null,[ha((k(),O(kl(t.component),z(t.componentProps,{onReady:a[0]||(a[0]=n=>l.value=!0)}),null,16)),[[_l,l.value]])],1024)),l.value?pe("",!0):(k(),O(ws,{key:0}))],64))}});function _s(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const an=e=>(It("data-v-054f9d76"),e=e(),Tt(),e),ks={class:"editor-welcome-screen"},Vs={class:"editor-welcome-screen-hero"},Ps={class:"editor-welcome-screen-hero__header"},xs=an(()=>Z("h1",{class:"text-h2"},"evitaLab",-1)),Cs={class:"text-caption"},Is=an(()=>Z("p",{class:"text-subtitle-1 mt-2"},"evitaDB web client",-1)),Ts={class:"editor-welcome-screen-hero__links"},Ds=ce({__name:"LabEditorWelcomeScreen",setup(e){const l="v0.1.9";function t(){window.open("https://evitadb.io/documentation","_blank")}function a(){window.open("https://github.com/lukashornych/evitalab/","_blank")}function n(){window.open("https://discord.gg/VsNBWxgmSw","_blank")}function o(){window.open("https://github.com/lukashornych/evitalab/issues","_blank")}return(c,r)=>(k(),K("div",ks,[Z("div",Vs,[Z("header",Ps,[xs,Z("span",Cs,"alpha "+ue(ne(l)),1),Is]),Z("div",Ts,[s(Y,{"prepend-icon":"mdi-book",onClick:t},{default:h(()=>[T(" Check out the evitaDB documentation ")]),_:1}),s(Y,{"prepend-icon":"mdi-github",onClick:a},{default:h(()=>[T(" Give us a ⭐ on GitHub ")]),_:1}),s(Y,{"prepend-icon":"mdi-comment-quote",onClick:n},{default:h(()=>[T(" Reach out to us on Discord ")]),_:1}),s(Y,{"prepend-icon":"mdi-bug",onClick:o},{default:h(()=>[T(" Submit an issue ")]),_:1})])])]))}});const Es=Pe(Ds,[["__scopeId","data-v-054f9d76"]]);const Ls=U({scrollable:Boolean,...he(),...Ge({tag:"main"})},"VMain"),Bs=ee()({name:"VMain",props:Ls(),setup(e,l){let{slots:t}=l;const{mainStyles:a}=El(),{ssrBootStyles:n}=St();return le(()=>s(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,n.value,e.style]},{default:()=>{var o,c;return[e.scrollable?s("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(c=t.default)==null?void 0:c.call(t)]}})),{}}}),As={key:1,style:{position:"relative"}},Rs=ce({__name:"LabEditor",setup(e){const l=Pl(),t=Re(),a=st(),n=xl(),o=_(()=>a.getTabRequests());J(o,()=>{const v=a.getNewTabRequest();v&&(c.value=v.id,a.markTabRequestAsVisited(v.id))},{deep:!0});const c=I();function r(v){const i=o.value.length,d=o.value.findIndex(f=>f.id===c.value),m=o.value.findIndex(f=>f.id===v);a.destroyTabRequest(v),o.value.length===0?c.value=null:m===d&&m===i-1?c.value=o.value[m-1].id:m===d&&m<i-1&&(c.value=o.value[m].id)}async function u(){const v=l.query.demoSnippetRequest;if(v!=null)try{const i=JSON.parse(atob(v));return await n.resolve(i)}catch(i){t.error(i)}}return u().then(v=>{v&&a.createTabRequest(v)}),(v,i)=>(k(),K(G,null,[o.value.length>0?(k(),O($l,{key:0,density:"compact",elevation:"0"},{default:h(()=>[s(Il,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=d=>c.value=d)},{default:h(()=>[(k(!0),K(G,null,ke(o.value,d=>(k(),O(Cl,{key:d.id,value:d.id,"prepend-icon":d.icon,onMousedown:qe(m=>r(d.id),["middle"])},{default:h(()=>[Z("span",null,[T(ue(ne(_s)(d.title,30))+" ",1),d.title.length>30?(k(),O(Ce,{key:0,activator:"parent"},{default:h(()=>[T(ue(d.title),1)]),_:2},1024)):pe("",!0)]),s(Y,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:qe(m=>r(d.id),["stop"])},{default:h(()=>[s(ve,null,{default:h(()=>[T("mdi-close")]),_:1}),s(Ce,{activator:"parent"},{default:h(()=>[T(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):pe("",!0),s(Bs,{scrollable:!1,class:"lab-editor"},{default:h(()=>[o.value.length>0?(k(),O(Dl,{key:0,modelValue:c.value,"onUpdate:modelValue":i[1]||(i[1]=d=>c.value=d)},{default:h(()=>[(k(!0),K(G,null,ke(o.value,d=>(k(),O(Tl,{key:d.id,value:d.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:h(()=>[s(Ss,{component:d.component,"component-props":d.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(k(),K("div",As,[s(Es)]))]),_:1})],64))}});const $s=Pe(Rs,[["__scopeId","data-v-2bc646d5"]]),Fs=ce({__name:"Lab",setup(e){const l=I(Se.Explorer);return(t,a)=>(k(),K(G,null,[s(Ql,{panel:l.value,"onUpdate:panel":a[0]||(a[0]=n=>l.value=n)},null,8,["panel"]),s(fs,{"model-value":l.value===ne(Se).Explorer},null,8,["model-value"]),s($s)],64))}});export{Fs as default};
