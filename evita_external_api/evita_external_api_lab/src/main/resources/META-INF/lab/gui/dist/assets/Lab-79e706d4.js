/*
 *
 *                         _ _        ____  ____
 *               _____   _(_) |_ __ _|  _ \| __ )
 *              / _ \ \ / / | __/ _` | | | |  _ \
 *             |  __/\ V /| | || (_| | |_| | |_) |
 *              \___| \_/ |_|\__\__,_|____/|____/
 *
 *   Copyright (c) 2023
 *
 *   Licensed under the Business Source License, Version 1.1 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   https://github.com/FgForrest/evitaDB/blob/main/LICENSE
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

import{b as ve,e as d,h as ie,T as tn,p as ae,i as jt,j as bo,s as lr,k as _o,n as So,l as W,q as Oe,t as T,v as Tt,x as he,y as _a,z as gn,A as Oo,B as Be,C as Ur,D as yn,E as pe,d as ye,V as or,F as Mt,m as Xe,G as Ut,H as $e,I as wo,J as Gr,K as Fr,L as Wr,a as bn,u as To,c as _n,M as zr,N as an,O as Hr,P as qr,Q as Qr,R as ko,S as Sn,U as Po,W as Xr,X as Sa,Y as jr,Z as re,$ as K,a0 as nn,f as C,w as _,o as S,a1 as z,a2 as On,a3 as rn,a4 as I,a5 as Pe,a6 as lt,a7 as Oa,a8 as wa,_ as me,a9 as Co,aa as Yr,ab as Kr,ac as Ao,ad as qe,ae as ir,af as je,ag as ua,ah as Pt,ai as Ta,aj as sr,ak as le,al as ne,am as at,an as se,ao as nt,ap as Qe,aq as Eo,ar as xo,as as Do,at as Lo,au as Io,av as Vo,aw as Ro,ax as $o,ay as No,az as Bo,aA as Mo,aB as Uo,aC as Go,aD as Fo,aE as Wo,aF as zo,aG as Ho,aH as qo,aI as aa,aJ as ee,aK as B,aL as Qo,aM as ka,aN as Pa,aO as pt,aP as wn,aQ as Zr,aR as Jr,aS as Xo,aT as jo,aU as Yo,aV as Ko,aW as Zo,aX as Jo,aY as el,aZ as tl,a_ as al,a$ as ei,b0 as ti,b1 as ai,b2 as nl,b3 as ni,b4 as rl,b5 as ri,b6 as Tn,b7 as kn,b8 as fe,b9 as Ae,ba as Ie,bb as Ca,bc as Pn,bd as li,be as Cn,bf as Gt,bg as oi,bh as ll,bi as Ze,bj as Je,bk as Et,bl as ii,bm as si,bn as ol,bo as ui,bp as ci,bq as di,br as ze,bs as kt,bt as Q,bu as rt,bv as ln,bw as na,bx as pi,by as fi,bz as il,bA as on,bB as sl,bC as mi,bD as hi,bE as ul,bF as vi,bG as gi,bH as yi,bI as Aa,bJ as bi,bK as ca,bL as _i,bM as Si,bN as sn,bO as Yt,bP as Oi,bQ as Ot,bR as ur,bS as wi,bT as cl,bU as dl,bV as Ce,bW as Ti,bX as ki,bY as pl,bZ as Pi,b_ as Ci,b$ as Ai,c0 as Ei,c1 as Fe,c2 as An,c3 as xi,c4 as Di,c5 as Ee,c6 as Li,c7 as Ii,c8 as Vi,c9 as wt,ca as Ri,cb as $i,cc as cr,cd as Ni,ce as Bi,cf as Mi,cg as Ui,ch as Gi,ci as un,cj as cn,ck as Fi,cl as Wi,cm as zi,cn as Hi,co as dr,cp as qi,cq as Qi,cr as Xi,cs as ji,ct as Yi,cu as Ki,cv as Zi,cw as Ji,cx as es,cy as ts,cz as as,cA as ns}from"./index-e25c9fc6.js";import{a as fl,u as ml,b as rs}from"./layout-d1437eec.js";const ls=ae({target:Object},"v-dialog-transition"),En=ve()({name:"VDialogTransition",props:ls(),setup(t,e){let{slots:a}=e;const n={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,l){var m;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),r.style.visibility="";const{x:o,y:i,sx:s,sy:c,speed:u}=fr(t.target,r),f=jt(r,[{transform:`translate(${o}px, ${i}px) scale(${s}, ${c})`,opacity:0},{}],{duration:225*u,easing:bo});(m=pr(r))==null||m.forEach(h=>{jt(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:lr})}),f.finished.then(()=>l())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,l){var m;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:i,sx:s,sy:c,speed:u}=fr(t.target,r);jt(r,[{},{transform:`translate(${o}px, ${i}px) scale(${s}, ${c})`,opacity:0}],{duration:125*u,easing:_o}).finished.then(()=>l()),(m=pr(r))==null||m.forEach(h=>{jt(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:lr})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>t.target?d(tn,ie({name:"dialog-transition"},n,{css:!1}),a):d(tn,{name:"dialog-transition"},a)}});function pr(t){var a;const e=(a=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return e&&[...e]}function fr(t,e){const a=t.getBoundingClientRect(),n=So(e),[r,l]=getComputedStyle(e).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,i]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let s=a.left+a.width/2;o==="left"||i==="left"?s-=a.width/2:(o==="right"||i==="right")&&(s+=a.width/2);let c=a.top+a.height/2;o==="top"||i==="top"?c-=a.height/2:(o==="bottom"||i==="bottom")&&(c+=a.height/2);const u=a.width/n.width,f=a.height/n.height,m=Math.max(1,u,f),h=u/m||0,p=f/m||0,g=n.width*n.height/(window.innerWidth*window.innerHeight),b=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:s-(r+n.left),y:c-(l+n.top),sx:h,sy:p,speed:b}}const os=ae({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function is(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=e;let n=0;const r=W(null),l=Oe(0),o=Oe(0),i=Oe(0),s=Oe(!1),c=Oe(!1),u=T(()=>Number(t.scrollThreshold)),f=T(()=>Tt((u.value-l.value)/u.value||0)),m=()=>{const h=r.value;!h||a&&!a.value||(n=l.value,l.value="window"in h?h.pageYOffset:h.scrollTop,c.value=l.value<n,i.value=Math.abs(l.value-u.value))};return he(c,()=>{o.value=o.value||l.value}),he(s,()=>{o.value=0}),_a(()=>{he(()=>t.scrollTarget,h=>{var g;const p=h?document.querySelector(h):window;p&&p!==r.value&&((g=r.value)==null||g.removeEventListener("scroll",m),r.value=p,r.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),gn(()=>{var h;(h=r.value)==null||h.removeEventListener("scroll",m)}),a&&he(a,m,{immediate:!0}),{scrollThreshold:u,currentScroll:l,currentThreshold:i,isScrollActive:s,scrollRatio:f,isScrollingUp:c,savedScroll:o}}const ss=ae({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...Oo(),...fl(),...os(),height:{type:[Number,String],default:64}},"VAppBar"),us=ve()({name:"VAppBar",props:ss(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:a}=e;const n=W(),r=Be(t,"modelValue"),l=T(()=>{var O;const y=new Set(((O=t.scrollBehavior)==null?void 0:O.split(" "))??[]);return{hide:y.has("hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),o=T(()=>{const y=l.value;return y.hide||y.inverted||y.collapse||y.elevate||y.fadeImage||!r.value}),{currentScroll:i,scrollThreshold:s,isScrollingUp:c,scrollRatio:u}=is(t,{canScroll:o}),f=T(()=>t.collapse||l.value.collapse&&(l.value.inverted?u.value>0:u.value===0)),m=T(()=>t.flat||l.value.elevate&&(l.value.inverted?i.value>0:i.value===0)),h=T(()=>l.value.fadeImage?l.value.inverted?1-u.value:u.value:void 0),p=T(()=>{var x,P;if(l.value.hide&&l.value.inverted)return 0;const y=((x=n.value)==null?void 0:x.contentHeight)??0,O=((P=n.value)==null?void 0:P.extensionHeight)??0;return y+O});Ur(T(()=>!!t.scrollBehavior),()=>{Mt(()=>{l.value.hide?l.value.inverted?r.value=i.value>s.value:r.value=c.value||i.value<s.value:r.value=!0})});const{ssrBootStyles:g}=yn(),{layoutItemStyles:b}=ml({id:t.name,order:T(()=>parseInt(t.order,10)),position:pe(t,"location"),layoutSize:p,elementSize:Oe(void 0),active:r,absolute:pe(t,"absolute")});return ye(()=>{const[y]=or.filterProps(t);return d(or,ie({ref:n,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...b.value,"--v-toolbar-image-opacity":h.value,height:void 0,...g.value},t.style]},y,{collapse:f.value,flat:m.value}),a)}),{}}}),cs=ae({start:Boolean,end:Boolean,...Xe(),...Ut()},"VListItemAction"),hl=ve()({name:"VListItemAction",props:cs(),setup(t,e){let{slots:a}=e;return ye(()=>d(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},a)),{}}}),ds="/lab/logo.png?raw=true",ps="/lab/documentation.svg",fs="/lab/discord.svg",ms="/lab/github.svg";function hs(t){let{rootEl:e,isSticky:a,layoutItemStyles:n}=t;const r=Oe(!1),l=Oe(0),o=T(()=>{const c=typeof r.value=="boolean"?"top":r.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[c]:$e(l.value)}:{top:n.value.top}]});_a(()=>{he(a,c=>{c?window.addEventListener("scroll",s,{passive:!0}):window.removeEventListener("scroll",s)},{immediate:!0})}),gn(()=>{window.removeEventListener("scroll",s)});let i=0;function s(){const c=i>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),f=parseFloat(n.value.top??0),m=window.scrollY-Math.max(0,l.value-f),h=u.height+Math.max(l.value,f)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-f?(r.value="top",l.value=f):c==="up"&&r.value==="bottom"||c==="down"&&r.value==="top"?(l.value=window.scrollY+u.top-p,r.value=!0):c==="down"&&h<=0?(l.value=0,r.value="bottom"):c==="up"&&m<=0&&(p?r.value!=="top"&&(l.value=-m+p+f,r.value="top"):(l.value=u.top+m,r.value="top")),i=window.scrollY}return{isStuck:r,stickyStyles:o}}const vs=100,gs=20;function mr(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function hr(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let a=t.length-1;a>0;a--){if(t[a].t===t[a-1].t)continue;const n=mr(e),r=(t[a].d-t[a-1].d)/(t[a].t-t[a-1].t);e+=(r-n)*Math.abs(r),a===t.length-1&&(e*=.5)}return mr(e)*1e3}function ys(){const t={};function e(r){Array.from(r.changedTouches).forEach(l=>{(t[l.identifier]??(t[l.identifier]=new wo(gs))).push([r.timeStamp,l])})}function a(r){Array.from(r.changedTouches).forEach(l=>{delete t[l.identifier]})}function n(r){var c;const l=(c=t[r])==null?void 0:c.values().reverse();if(!l)throw new Error(`No samples for touch id ${r}`);const o=l[0],i=[],s=[];for(const u of l){if(o[0]-u[0]>vs)break;i.push({t:u[0],d:u[1].clientX}),s.push({t:u[0],d:u[1].clientY})}return{x:hr(i),y:hr(s),get direction(){const{x:u,y:f}=this,[m,h]=[Math.abs(u),Math.abs(f)];return m>h&&u>=0?"right":m>h&&u<=0?"left":h>m&&f>=0?"down":h>m&&f<=0?"up":bs()}}}return{addMovement:e,endTouch:a,getVelocity:n}}function bs(){throw new Error}function _s(t){let{isActive:e,isTemporary:a,width:n,touchless:r,position:l}=t;_a(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",O,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),gn(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",O),window.removeEventListener("touchend",x)});const o=T(()=>["left","right"].includes(l.value)),{addMovement:i,endTouch:s,getVelocity:c}=ys();let u=!1;const f=Oe(!1),m=Oe(0),h=Oe(0);let p;function g(w,E){return(l.value==="left"?w:l.value==="right"?document.documentElement.clientWidth-w:l.value==="top"?w:l.value==="bottom"?document.documentElement.clientHeight-w:_t())-(E?n.value:0)}function b(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=l.value==="left"?(w-h.value)/n.value:l.value==="right"?(document.documentElement.clientWidth-w-h.value)/n.value:l.value==="top"?(w-h.value)/n.value:l.value==="bottom"?(document.documentElement.clientHeight-w-h.value)/n.value:_t();return E?Math.max(0,Math.min(1,k)):k}function y(w){if(r.value)return;const E=w.changedTouches[0].clientX,k=w.changedTouches[0].clientY,R=25,$=l.value==="left"?E<R:l.value==="right"?E>document.documentElement.clientWidth-R:l.value==="top"?k<R:l.value==="bottom"?k>document.documentElement.clientHeight-R:_t(),L=e.value&&(l.value==="left"?E<n.value:l.value==="right"?E>document.documentElement.clientWidth-n.value:l.value==="top"?k<n.value:l.value==="bottom"?k>document.documentElement.clientHeight-n.value:_t());($||L||e.value&&a.value)&&(u=!0,p=[E,k],h.value=g(o.value?E:k,e.value),m.value=b(o.value?E:k),s(w),i(w))}function O(w){const E=w.changedTouches[0].clientX,k=w.changedTouches[0].clientY;if(u){if(!w.cancelable){u=!1;return}const $=Math.abs(E-p[0]),L=Math.abs(k-p[1]);(o.value?$>L&&$>3:L>$&&L>3)?(f.value=!0,u=!1):(o.value?L:$)>3&&(u=!1)}if(!f.value)return;w.preventDefault(),i(w);const R=b(o.value?E:k,!1);m.value=Math.max(0,Math.min(1,R)),R>1?h.value=g(o.value?E:k,!0):R<0&&(h.value=g(o.value?E:k,!1))}function x(w){if(u=!1,!f.value)return;i(w),f.value=!1;const E=c(w.changedTouches[0].identifier),k=Math.abs(E.x),R=Math.abs(E.y);(o.value?k>R&&k>400:R>k&&R>3)?e.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||_t()):e.value=m.value>.5}const P=T(()=>f.value?{transform:l.value==="left"?`translateX(calc(-100% + ${m.value*n.value}px))`:l.value==="right"?`translateX(calc(100% - ${m.value*n.value}px))`:l.value==="top"?`translateY(calc(-100% + ${m.value*n.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${m.value*n.value}px))`:_t(),transition:"none"}:void 0);return{isDragging:f,dragProgress:m,dragStyles:P}}function _t(){throw new Error}const Ss=["start","end","left","right","top","bottom"],Os=ae({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Ss.includes(t)},sticky:Boolean,...Gr(),...Xe(),...Fr(),...fl(),...Wr(),...Ut({tag:"nav"}),...bn()},"VNavigationDrawer"),vl=ve()({name:"VNavigationDrawer",props:Os(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:a,emit:n,slots:r}=e;const{isRtl:l}=To(),{themeClasses:o}=_n(t),{borderClasses:i}=zr(t),{backgroundColorClasses:s,backgroundColorStyles:c}=an(pe(t,"color")),{elevationClasses:u}=Hr(t),{mobile:f}=qr(),{roundedClasses:m}=Qr(t),h=ko(),p=Be(t,"modelValue",null,D=>!!D),{ssrBootStyles:g}=yn(),{scopeId:b}=Sn(),y=W(),O=Oe(!1),x=T(()=>t.rail&&t.expandOnHover&&O.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),P=T(()=>Po(t.location,l.value)),w=T(()=>!t.permanent&&(f.value||t.temporary)),E=T(()=>t.sticky&&!w.value&&P.value!=="bottom");t.expandOnHover&&t.rail!=null&&he(O,D=>n("update:rail",!D)),t.disableResizeWatcher||he(w,D=>!t.permanent&&jr(()=>p.value=!D)),!t.disableRouteWatcher&&h&&he(h.currentRoute,()=>w.value&&(p.value=!1)),he(()=>t.permanent,D=>{D&&(p.value=!0)}),Xr(()=>{t.modelValue!=null||w.value||(p.value=t.permanent||!f.value)});const{isDragging:k,dragProgress:R,dragStyles:$}=_s({isActive:p,isTemporary:w,width:x,touchless:pe(t,"touchless"),position:P}),L=T(()=>{const D=w.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):x.value;return k.value?D*R.value:D}),{layoutItemStyles:H,layoutItemScrimStyles:Z}=ml({id:t.name,order:T(()=>parseInt(t.order,10)),position:P,layoutSize:L,elementSize:x,active:T(()=>p.value||k.value),disableTransitions:T(()=>k.value),absolute:T(()=>t.absolute||E.value&&typeof J.value!="string")}),{isStuck:J,stickyStyles:ge}=hs({rootEl:y,isSticky:E,layoutItemStyles:H}),V=an(T(()=>typeof t.scrim=="string"?t.scrim:null)),X=T(()=>({...k.value?{opacity:R.value*.2,transition:"none"}:void 0,...Z.value}));Sa({VList:{bgColor:"transparent"}});function oe(){O.value=!0}function G(){O.value=!1}return ye(()=>{const D=r.image||t.image;return d(re,null,[d(t.tag,ie({ref:y,onMouseenter:oe,onMouseleave:G,class:["v-navigation-drawer",`v-navigation-drawer--${P.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":O.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":E.value},o.value,s.value,i.value,u.value,m.value,t.class],style:[c.value,H.value,$.value,g.value,ge.value,t.style]},b,a),{default:()=>{var N,U,j,q;return[D&&d("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?(N=r.image)==null?void 0:N.call(r,{image:t.image}):d("img",{src:t.image,alt:""},null)]),r.prepend&&d("div",{class:"v-navigation-drawer__prepend"},[(U=r.prepend)==null?void 0:U.call(r)]),d("div",{class:"v-navigation-drawer__content"},[(j=r.default)==null?void 0:j.call(r)]),r.append&&d("div",{class:"v-navigation-drawer__append"},[(q=r.append)==null?void 0:q.call(r)])]}}),d(tn,{name:"fade-transition"},{default:()=>[w.value&&(k.value||p.value)&&!!t.scrim&&d("div",ie({class:["v-navigation-drawer__scrim",V.backgroundColorClasses.value],style:[X.value,V.backgroundColorStyles.value],onClick:()=>p.value=!1},b),null)]})])}),{isStuck:J}}}),xn=t=>(Oa("data-v-4cc0427b"),t=t(),wa(),t),ws={class:"lab-logo"},Ts={href:"https://github.com/lukashornych/evitalab",target:"_blank"},ks={class:"lab-nav-links"},Ps={href:"https://evitadb.io/documentation",target:"_blank"},Cs=xn(()=>z("img",{src:ps,alt:"evitaDB Documentation"},null,-1)),As={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},Es=xn(()=>z("img",{src:fs,alt:"Discord icon"},null,-1)),xs={href:"https://github.com/lukashornych/evitalab",target:"_blank"},Ds=xn(()=>z("img",{src:ms,alt:"GitHub icon"},null,-1)),Ls=K({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(t,{emit:e}){const a=W([{title:"Explorer",value:nn.Explorer,props:{prependIcon:"mdi-connection"}}]);function n(r){r.value?e("update:panel",r.id):e("update:panel",null)}return(r,l)=>(S(),C(vl,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:_(()=>[z("div",ws,[z("a",Ts,[d(rn,{size:"30px"},{default:_(()=>[d(On,{alt:"evitaLab Logo",width:"30px",height:"30px",src:ds})]),_:1})])])]),append:_(()=>[z("ul",ks,[z("li",null,[z("a",Ps,[Cs,d(Pe,{activator:"parent"},{default:_(()=>[I(" evitaDB documentation ")]),_:1})])]),z("li",null,[z("a",As,[Es,d(Pe,{activator:"parent"},{default:_(()=>[I(" Discord ")]),_:1})])]),z("li",null,[z("a",xs,[Ds,d(Pe,{activator:"parent"},{default:_(()=>[I(" Give us a ⭐️ on GitHub ")]),_:1})])])])]),default:_(()=>[d(lt,{density:"compact",nav:"",items:a.value,selected:[r.panel],"onClick:select":n,class:"connection-explorer"},null,8,["items","selected"])]),_:1}))}});const Is=me(Ls,[["__scopeId","data-v-4cc0427b"]]),gl=K({__name:"VLoadingCircular",props:{size:{default:24}},setup(t){return(e,a)=>(S(),C(Co,{indeterminate:"",size:e.size,width:"3"},null,8,["size"]))}});const Vs=ae({id:String,...Yr(Kr({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:En}}),["absolute"])},"VMenu"),Ft=ve()({name:"VMenu",props:Vs(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:a}=e;const n=Be(t,"modelValue"),{scopeId:r}=Sn(),l=Ao(),o=T(()=>t.id||`v-menu-${l}`),i=W(),s=qe(ir,null),c=Oe(0);je(ir,{register(){++c.value},unregister(){--c.value},closeParents(){setTimeout(()=>{c.value||(n.value=!1,s==null||s.closeParents())},40)}}),he(n,p=>{p?s==null||s.register():s==null||s.unregister()});function u(){s==null||s.closeParents()}function f(p){var g,b;t.disabled||p.key==="Tab"&&(n.value=!1,(b=(g=i.value)==null?void 0:g.activatorEl)==null||b.focus())}function m(p){var b;if(t.disabled)return;const g=(b=i.value)==null?void 0:b.contentEl;g&&n.value?p.key==="ArrowDown"?(p.preventDefault(),sr(g,"next")):p.key==="ArrowUp"&&(p.preventDefault(),sr(g,"prev")):["ArrowDown","ArrowUp"].includes(p.key)&&(n.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>m(p))))}const h=T(()=>ie({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-owns":o.value,onKeydown:m},t.activatorProps));return ye(()=>{const[p]=ua.filterProps(t);return d(ua,ie({ref:i,class:["v-menu",t.class],style:t.style},p,{modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,absolute:!0,activatorProps:h.value,"onClick:outside":u,onKeydown:f},r),{activator:a.activator,default:function(){for(var g=arguments.length,b=new Array(g),y=0;y<g;y++)b[y]=arguments[y];return d(Pt,{root:"VMenu"},{default:()=>{var O;return[(O=a.default)==null?void 0:O.call(a,...b)]}})}})}),Ta({id:o,ΨopenChildren:c},i)}}),Rs=t=>(Oa("data-v-1bfb882e"),t=t(),wa(),t),$s={class:"tree-view-item__content"},Ns={class:"text-truncate"},Bs=Rs(()=>z("span",{class:"text-disabled"}," No items found ",-1)),Ms=K({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(t,{emit:e}){const a=t,n=W(!1);function r(){a.actions&&a.actions.length>0&&(n.value=!0)}return(l,o)=>(S(),C(Qe,{"prepend-icon":null,"append-icon":null,onContextmenu:nt(r,["prevent"])},{default:_(()=>[z("div",$s,[l.openable?(S(),C(le,{key:0},{default:_(()=>[I(ne(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(S(),C(le,{key:1})),l.loading?(S(),C(gl,{key:2})):(S(),C(le,{key:3},{default:_(()=>[I(ne(l.prependIcon),1)]),_:1})),z("span",Ns,[at(l.$slots,"default",{},()=>[Bs],!0)]),l.actions&&l.actions.length>0?(S(),C(Ft,{key:4,"menu-items":l.actions,modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=i=>n.value=i)},{activator:_(({props:i})=>[d(le,ie(i,{class:"text-gray-light"}),{default:_(()=>[I(" mdi-dots-vertical ")]),_:2},1040)]),default:_(()=>[d(lt,{density:"compact",items:l.actions,"onClick:select":o[0]||(o[0]=i=>l.$emit("click:action",i.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):se("",!0)])]),_:3},8,["onContextmenu"]))}});const da=me(Ms,[["__scopeId","data-v-1bfb882e"]]),Us=K({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(t,{emit:e}){const a=t,n=[Eo(),xo(),Do(),Lo(),Io(),Vo(Ro,{fallback:!0}),$o(),No(),Bo(),Mo(),Uo(),Go.of([{key:"Enter",run:()=>(e("execute"),!0)},...Fo,...Wo,...zo,...Ho,...qo]),aa.transactionFilter.of(r=>r.newDoc.lines>1?[]:r),...a.additionalExtensions];return(r,l)=>(S(),ee("div",{class:ka(["cm-oneline",{"cm-oneline--with-prepend-icon":r.prependInnerIcon}])},[r.prependInnerIcon?(S(),C(le,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:_(()=>[I(ne(r.prependInnerIcon),1)]),_:1})):se("",!0),d(B(Qo),{"model-value":r.modelValue,extensions:n,placeholder:r.placeholder,disabled:r.disabled,"onUpdate:modelValue":l[0]||(l[0]=o=>r.$emit("update:modelValue",o)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const vr=me(Us,[["__scopeId","data-v-7a3a965d"]]);const Dn=ve()({name:"VCardActions",props:Xe(),setup(t,e){let{slots:a}=e;return Sa({VBtn:{variant:"text"}}),ye(()=>{var n;return d("div",{class:["v-card-actions",t.class],style:t.style},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),Gs=Pa("v-card-subtitle"),Nt=Pa("v-card-title"),Fs=ae({appendAvatar:String,appendIcon:pt,prependAvatar:String,prependIcon:pt,subtitle:String,title:String,...Xe(),...wn()},"VCardItem"),Ws=ve()({name:"VCardItem",props:Fs(),setup(t,e){let{slots:a}=e;return ye(()=>{var c;const n=!!(t.prependAvatar||t.prependIcon),r=!!(n||a.prepend),l=!!(t.appendAvatar||t.appendIcon),o=!!(l||a.append),i=!!(t.title||a.title),s=!!(t.subtitle||a.subtitle);return d("div",{class:["v-card-item",t.class],style:t.style},[r&&d("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?d(Pt,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},a.prepend):n&&d(rn,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),d("div",{class:"v-card-item__content"},[i&&d(Nt,{key:"title"},{default:()=>{var u;return[((u=a.title)==null?void 0:u.call(a))??t.title]}}),s&&d(Gs,{key:"subtitle"},{default:()=>{var u;return[((u=a.subtitle)==null?void 0:u.call(a))??t.subtitle]}}),(c=a.default)==null?void 0:c.call(a)]),o&&d("div",{key:"append",class:"v-card-item__append"},[a.append?d(Pt,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},a.append):l&&d(rn,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),Wt=Pa("v-card-text"),zs=ae({appendAvatar:String,appendIcon:pt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:pt,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Gr(),...Xe(),...wn(),...Zr(),...Fr(),...Jr(),...Xo(),...jo(),...Wr(),...Yo(),...Ut(),...bn(),...Ko({variant:"elevated"})},"VCard"),Ea=ve()({name:"VCard",directives:{Ripple:Zo},props:zs(),setup(t,e){let{attrs:a,slots:n}=e;const{themeClasses:r}=_n(t),{borderClasses:l}=zr(t),{colorClasses:o,colorStyles:i,variantClasses:s}=Jo(t),{densityClasses:c}=el(t),{dimensionStyles:u}=tl(t),{elevationClasses:f}=Hr(t),{loaderClasses:m}=al(t),{locationStyles:h}=ei(t),{positionClasses:p}=ti(t),{roundedClasses:g}=Qr(t),b=ai(t,a),y=T(()=>t.link!==!1&&b.isLink.value),O=T(()=>!t.disabled&&t.link!==!1&&(t.link||b.isClickable.value));return ye(()=>{const x=y.value?"a":t.tag,P=!!(n.title||t.title),w=!!(n.subtitle||t.subtitle),E=P||w,k=!!(n.append||t.appendAvatar||t.appendIcon),R=!!(n.prepend||t.prependAvatar||t.prependIcon),$=!!(n.image||t.image),L=E||R||k,H=!!(n.text||t.text);return nl(d(x,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":O.value},r.value,l.value,o.value,c.value,f.value,m.value,p.value,g.value,s.value,t.class],style:[i.value,u.value,h.value,t.style],href:b.href.value,onClick:O.value&&b.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var Z;return[$&&d("div",{key:"image",class:"v-card__image"},[n.image?d(Pt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):d(On,{key:"image-img",cover:!0,src:t.image},null)]),d(rl,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:n.loader}),L&&d(Ws,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),H&&d(Wt,{key:"text"},{default:()=>{var J;return[((J=n.text)==null?void 0:J.call(n))??t.text]}}),(Z=n.default)==null?void 0:Z.call(n),n.actions&&d(Dn,null,{default:n.actions}),ri(O.value,"v-card")]}}),[[ni("ripple"),O.value&&t.ripple]])}),{}}}),Hs={class:"title-container"},qs={class:"title-container__actions"},Qs=K({__name:"VCardTitleWithActions",setup(t){return(e,a)=>(S(),C(Nt,null,{default:_(()=>[z("div",Hs,[z("span",null,[at(e.$slots,"default",{},void 0,!0)]),z("div",qs,[at(e.$slots,"actions",{},void 0,!0)])])]),_:3}))}});const yl=me(Qs,[["__scopeId","data-v-d57f233d"]]),Xs={};function js(t,e){return S(),C(Qe,{disabled:""},{title:_(()=>[I(" No items found for searched term. ")]),_:1})}const Ys=me(Xs,[["render",js]]),Ks=K({__name:"LabEditorDataGridPropertySelectorSection",props:{gridProps:{},title:{},propertyType:{},selected:{},filteredPropertyDescriptors:{},propertyDescriptors:{},selection:{}},emits:["toggle"],setup(t,{emit:e}){const a=t;function n(){a.selection!==Ae.None?e("toggle",Ae.None):e("toggle",Ae.All)}return(r,l)=>r.propertyDescriptors.length>0?(S(),C(Pn,{key:0,value:r.propertyType},{activator:_(({props:o})=>[d(Qe,Tn(kn(o)),{prepend:_(()=>[d(hl,{start:""},{default:_(()=>[d(fe,{icon:"",variant:"text",onClick:nt(n,["stop"])},{default:_(()=>[r.selection===B(Ae).None?(S(),C(le,{key:0,class:"partial-selection"},{default:_(()=>[I(" mdi-checkbox-blank-outline ")]),_:1})):r.selection===B(Ae).Some?(S(),C(le,{key:1,class:"partial-selection"},{default:_(()=>[I(" mdi-minus-box ")]),_:1})):r.selection===B(Ae).All?(S(),C(le,{key:2},{default:_(()=>[I("mdi-checkbox-marked")]),_:1})):se("",!0)]),_:1},8,["onClick"])]),_:1})]),title:_(()=>[I(ne(r.title)+" ("+ne(r.selected.length||0)+"/"+ne(r.propertyDescriptors.length)+") ",1)]),_:2},1040)]),default:_(()=>[r.filteredPropertyDescriptors.length>0?(S(!0),ee(re,{key:0},Ie(r.filteredPropertyDescriptors,(o,i)=>(S(),ee(re,{key:o.key.toString()},[at(r.$slots,"default",{property:o},void 0,!0),i<r.filteredPropertyDescriptors.length-1?(S(),C(Ca,{key:0,class:"mt-2 mb-2"})):se("",!0)],64))),128)):(S(),C(Ys,{key:1}))]),_:3},8,["value"])):se("",!0)}});const Kt=me(Ks,[["__scopeId","data-v-5ad71a24"]]),Zs={class:"item-title"},Js={class:"item-description"},eu=K({__name:"LabEditorDataGridPropertySelectorSectionItem",props:{value:{},title:{},description:{default:void 0},flags:{default:()=>[]},openable:{type:Boolean,default:!1}},emits:["schemaOpen"],setup(t,{emit:e}){return(a,n)=>(S(),C(Qe,{value:a.value},li({prepend:_(({isActive:r})=>[d(hl,{start:""},{default:_(()=>[d(Gt,{"model-value":r},null,8,["model-value"])]),_:2},1024)]),title:_(()=>[z("div",Zs,[z("span",null,ne(a.title),1),a.flags?(S(),C(oi,{key:0},{default:_(()=>[(S(!0),ee(re,null,Ie(a.flags,r=>(S(),C(ll,{key:r,variant:"plain",class:"text-sm-body-2"},{default:_(()=>[I(ne(r),1)]),_:2},1024))),128))]),_:1})):se("",!0)])]),_:2},[a.description?{name:"subtitle",fn:_(()=>[z("div",Js,[I(ne(a.description)+" ",1),d(Pe,{activator:"parent","max-width":"500"},{default:_(()=>[d(Cn,{source:a.description},null,8,["source"])]),_:1})])]),key:"0"}:void 0,a.openable?{name:"append",fn:_(()=>[d(fe,{icon:"",variant:"text",onClick:n[0]||(n[0]=nt(r=>e("schemaOpen"),["stop"]))},{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-open-in-new")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Open schema ")]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["value"]))}});const xa=me(eu,[["__scopeId","data-v-4b7926d4"]]),tu=K({__name:"LabEditorDataGridPropertySelectorSectionAttributeItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Ze(),r=Je(),l=n.getAttributeSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Et(a.gridProps.params.dataPointer.connection,new ii(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),C(xa,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:B(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),au=K({__name:"LabEditorDataGridPropertySelectorSectionAssociatedDataItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Ze(),r=Je(),l=n.getAssociatedDataSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Et(a.gridProps.params.dataPointer.connection,new si(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),C(xa,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:B(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),nu=K({__name:"LabEditorDataGridPropertySelectorSectionEntityItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Je();function r(){n.createTabRequest(new Et(a.gridProps.params.dataPointer.connection,new ol(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType))),e("schemaOpen")}return(l,o)=>(S(),C(xa,{value:l.propertyDescriptor.key,title:l.propertyDescriptor.title,openable:"",onSchemaOpen:r},null,8,["value","title"]))}}),ru=K({__name:"LabEditorDataGridPropertySelectorSectionReferenceItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(t,{emit:e}){const a=t,n=Ze(),r=Je(),l=n.getReferenceSchemaFlags(a.propertyDescriptor.schema);function o(){r.createTabRequest(new Et(a.gridProps.params.dataPointer.connection,new ui(a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,a.propertyDescriptor.schema.name))),e("schemaOpen")}return(i,s)=>{var c;return S(),C(xa,{value:i.propertyDescriptor.key,title:i.propertyDescriptor.title,description:(c=i.propertyDescriptor.schema)==null?void 0:c.description,flags:B(l),openable:"",onSchemaOpen:o},null,8,["value","title","description","flags"])}}}),lu={name:"Hotkeys",data:()=>({supportedShortcuts:[]}),props:{shortcuts:{type:Array,required:!0},debug:{type:Boolean,default:!1}},methods:{onUseKeyboardShortcuts(t){const e=t.keyCode||t.which,a=window.navigator.platform.match("Mac")?t.metaKey:t.ctrlKey,n=this.supportedShortcuts.some(({keyCode:r})=>r===e);if(a&&n){const{keyString:r}=this.supportedShortcuts.find(({keyCode:l})=>l===e);this.debug&&console.log(`CMD (CTRL) + ${r} (${e}) pressed`),this.$emit("triggered",{key:e,keyString:r}),t.preventDefault()}}},created(){this.shortcuts&&this.shortcuts.length&&this.shortcuts.forEach(t=>{t&&(t=="ArrowLeft"?this.supportedShortcuts.push({keyString:t,keyCode:37}):t=="ArrowRight"?this.supportedShortcuts.push({keyString:t,keyCode:39}):t=="ArrowUp"?this.supportedShortcuts.push({keyString:t,keyCode:38}):t=="ArrowDown"?this.supportedShortcuts.push({keyString:t,keyCode:40}):this.supportedShortcuts.push({keyString:t,keyCode:t.charCodeAt(0)}))})},mounted(){document.addEventListener("keydown",this.onUseKeyboardShortcuts,!1),this.debug&&console.log("Vue Keyboard Shortcuts ENABLED")},beforeDestroy(){document.removeEventListener("keydown",this.onUseKeyboardShortcuts),this.debug&&console.log("Vue Keyboard Shortcuts DISABLED")}};function ou(t,e,a,n,r,l){return null}const iu=me(lu,[["render",ou]]);const su=ae({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Kr({origin:"center center",scrollStrategy:"block",transition:{component:En},zIndex:2400})},"VDialog"),Ln=ve()({name:"VDialog",props:su(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:a}=e;const n=Be(t,"modelValue"),{scopeId:r}=Sn(),l=W();function o(s){var f,m;const c=s.relatedTarget,u=s.target;if(c!==u&&((f=l.value)!=null&&f.contentEl)&&((m=l.value)!=null&&m.globalTop)&&![document,l.value.contentEl].includes(u)&&!l.value.contentEl.contains(u)){const h=di(l.value.contentEl);if(!h.length)return;const p=h[0],g=h[h.length-1];c===p?g.focus():p.focus()}}ci&&he(()=>n.value&&t.retainFocus,s=>{s?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),he(n,async s=>{var c,u;await jr(),s?(c=l.value.contentEl)==null||c.focus({preventScroll:!0}):(u=l.value.activatorEl)==null||u.focus({preventScroll:!0})});const i=T(()=>ie({"aria-haspopup":"dialog","aria-expanded":String(n.value)},t.activatorProps));return ye(()=>{const[s]=ua.filterProps(t);return d(ua,ie({ref:l,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},s,{modelValue:n.value,"onUpdate:modelValue":c=>n.value=c,"aria-modal":"true",activatorProps:i.value,role:"dialog"},r),{activator:a.activator,default:function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return d(Pt,{root:"VDialog"},{default:()=>{var m;return[(m=a.default)==null?void 0:m.call(a,...u)]}})}})}),Ta({},l)}}),uu=K({__name:"LabEditorDataGridPropertySelector",props:{gridProps:{},modelValue:{type:Boolean},selected:{},propertyDescriptors:{}},emits:["update:modelValue","update:selected","schemaOpen"],setup(t,{emit:e}){const a=t,n=ze(),r=W(""),l=W(null),o=T(()=>{const h=new Map;return a.propertyDescriptors.forEach(p=>{var g;h.has(p.type)||h.set(p.type,[]),(g=h.get(p.type))==null||g.push(p)}),h}),i=T(()=>{const h=new Map;for(const[p,g]of o.value){const b=g.filter(y=>y.title.toLowerCase().includes(r.value));h.set(p,b)}return h}),s=T(()=>{const h=new Map;return a.selected.forEach(p=>{var g;h.has(p.type)||h.set(p.type,[]),(g=h.get(p.type))==null||g.push(p)}),h}),c=T(()=>{var p;const h=new Map;for(const[g,b]of s.value){let y;b.length===0?y=Ae.None:b.length===((p=o.value.get(g))==null?void 0:p.length)?y=Ae.All:y=Ae.Some,h.set(g,y)}return h}),u=W([]);function f(h){if(r.value=h.toLowerCase(),h.length===0)u.value=[];else{const p=[];i.value.size>0&&((i.value.get(Q.Entity)||[]).length>0&&p.push(Q.Entity),(i.value.get(Q.Attributes)||[]).length>0&&p.push(Q.Attributes),(i.value.get(Q.AssociatedData)||[]).length>0&&p.push(Q.AssociatedData),(i.value.get(Q.References)||[]).length>0&&p.push(Q.References)),u.value=p}}function m(h,p){var g;if(p===Ae.None){const b=a.selected.filter(y=>y.type!==h);e("update:selected",b)}else if(p===Ae.All){const b=((g=o.value.get(h))==null?void 0:g.map(O=>O.key))||[],y=a.selected.filter(O=>O.type!==h);y.push(...b),e("update:selected",y)}else n.error(new rt(a.gridProps.params.dataPointer.connection,"Cannot select `Some` properties in a section."))}return(h,p)=>(S(),C(Ln,{"model-value":h.modelValue,"onUpdate:modelValue":p[14]||(p[14]=g=>e("update:modelValue",g)),"max-width":"60rem",scrollable:""},{activator:_(({props:g})=>[d(fe,ie({icon:"",density:"comfortable"},g),{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-view-column-outline")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Select displayed properties ")]),_:1})]),_:2},1040)]),default:_(()=>[d(Ea,{class:"py-8 px-4"},{default:_(()=>[d(yl,null,{default:_(()=>[I(" Displayed properties ")]),actions:_(()=>[d(fe,{icon:"",variant:"flat",density:"compact",onClick:p[0]||(p[0]=g=>e("update:modelValue",!1))},{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-close")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Close selector ")]),_:1})]),_:1})]),_:1}),d(Wt,{class:"selector-body pt-0 pl-4 mt-4"},{default:_(()=>[d(iu,{shortcuts:["F"],onTriggered:p[1]||(p[1]=g=>{var b;return(b=l.value)==null?void 0:b.select()})}),d(kt,{ref_key:"filterInput",ref:l,"model-value":r.value,label:"Filter properties",variant:"solo-filled",density:"compact",autofocus:"","append-inner-icon":r.value?"mdi-close-circle-outline":null,"onUpdate:modelValue":p[2]||(p[2]=g=>f(g)),"onClick:appendInner":p[3]||(p[3]=g=>f("")),class:"filter-input"},null,8,["model-value","append-inner-icon"]),d(lt,{selected:h.selected,"onUpdate:selected":p[12]||(p[12]=g=>e("update:selected",g)),opened:u.value,"onUpdate:opened":p[13]||(p[13]=g=>u.value=g),lines:"two","open-strategy":"multiple","select-strategy":"classic",class:"property-list"},{default:_(()=>[d(Kt,{"grid-props":h.gridProps,title:"Entity","property-type":B(Q).Entity,selected:s.value.get(B(Q).Entity)||[],"filtered-property-descriptors":i.value.get(B(Q).Entity)||[],"property-descriptors":o.value.get(B(Q).Entity)||[],selection:c.value.get(B(Q).Entity)||B(Ae).None,onToggle:p[5]||(p[5]=g=>m(B(Q).Entity,g))},{default:_(({property:g})=>[d(nu,{"grid-props":h.gridProps,"property-descriptor":g,onSchemaOpen:p[4]||(p[4]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(Kt,{"grid-props":h.gridProps,title:"Attributes","property-type":B(Q).Attributes,selected:s.value.get(B(Q).Attributes)||[],"filtered-property-descriptors":i.value.get(B(Q).Attributes)||[],"property-descriptors":o.value.get(B(Q).Attributes)||[],selection:c.value.get(B(Q).Attributes)||B(Ae).None,onToggle:p[7]||(p[7]=g=>m(B(Q).Attributes,g))},{default:_(({property:g})=>[d(tu,{"grid-props":h.gridProps,"property-descriptor":g,onSchemaOpen:p[6]||(p[6]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(Kt,{"grid-props":h.gridProps,title:"Associated data","property-type":B(Q).AssociatedData,selected:s.value.get(B(Q).AssociatedData)||[],"filtered-property-descriptors":i.value.get(B(Q).AssociatedData)||[],"property-descriptors":o.value.get(B(Q).AssociatedData)||[],selection:c.value.get(B(Q).AssociatedData)||B(Ae).None,onToggle:p[9]||(p[9]=g=>m(B(Q).AssociatedData,g))},{default:_(({property:g})=>[d(au,{"grid-props":h.gridProps,"property-descriptor":g,onSchemaOpen:p[8]||(p[8]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),d(Kt,{"grid-props":h.gridProps,title:"References","property-type":B(Q).References,selected:s.value.get(B(Q).References)||[],"filtered-property-descriptors":i.value.get(B(Q).References)||[],"property-descriptors":o.value.get(B(Q).References)||[],selection:c.value.get(B(Q).References)||B(Ae).None,onToggle:p[11]||(p[11]=g=>m(B(Q).References,g))},{default:_(({property:g})=>[d(ru,{"grid-props":h.gridProps,"property-descriptor":g,onSchemaOpen:p[10]||(p[10]=b=>e("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"])]),_:1},8,["selected","opened"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}});const cu=me(uu,[["__scopeId","data-v-a6d87022"]]),du=K({__name:"LabEditorDataGridDataLocaleSelector",props:{selected:{},dataLocales:{}},emits:["update:selected"],setup(t,{emit:e}){function a(n){if(n.length>0){const r=n[0];r==="none"?e("update:selected",void 0):e("update:selected",r)}else e("update:selected",void 0)}return(n,r)=>(S(),C(fe,{icon:"",density:"comfortable"},{default:_(()=>[n.selected?(S(),C(le,{key:1},{default:_(()=>[I("mdi-translate")]),_:1})):(S(),C(le,{key:0},{default:_(()=>[I("mdi-translate-off")]),_:1})),d(Pe,{activator:"parent"},{default:_(()=>[I(" Select data locale ")]),_:1}),d(Ft,{activator:"parent"},{default:_(()=>[d(lt,{selected:[n.selected?n.selected:"none"],density:"compact","min-width":"100","onUpdate:selected":a},{default:_(()=>[d(Qe,{value:"none"},{default:_(()=>[d(ln,null,{default:_(()=>[I("None")]),_:1})]),_:1}),d(Ca,{class:"mt-2 mb-2"}),(S(!0),ee(re,null,Ie(n.dataLocales,l=>(S(),C(Qe,{key:l,value:l},{default:_(()=>[d(ln,null,{default:_(()=>[I(ne(l),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),pu=K({__name:"LabEditorDataGridQueryLanguageSelector",props:{selected:{}},emits:["update:selected"],setup(t,{emit:e}){const a=t,n=[{title:"EvitaQL",icon:"mdi-application-braces-outline",value:na.EvitaQL},{title:"GraphQL",icon:"mdi-graphql",value:na.GraphQL}],r=T(()=>{const l=n.find(o=>o.value===a.selected);return l?l.icon:"mdi-application-braces-outline"});return(l,o)=>(S(),C(fe,{icon:"",density:"comfortable"},{default:_(()=>[d(le,null,{default:_(()=>[I(ne(r.value),1)]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I("Select query language")]),_:1}),d(Ft,{activator:"parent"},{default:_(()=>[d(lt,{selected:[l.selected],density:"compact","onUpdate:selected":o[0]||(o[0]=i=>e("update:selected",i.length>0?i[0]:B(na).EvitaQL))},{default:_(()=>[(S(),ee(re,null,Ie(n,i=>d(Qe,{key:i.value,value:i.value},{prepend:_(()=>[d(le,null,{default:_(()=>[I(ne(i.icon),1)]),_:2},1024)]),default:_(()=>[d(ln,null,{default:_(()=>[I(ne(i.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),fu={class:"query-input"},mu={class:"query-input__input"},hu={class:"query-input__input"},vu=K({__name:"LabEditorDataGridQueryInput",props:{gridProps:{},selectedQueryLanguage:{},filterBy:{},orderBy:{},dataLocales:{},selectedDataLocale:{},entityPropertyDescriptors:{},selectedEntityPropertyKeys:{}},emits:["executeQuery","update:selectedQueryLanguage","update:filterBy","update:orderBy","update:selectedDataLocale","update:selectedEntityPropertyKeys"],setup(t,{emit:e}){const a=W(!1);return(n,r)=>(S(),ee("div",fu,[d(pu,{selected:n.selectedQueryLanguage,"onUpdate:selected":r[0]||(r[0]=l=>e("update:selectedQueryLanguage",l))},null,8,["selected"]),z("div",mu,[d(vr,{"model-value":n.filterBy,"prepend-inner-icon":"mdi-filter-outline",placeholder:"Filter by","onUpdate:modelValue":r[1]||(r[1]=l=>e("update:filterBy",l)),onExecute:r[2]||(r[2]=l=>e("executeQuery")),class:"text-gray-light"},null,8,["model-value"])]),z("div",hu,[d(vr,{"model-value":n.orderBy,"prepend-inner-icon":"mdi-sort",placeholder:"Order by","onUpdate:modelValue":r[3]||(r[3]=l=>e("update:orderBy",l)),onExecute:r[4]||(r[4]=l=>e("executeQuery")),class:"text-gray-light"},null,8,["model-value"])]),d(du,{selected:n.selectedDataLocale,"onUpdate:selected":r[5]||(r[5]=l=>e("update:selectedDataLocale",l)),"data-locales":n.dataLocales},null,8,["selected","data-locales"]),d(cu,{modelValue:a.value,"onUpdate:modelValue":r[6]||(r[6]=l=>a.value=l),"grid-props":n.gridProps,"property-descriptors":n.entityPropertyDescriptors,selected:n.selectedEntityPropertyKeys,"onUpdate:selected":r[7]||(r[7]=l=>e("update:selectedEntityPropertyKeys",l)),onSchemaOpen:r[8]||(r[8]=l=>a.value=!1)},null,8,["modelValue","grid-props","property-descriptors","selected"])]))}});const gu=me(vu,[["__scopeId","data-v-60b6170b"]]),yu=K({__name:"LabEditorDataGridToolbar",props:{path:{},locale:{},loading:{type:Boolean}},emits:["executeQuery"],setup(t,{emit:e}){const a=t,n=T(()=>{const r=[];return a.locale&&r.push({title:a.locale,prependIcon:"mdi-translate"}),r});return(r,l)=>(S(),C(fi,{"prepend-icon":"mdi-text-box-edit-outline",path:r.path,flags:n.value},{append:_(()=>[d(pi,{onClick:l[0]||(l[0]=o=>e("executeQuery"))})]),extension:_(()=>[at(r.$slots,"query")]),_:3},8,["path","flags"]))}});const bu=ae({renderless:Boolean,...Xe()},"VVirtualScrollItem"),_u=ve()({name:"VVirtualScrollItem",inheritAttrs:!1,props:bu(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:a,emit:n,slots:r}=e;const{resizeRef:l,contentRect:o}=il(void 0,"border");he(()=>{var i;return(i=o.value)==null?void 0:i.height},i=>{i!=null&&n("update:height",i)}),ye(()=>{var i,s;return t.renderless?d(re,null,[(i=r.default)==null?void 0:i.call(r,{itemRef:l})]):d("div",ie({ref:l,class:["v-virtual-scroll__item",t.class],style:t.style},a),[(s=r.default)==null?void 0:s.call(r)])})}}),gr=-1,yr=1,Su=ae({itemHeight:{type:[Number,String],default:48}},"virtual");function Ou(t,e,a){const n=Oe(0),r=Oe(t.itemHeight),l=T({get:()=>parseInt(r.value??0,10),set(k){r.value=k}}),o=W(),{resizeRef:i,contentRect:s}=il();Mt(()=>{i.value=o.value});const c=qr(),u=new Map;let f=Array.from({length:e.value.length});const m=T(()=>{const k=(!s.value||o.value===document.documentElement?c.height.value:s.value.height)-((a==null?void 0:a.value)??0);return Math.ceil(k/l.value*1.7+1)});function h(k,R){l.value=Math.max(l.value,R),f[k]=R,u.set(e.value[k],R)}function p(k){return f.slice(0,k).reduce((R,$)=>R+($||l.value),0)}function g(k){const R=e.value.length;let $=0,L=0;for(;L<k&&$<R;)L+=f[$++]||l.value;return $-1}let b=0;function y(){if(!o.value||!s.value)return;const k=s.value.height-56,R=o.value.scrollTop,$=R<b?gr:yr,L=g(R+k/2),H=Math.round(m.value/3),Z=L-H,J=n.value+H*2-1;$===gr&&L<=J?n.value=Tt(Z,0,e.value.length):$===yr&&L>=J&&(n.value=Tt(Z,0,e.value.length-m.value)),b=R}function O(k){if(!o.value)return;const R=p(k);o.value.scrollTop=R}const x=T(()=>Math.min(e.value.length,n.value+m.value)),P=T(()=>e.value.slice(n.value,x.value).map((k,R)=>({raw:k,index:R+n.value}))),w=T(()=>p(n.value)),E=T(()=>p(e.value.length)-p(x.value));return he(()=>e.value.length,()=>{f=on(e.value.length).map(()=>l.value),u.forEach((k,R)=>{const $=e.value.indexOf(R);$===-1?u.delete(R):f[$]=k})}),{containerRef:o,computedItems:P,itemHeight:l,paddingTop:w,paddingBottom:E,scrollToIndex:O,handleScroll:y,handleItemResize:h}}const wu=ae({items:{type:Array,default:()=>[]},renderless:Boolean,...Su(),...Xe(),...Zr()},"VVirtualScroll"),Tu=ve()({name:"VVirtualScroll",props:wu(),setup(t,e){let{slots:a}=e;const n=sl("VVirtualScroll"),{dimensionStyles:r}=tl(t),{containerRef:l,handleScroll:o,handleItemResize:i,scrollToIndex:s,paddingTop:c,paddingBottom:u,computedItems:f}=Ou(t,pe(t,"items"));return Ur(()=>t.renderless,()=>{_a(()=>{var m;l.value=mi(n.vnode.el,!0),(m=l.value)==null||m.addEventListener("scroll",o)}),hi(()=>{var m;(m=l.value)==null||m.removeEventListener("scroll",o)})}),ye(()=>{const m=f.value.map(h=>d(_u,{key:h.index,renderless:t.renderless,"onUpdate:height":p=>i(h.index,p)},{default:p=>{var g;return(g=a.default)==null?void 0:g.call(a,{item:h.raw,index:h.index,...p})}}));return t.renderless?d(re,null,[d("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:$e(c.value)}},null),m,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:$e(u.value)}},null)]):d("div",{ref:l,class:["v-virtual-scroll",t.class],onScroll:o,style:[r.value,t.style]},[d("div",{class:"v-virtual-scroll__container",style:{paddingTop:$e(c.value),paddingBottom:$e(u.value)}},[m])])}),{scrollToIndex:s}}});function ku(t,e){const a=Oe(!1);let n;function r(i){cancelAnimationFrame(n),a.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{a.value=!1})})}async function l(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(a.value){const s=he(a,()=>{s(),i()})}else i()})}async function o(i){var u,f;if(i.key==="Tab"&&((u=e.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(i.key))return;const s=(f=t.value)==null?void 0:f.$el;if(!s)return;(i.key==="Home"||i.key==="End")&&s.scrollTo({top:i.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await l();const c=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const m=s.getBoundingClientRect().top;for(const h of c)if(h.getBoundingClientRect().top>=m){h.focus();break}}else{const m=s.getBoundingClientRect().bottom;for(const h of[...c].reverse())if(h.getBoundingClientRect().bottom<=m){h.focus();break}}}return{onListScroll:r,onListKeydown:o}}const Pu=ae({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:pt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:ul},...vi({itemChildren:!1})},"Select"),Cu=ae({...Pu(),...Yr(gi({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...yi({transition:{component:En}})},"VSelect"),Au=ve()({name:"VSelect",props:Cu(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:a}=e;const{t:n}=Aa(),r=W(),l=W(),o=Be(t,"menu"),i=T({get:()=>o.value,set:V=>{var X;o.value&&!V&&((X=l.value)!=null&&X.ΨopenChildren)||(o.value=V)}}),{items:s,transformIn:c,transformOut:u}=bi(t),f=Be(t,"modelValue",[],V=>c(V===null?[null]:ca(V)),V=>{const X=u(V);return t.multiple?X:X[0]??null}),m=_i(),h=T(()=>f.value.map(V=>s.value.find(X=>t.valueComparator(X.value,V.value))||V)),p=T(()=>h.value.map(V=>V.props.value)),g=Oe(!1);let b="",y;const O=T(()=>t.hideSelected?s.value.filter(V=>!h.value.some(X=>X===V)):s.value),x=T(()=>t.hideNoData&&!s.value.length||t.readonly||(m==null?void 0:m.isReadonly.value)),P=W(),{onListScroll:w,onListKeydown:E}=ku(P,r);function k(V){t.openOnClear&&(i.value=!0)}function R(){x.value||(i.value=!i.value)}function $(V){var N,U;if(!V.key||t.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(V.key)&&V.preventDefault(),["Enter","ArrowDown"," "].includes(V.key)&&(i.value=!0),["Escape","Tab"].includes(V.key)&&(i.value=!1),V.key==="Home"?(N=P.value)==null||N.focus("first"):V.key==="End"&&((U=P.value)==null||U.focus("last"));const X=1e3;function oe(j){const q=j.key.length===1,de=!j.ctrlKey&&!j.metaKey&&!j.altKey;return q&&de}if(t.multiple||!oe(V))return;const G=performance.now();G-y>X&&(b=""),b+=V.key.toLowerCase(),y=G;const D=s.value.find(j=>j.title.toLowerCase().startsWith(b));D!==void 0&&(f.value=[D])}function L(V){if(t.multiple){const X=p.value.findIndex(oe=>t.valueComparator(oe,V.value));if(X===-1)f.value=[...f.value,V];else{const oe=[...f.value];oe.splice(X,1),f.value=oe}}else f.value=[V],i.value=!1}function H(V){var X;(X=P.value)!=null&&X.$el.contains(V.relatedTarget)||(i.value=!1)}function Z(){var V;g.value&&((V=r.value)==null||V.focus())}function J(V){g.value=!0}function ge(V){var X,oe;if(V==null)f.value=[];else if((X=r.value)!=null&&X.matches(":autofill")||(oe=r.value)!=null&&oe.matches(":-webkit-autofill")){const G=s.value.find(D=>D.title===V);G&&L(G)}else r.value&&(r.value.value="")}return ye(()=>{const V=!!(t.chips||a.chip),X=!!(!t.hideNoData||O.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),oe=f.value.length>0,[G]=kt.filterProps(t),D=oe||!g.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return d(kt,ie({ref:r},G,{modelValue:f.value.map(N=>N.props.value).join(", "),"onUpdate:modelValue":ge,focused:g.value,"onUpdate:focused":N=>g.value=N,validationValue:f.externalValue,dirty:oe,class:["v-select",{"v-select--active-menu":i.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!a.selection},t.class],style:t.style,inputmode:"none",placeholder:D,"onClick:clear":k,"onMousedown:control":R,onBlur:H,onKeydown:$}),{...a,default:()=>d(re,null,[d(Ft,ie({ref:l,modelValue:i.value,"onUpdate:modelValue":N=>i.value=N,activator:"parent",contentClass:"v-select__content",disabled:x.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:Z},t.menuProps),{default:()=>[X&&d(lt,{ref:P,selected:p.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:N=>N.preventDefault(),onKeydown:E,onFocusin:J,onScrollPassive:w,tabindex:"-1"},{default:()=>{var N,U,j;return[(N=a["prepend-item"])==null?void 0:N.call(a),!O.value.length&&!t.hideNoData&&(((U=a["no-data"])==null?void 0:U.call(a))??d(Qe,{title:n(t.noDataText)},null)),d(Tu,{renderless:!0,items:O.value},{default:q=>{var et;let{item:de,index:_e,itemRef:mt}=q;const Re=ie(de.props,{ref:mt,key:_e,onClick:()=>L(de)});return((et=a.item)==null?void 0:et.call(a,{item:de,index:_e,props:Re}))??d(Qe,Re,{prepend:ot=>{let{isSelected:Ge}=ot;return d(re,null,[t.multiple&&!t.hideSelected?d(Gt,{key:de.value,modelValue:Ge,ripple:!1,tabindex:"-1"},null):void 0,de.props.prependIcon&&d(le,{icon:de.props.prependIcon},null)])}})}}),(j=a["append-item"])==null?void 0:j.call(a)]}})]}),h.value.map((N,U)=>{var de;function j(_e){_e.stopPropagation(),_e.preventDefault(),L(N)}const q={"onClick:close":j,onMousedown(_e){_e.preventDefault(),_e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return d("div",{key:N.value,class:"v-select__selection"},[V?a.chip?d(Pt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:N.title}}},{default:()=>{var _e;return[(_e=a.chip)==null?void 0:_e.call(a,{item:N,index:U,props:q})]}}):d(ll,ie({key:"chip",closable:t.closableChips,size:"small",text:N.title},q),null):((de=a.selection)==null?void 0:de.call(a,{item:N,index:U}))??d("span",{class:"v-select__selection-text"},[N.title,t.multiple&&U<h.value.length-1&&d("span",{class:"v-select__selection-comma"},[I(",")])])])})]),"append-inner":function(){var q;for(var N=arguments.length,U=new Array(N),j=0;j<N;j++)U[j]=arguments[j];return d(re,null,[(q=a["append-inner"])==null?void 0:q.call(a,...U),t.menuIcon?d(le,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Ta({isFocused:g,menu:i,select:L},r)}}),bl=ae({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),_l=Symbol.for("vuetify:data-table-pagination");function Sl(t){const e=Be(t,"page",void 0,n=>+(n??1)),a=Be(t,"itemsPerPage",void 0,n=>+(n??10));return{page:e,itemsPerPage:a}}function Ol(t){const{page:e,itemsPerPage:a,itemsLength:n}=t,r=T(()=>a.value===-1?0:a.value*(e.value-1)),l=T(()=>a.value===-1?n.value:Math.min(n.value,r.value+a.value)),o=T(()=>a.value===-1||n.value===0?1:Math.ceil(n.value/a.value));Mt(()=>{e.value>o.value&&(e.value=o.value)});function i(m){a.value=m,e.value=1}function s(){e.value=Tt(e.value+1,1,o.value)}function c(){e.value=Tt(e.value-1,1,o.value)}function u(m){e.value=Tt(m,1,o.value)}const f={page:e,itemsPerPage:a,startIndex:r,stopIndex:l,pageCount:o,itemsLength:n,nextPage:s,prevPage:c,setPage:u,setItemsPerPage:i};return je(_l,f),f}function Eu(){const t=qe(_l);if(!t)throw new Error("Missing pagination!");return t}function xu(t){const{items:e,startIndex:a,stopIndex:n,itemsPerPage:r}=t;return{paginatedItems:T(()=>r.value<=0?e.value:e.value.slice(a.value,n.value))}}const In=ae({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),pa=ve()({name:"VDataTableFooter",props:In(),setup(t,e){let{slots:a}=e;const{t:n}=Aa(),{page:r,pageCount:l,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:c,setItemsPerPage:u}=Eu(),f=T(()=>t.itemsPerPageOptions.map(m=>({...m,title:n(m.title)})));return()=>{var m;return d("div",{class:"v-data-table-footer"},[(m=a.prepend)==null?void 0:m.call(a),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[n(t.itemsPerPageText)]),d(Au,{items:f.value,modelValue:c.value,"onUpdate:modelValue":h=>u(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[n(t.pageText,s.value?o.value+1:0,i.value,s.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(fe,{icon:t.firstIcon,variant:"plain",onClick:()=>r.value=1,disabled:r.value===1,"aria-label":n(t.firstPageLabel)},null),d(fe,{icon:t.prevIcon,variant:"plain",onClick:()=>r.value=Math.max(1,r.value-1),disabled:r.value===1,"aria-label":n(t.prevPageLabel)},null),t.showCurrentPage&&d("span",{key:"page",class:"v-data-table-footer__page"},[r.value]),d(fe,{icon:t.nextIcon,variant:"plain",onClick:()=>r.value=Math.min(l.value,r.value+1),disabled:r.value===l.value,"aria-label":n(t.nextPageLabel)},null),d(fe,{icon:t.lastIcon,variant:"plain",onClick:()=>r.value=l.value,disabled:r.value===l.value,"aria-label":n(t.lastPageLabel)},null)])])}}}),Vn=Si({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(t,e)=>{let{slots:a,attrs:n}=e;const r=t.tag??"td";return d(r,ie({class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding},`v-data-table-column--align-${t.align}`],style:{height:$e(t.height),width:$e(t.width),left:$e(t.fixedOffset||null)}},n),{default:()=>{var l;return[(l=a.default)==null?void 0:l.call(a)]}})}),Du=ae({headers:{type:Array,default:()=>[]}},"DataTable-header"),wl=Symbol.for("vuetify:data-table-headers");function Tl(t,e){const a=W([]),n=W([]);Mt(()=>{var h,p,g;const l=t.headers.length?Array.isArray(t.headers[0])?t.headers:[t.headers]:[],o=l.flatMap((b,y)=>b.map(O=>({column:O,row:y}))),i=l.length,s={title:"",sortable:!1},c={...s,width:48};if((h=e==null?void 0:e.groupBy)!=null&&h.value.length){const b=o.findIndex(y=>{let{column:O}=y;return O.key==="data-table-group"});b<0?o.unshift({column:{...s,key:"data-table-group",title:"Group",rowspan:i},row:0}):o.splice(b,1,{column:{...s,...o[b].column},row:o[b].row})}if((p=e==null?void 0:e.showSelect)!=null&&p.value){const b=o.findIndex(y=>{let{column:O}=y;return O.key==="data-table-select"});b<0?o.unshift({column:{...c,key:"data-table-select",rowspan:i},row:0}):o.splice(b,1,{column:{...c,...o[b].column},row:o[b].row})}if((g=e==null?void 0:e.showExpand)!=null&&g.value){const b=o.findIndex(y=>{let{column:O}=y;return O.key==="data-table-expand"});b<0?o.push({column:{...c,key:"data-table-expand",rowspan:i},row:0}):o.splice(b,1,{column:{...c,...o[b].column},row:o[b].row})}const u=on(i).map(()=>[]),f=on(i).fill(0);o.forEach(b=>{let{column:y,row:O}=b,x=y.key;x==null&&(x="");for(let P=O;P<=O+(y.rowspan??1)-1;P++)u[P].push({...y,key:x,fixedOffset:f[P],sortable:y.sortable??!!y.key}),f[P]+=Number(y.width??0)}),u.forEach(b=>{for(let y=b.length;y--;y>=0)if(b[y].fixed){b[y].lastFixed=!0;return}});const m=new Set;a.value=u.map(b=>{const y=[];for(const O of b)m.has(O.key)||(m.add(O.key),y.push(O));return y}),n.value=u.at(-1)??[]});const r={headers:a,columns:n};return je(wl,r),r}function Da(){const t=qe(wl);if(!t)throw new Error("Missing headers!");return t}const Lu={showSelectAll:!1,allSelected:()=>[],select:t=>{var n;let{items:e,value:a}=t;return new Set(a?[(n=e[0])==null?void 0:n.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},kl={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:a,selected:n}=t;for(const r of e)a?n.add(r.value):n.delete(r.value);return n},selectAll:t=>{let{value:e,currentPage:a,selected:n}=t;return kl.select({items:a,value:e,selected:n})}},Pl={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:a,selected:n}=t;for(const r of e)a?n.add(r.value):n.delete(r.value);return n},selectAll:t=>{let{value:e,allItems:a,selected:n}=t;return Pl.select({items:a,value:e,selected:n})}},Iu=ae({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Cl=Symbol.for("vuetify:data-table-selection");function Al(t,e){let{allItems:a,currentPage:n}=e;const r=Be(t,"modelValue",t.modelValue,b=>new Set(b),b=>[...b.values()]),l=T(()=>a.value.filter(b=>b.selectable)),o=T(()=>n.value.filter(b=>b.selectable)),i=T(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return Lu;case"all":return Pl;case"page":default:return kl}});function s(b){return ca(b).every(y=>r.value.has(y.value))}function c(b){return ca(b).some(y=>r.value.has(y.value))}function u(b,y){const O=i.value.select({items:b,value:y,selected:new Set(r.value)});r.value=O}function f(b){u([b],!s([b]))}function m(b){const y=i.value.selectAll({value:b,allItems:l.value,currentPage:o.value,selected:new Set(r.value)});r.value=y}const h=T(()=>r.value.size>0),p=T(()=>{const b=i.value.allSelected({allItems:l.value,currentPage:o.value});return s(b)}),g={toggleSelect:f,select:u,selectAll:m,isSelected:s,isSomeSelected:c,someSelected:h,allSelected:p,showSelectAll:i.value.showSelectAll};return je(Cl,g),g}function La(){const t=qe(Cl);if(!t)throw new Error("Missing selection!");return t}const Vu=ae({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),El=Symbol.for("vuetify:data-table-sort");function xl(t){const e=Be(t,"sortBy"),a=pe(t,"mustSort"),n=pe(t,"multiSort");return{sortBy:e,mustSort:a,multiSort:n}}function Dl(t){const{sortBy:e,mustSort:a,multiSort:n,page:r}=t,l=s=>{let c=e.value.map(f=>({...f}))??[];const u=c.find(f=>f.key===s.key);u?u.order==="desc"?a.value?u.order="asc":c=c.filter(f=>f.key!==s.key):u.order="desc":n.value?c=[...c,{key:s.key,order:"asc"}]:c=[{key:s.key,order:"asc"}],e.value=c,r&&(r.value=1)};function o(s){return!!e.value.find(c=>c.key===s.key)}const i={sortBy:e,toggleSort:l,isSorted:o};return je(El,i),i}function Ru(){const t=qe(El);if(!t)throw new Error("Missing sort!");return t}function $u(t,e,a){const n=Aa();return{sortedItems:T(()=>a.value.length?Nu(e.value,a.value,n.current.value,t.customKeySort):e.value)}}function Nu(t,e,a,n){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...t].sort((l,o)=>{for(let i=0;i<e.length;i++){const s=e[i].key,c=e[i].order??"asc";if(c===!1)continue;let u=sn(l.raw,s),f=sn(o.raw,s);if(c==="desc"&&([u,f]=[f,u]),n!=null&&n[s]){const m=n[s](u,f);if(!m)continue;return m}if(u instanceof Date&&f instanceof Date)return u.getTime()-f.getTime();if([u,f]=[u,f].map(m=>m!=null?m.toString().toLocaleLowerCase():m),u!==f)return Yt(u)&&Yt(f)?0:Yt(u)?-1:Yt(f)?1:!isNaN(u)&&!isNaN(f)?Number(u)-Number(f):r.compare(u,f)}return 0})}const Ll=ae({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:pt,default:"$sortAsc"},sortDescIcon:{type:pt,default:"$sortDesc"},...Jr()},"VDataTableHeaders"),fa=ve()({name:"VDataTableHeaders",props:Ll(),setup(t,e){let{slots:a,emit:n}=e;const{toggleSort:r,sortBy:l,isSorted:o}=Ru(),{someSelected:i,allSelected:s,selectAll:c,showSelectAll:u}=La(),{columns:f,headers:m}=Da(),{loaderClasses:h}=al(t),p=(P,w)=>{if(!(!t.sticky&&!P.fixed))return{position:"sticky",zIndex:P.fixed?4:t.sticky?3:void 0,left:P.fixed?$e(P.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}};function g(P){const w=l.value.find(E=>E.key===P.key);return w?w.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:y}=an(t,"color"),O=T(()=>({headers:m.value,columns:f.value,toggleSort:r,isSorted:o,sortBy:l.value,someSelected:i.value,allSelected:s.value,selectAll:c,getSortIcon:g,getFixedStyles:p})),x=P=>{let{column:w,x:E,y:k}=P;const R=w.key==="data-table-select"||w.key==="data-table-expand";return d(Vn,{tag:"th",align:w.align,class:["v-data-table__th",{"v-data-table__th--sortable":w.sortable,"v-data-table__th--sorted":o(w)},h.value],style:{width:$e(w.width),minWidth:$e(w.width),...p(w,k)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>r(w):void 0,lastFixed:w.lastFixed,noPadding:R},{default:()=>{var H;const $=`column.${w.key}`,L={column:w,selectAll:c,isSorted:o,toggleSort:r,sortBy:l.value,someSelected:i.value,allSelected:s.value,getSortIcon:g};return a[$]?a[$](L):w.key==="data-table-select"?((H=a["column.data-table-select"])==null?void 0:H.call(a,L))??(u&&d(Gt,{modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":c},null)):d("div",{class:"v-data-table-header__content"},[d("span",null,[w.title]),w.sortable&&d(le,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(w)},null),t.multiSort&&o(w)&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:y.value},[l.value.findIndex(Z=>Z.key===w.key)+1])])}})};ye(()=>d(re,null,[a.headers?a.headers(O.value):m.value.map((P,w)=>d("tr",null,[P.map((E,k)=>d(x,{column:E,x:k,y:w},null))])),t.loading&&d("tr",{class:"v-data-table-progress"},[d("th",{colspan:f.value.length},[d(rl,{name:"v-data-table-progress",active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:a.loader})])])]))}}),Bu=ae({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Il=Symbol.for("vuetify:data-table-group");function Vl(t){return{groupBy:Be(t,"groupBy")}}function Rl(t){const{groupBy:e,sortBy:a}=t,n=W(new Set),r=T(()=>e.value.map(c=>({...c,order:c.order??!1})).concat(a.value));function l(c){return n.value.has(c.id)}function o(c){const u=new Set(n.value);l(c)?u.delete(c.id):u.add(c.id),n.value=u}function i(c){function u(f){const m=[];for(const h of f.items)"type"in h&&h.type==="group"?m.push(...u(h)):m.push(h);return m}return u({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const s={sortByWithGroups:r,toggleGroup:o,opened:n,groupBy:e,extractRows:i,isGroupOpen:l};return je(Il,s),s}function $l(){const t=qe(Il);if(!t)throw new Error("Missing group!");return t}function Mu(t,e){if(!t.length)return[];const a=new Map;for(const n of t){const r=sn(n.raw,e);a.has(r)||a.set(r,[]),a.get(r).push(n)}return a}function Nl(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const r=Mu(t,e[0]),l=[],o=e.slice(1);return r.forEach((i,s)=>{const c=e[0],u=`${n}_${c}_${s}`;l.push({depth:a,id:u,key:c,value:s,items:o.length?Nl(i,o,a+1,u):i,type:"group"})}),l}function Bl(t,e){const a=[];for(const n of t)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(e.has(n.id)||n.value==null)&&a.push(...Bl(n.items,e))):a.push(n);return a}function Ml(t,e,a){return{flatItems:T(()=>{if(!e.value.length)return t.value;const r=Nl(t.value,e.value.map(l=>l.key));return Bl(r,a.value)})}}const Uu=ae({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Gu=ve()({name:"VDataTableGroupHeaderRow",props:Uu(),setup(t,e){let{slots:a}=e;const{isGroupOpen:n,toggleGroup:r,extractRows:l}=$l(),{isSelected:o,isSomeSelected:i,select:s}=La(),{columns:c}=Da(),u=T(()=>l([t.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[c.value.map(f=>{var m,h;if(f.key==="data-table-group"){const p=n(t.item)?"$expand":"$next",g=()=>r(t.item);return((m=a["data-table-group"])==null?void 0:m.call(a,{item:t.item,count:u.value.length,props:{icon:p,onClick:g}}))??d(Vn,{class:"v-data-table-group-header-row__column"},{default:()=>[d(fe,{size:"small",variant:"text",icon:p,onClick:g},null),d("span",null,[t.item.value]),d("span",null,[I("("),u.value.length,I(")")])]})}if(f.key==="data-table-select"){const p=o(u.value),g=i(u.value)&&!p,b=y=>s(u.value,y);return((h=a["data-table-select"])==null?void 0:h.call(a,{props:{modelValue:p,indeterminate:g,"onUpdate:modelValue":b}}))??d("td",null,[d(Gt,{modelValue:p,indeterminate:g,"onUpdate:modelValue":b},null)])}return d("td",null,null)})])}}),Fu=ae({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ul=Symbol.for("vuetify:datatable:expanded");function Gl(t){const e=pe(t,"expandOnClick"),a=Be(t,"expanded",t.expanded,i=>new Set(i),i=>[...i.values()]);function n(i,s){const c=new Set(a.value);s?c.add(i.value):c.delete(i.value),a.value=c}function r(i){return a.value.has(i.value)}function l(i){n(i,!r(i))}const o={expand:n,expanded:a,expandOnClick:e,isExpanded:r,toggleExpand:l};return je(Ul,o),o}function Fl(){const t=qe(Ul);if(!t)throw new Error("foo");return t}const Wu=ae({index:Number,item:Object,onClick:Function},"VDataTableRow"),zu=Oi({name:"VDataTableRow",props:Wu(),setup(t,e){let{slots:a}=e;const{isSelected:n,toggleSelect:r}=La(),{isExpanded:l,toggleExpand:o}=Fl(),{columns:i}=Da();ye(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!t.onClick}],onClick:t.onClick},[t.item&&i.value.map((s,c)=>d(Vn,{align:s.align,fixed:s.fixed,fixedOffset:s.fixedOffset,lastFixed:s.lastFixed,noPadding:s.key==="data-table-select"||s.key==="data-table-expand",width:s.width},{default:()=>{var h,p;const u=t.item,f=`item.${s.key}`,m={index:t.index,item:t.item,columns:i.value,isSelected:n,toggleSelect:r,isExpanded:l,toggleExpand:o};return a[f]?a[f](m):s.key==="data-table-select"?((h=a["item.data-table-select"])==null?void 0:h.call(a,m))??d(Gt,{disabled:!u.selectable,modelValue:n([u]),onClick:nt(()=>r(u),["stop"])},null):s.key==="data-table-expand"?((p=a["item.data-table-expand"])==null?void 0:p.call(a,m))??d(fe,{icon:l(u)?"$collapse":"$expand",size:"small",variant:"text",onClick:nt(()=>o(u),["stop"])},null):Ot(u.columns,s.key)}}))]))}}),Wl=ae({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),ma=ve()({name:"VDataTableRows",props:Wl(),setup(t,e){let{emit:a,slots:n}=e;const{columns:r}=Da(),{expandOnClick:l,toggleExpand:o,isExpanded:i}=Fl(),{isSelected:s,toggleSelect:c}=La(),{toggleGroup:u,isGroupOpen:f}=$l(),{t:m}=Aa();return ye(()=>{var h;return t.loading&&n.loading?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:r.value.length},[n.loading()])]):!t.loading&&!t.items.length&&!t.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:r.value.length},[((h=n["no-data"])==null?void 0:h.call(n))??m(t.noDataText)])]):d(re,null,[t.items.map((p,g)=>{var O;if(p.type==="group")return n["group-header"]?n["group-header"]({index:g,item:p,columns:r.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:c,toggleGroup:u,isGroupOpen:f}):d(Gu,{key:`group-header_${p.id}`,item:p},n);const b={index:g,item:p,columns:r.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:c},y={...b,props:{key:`item_${p.key??p.index}`,onClick:l.value||t["onClick:row"]?x=>{var P;l.value&&o(p),(P=t["onClick:row"])==null||P.call(t,x,{item:p})}:void 0,index:g,item:p}};return d(re,null,[n.item?n.item(y):d(zu,y.props,n),i(p)&&((O=n["expanded-row"])==null?void 0:O.call(n,b))])})])}),{}}});const zl=ae({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Xe(),...wn(),...Ut(),...bn()},"VTable"),ha=ve()({name:"VTable",props:zl(),setup(t,e){let{slots:a}=e;const{themeClasses:n}=_n(t),{densityClasses:r}=el(t);return ye(()=>d(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":t.hover},n.value,r.value,t.class],style:t.style},{default:()=>{var l,o,i;return[(l=a.top)==null?void 0:l.call(a),a.default?d("div",{class:"v-table__wrapper",style:{height:$e(t.height)}},[d("table",null,[a.default()])]):(o=a.wrapper)==null?void 0:o.call(a),(i=a.bottom)==null?void 0:i.call(a)]}})),{}}}),Hu=ae({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function qu(t,e,a,n){const r=t.returnObject?e:Ot(e,t.itemValue),l=Ot(e,t.itemSelectable,!0),o=n.reduce((i,s)=>(i[s.key]=Ot(e,s.value??s.key),i),{});return{type:"item",key:t.returnObject?Ot(e,t.itemValue):r,index:a,value:r,selectable:l,columns:o,raw:e}}function Qu(t,e,a){return e.map((n,r)=>qu(t,n,r,a))}function Hl(t,e){return{items:T(()=>Qu(t,t.items,e.value))}}function ql(t){let{page:e,itemsPerPage:a,sortBy:n,groupBy:r,search:l}=t;const o=sl("VDataTable"),i=T(()=>({page:e.value,itemsPerPage:a.value,sortBy:n.value,groupBy:r.value,search:l.value}));he(()=>l==null?void 0:l.value,()=>{e.value=1});let s=null;he(i,()=>{ul(s,i.value)||(o.emit("update:options",i.value),s=i.value)},{deep:!0,immediate:!0})}const Xu=(t,e,a)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),ju=ae({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Yu(t,e,a){var i;const n=[],r=(a==null?void 0:a.default)??Xu,l=a!=null&&a.filterKeys?ca(a.filterKeys):!1,o=Object.keys((a==null?void 0:a.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return n;e:for(let s=0;s<t.length;s++){const c=t[s],u={},f={};let m=-1;if(e&&!(a!=null&&a.noFilter)){if(typeof c=="object"){const g=l||Object.keys(c);for(const b of g){const y=Ot(c,b,c),O=(i=a==null?void 0:a.customKeyFilter)==null?void 0:i[b];if(m=O?O(y,e,c):r(y,e,c),m!==-1&&m!==!1)O?u[b]=m:f[b]=m;else if((a==null?void 0:a.filterMode)==="every")continue e}}else m=r(c,e,c),m!==-1&&m!==!1&&(f.title=m);const h=Object.keys(f).length,p=Object.keys(u).length;if(!h&&!p||(a==null?void 0:a.filterMode)==="union"&&p!==o&&!h||(a==null?void 0:a.filterMode)==="intersection"&&(p!==o||!h))continue}n.push({index:s,matches:{...f,...u}})}return n}function Ku(t,e,a,n){const r=W([]),l=W(new Map),o=T(()=>n!=null&&n.transform?B(e).map(n==null?void 0:n.transform):B(e));Mt(()=>{const s=typeof a=="function"?a():B(a),c=typeof s!="string"&&typeof s!="number"?"":String(s),u=Yu(o.value,c,{customKeyFilter:t.customKeyFilter,default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),f=B(e),m=[],h=new Map;u.forEach(p=>{let{index:g,matches:b}=p;const y=f[g];m.push(y),h.set(y.value,b)}),r.value=m,l.value=h});function i(s){return l.value.get(s.value)}return{filteredItems:r,filteredMatches:l,getMatches:i}}const Ql=ae({...Wl(),width:[String,Number],search:String,...Fu(),...Bu(),...Du(),...Hu(),...Iu(),...Vu(),...Ll(),...zl()},"DataTable"),Zu=ae({...bl(),...Ql(),...ju(),...In()},"VDataTable");ve()({name:"VDataTable",props:Zu(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{emit:a,slots:n}=e;const{groupBy:r}=Vl(t),{sortBy:l,multiSort:o,mustSort:i}=xl(t),{page:s,itemsPerPage:c}=Sl(t),{columns:u,headers:f}=Tl(t,{groupBy:r,showSelect:pe(t,"showSelect"),showExpand:pe(t,"showExpand")}),{items:m}=Hl(t,u),h=pe(t,"search"),{filteredItems:p}=Ku(t,m,h,{transform:q=>q.columns}),{toggleSort:g}=Dl({sortBy:l,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:b,opened:y,extractRows:O,isGroupOpen:x,toggleGroup:P}=Rl({groupBy:r,sortBy:l}),{sortedItems:w}=$u(t,p,b),{flatItems:E}=Ml(w,r,y),k=T(()=>E.value.length),{startIndex:R,stopIndex:$,pageCount:L,setItemsPerPage:H}=Ol({page:s,itemsPerPage:c,itemsLength:k}),{paginatedItems:Z}=xu({items:E,startIndex:R,stopIndex:$,itemsPerPage:c}),J=T(()=>O(Z.value)),{isSelected:ge,select:V,selectAll:X,toggleSelect:oe,someSelected:G,allSelected:D}=Al(t,{allItems:m,currentPage:J}),{isExpanded:N,toggleExpand:U}=Gl(t);ql({page:s,itemsPerPage:c,sortBy:l,groupBy:r,search:h}),Sa({VDataTableRows:{hideNoData:pe(t,"hideNoData"),noDataText:pe(t,"noDataText"),loading:pe(t,"loading"),loadingText:pe(t,"loadingText")}});const j=T(()=>({page:s.value,itemsPerPage:c.value,sortBy:l.value,pageCount:L.value,toggleSort:g,setItemsPerPage:H,someSelected:G.value,allSelected:D.value,isSelected:ge,select:V,selectAll:X,toggleSelect:oe,isExpanded:N,toggleExpand:U,isGroupOpen:x,toggleGroup:P,items:J.value,groupedItems:Z.value,columns:u.value,headers:f.value}));return ye(()=>{const[q]=pa.filterProps(t),[de]=fa.filterProps(t),[_e]=ma.filterProps(t),[mt]=ha.filterProps(t);return d(ha,ie({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},mt),{top:()=>{var Re;return(Re=n.top)==null?void 0:Re.call(n,j.value)},default:()=>{var Re,et,ot,Ge;return n.default?n.default(j.value):d(re,null,[(Re=n.colgroup)==null?void 0:Re.call(n,j.value),d("thead",null,[d(fa,de,n)]),(et=n.thead)==null?void 0:et.call(n,j.value),d("tbody",null,[n.body?n.body(j.value):d(ma,ie(_e,{items:Z.value}),n)]),(ot=n.tbody)==null?void 0:ot.call(n,j.value),(Ge=n.tfoot)==null?void 0:Ge.call(n,j.value)])},bottom:()=>n.bottom?n.bottom(j.value):d(re,null,[d(pa,q,{prepend:n["footer.prepend"]})])})}),{}}});const Ju=ae({itemsLength:{type:[Number,String],required:!0},...bl(),...Ql(),...In()},"VDataTableServer"),ec=ve()({name:"VDataTableServer",props:Ju(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0,"click:row":(t,e)=>!0},setup(t,e){let{emit:a,slots:n}=e;const{groupBy:r}=Vl(t),{sortBy:l,multiSort:o,mustSort:i}=xl(t),{page:s,itemsPerPage:c}=Sl(t),u=T(()=>parseInt(t.itemsLength,10)),{columns:f,headers:m}=Tl(t,{groupBy:r,showSelect:pe(t,"showSelect"),showExpand:pe(t,"showExpand")}),{items:h}=Hl(t,f),{toggleSort:p}=Dl({sortBy:l,multiSort:o,mustSort:i,page:s}),{opened:g,isGroupOpen:b,toggleGroup:y,extractRows:O}=Rl({groupBy:r,sortBy:l}),{pageCount:x,setItemsPerPage:P}=Ol({page:s,itemsPerPage:c,itemsLength:u}),{flatItems:w}=Ml(h,r,g),{isSelected:E,select:k,selectAll:R,toggleSelect:$,someSelected:L,allSelected:H}=Al(t,{allItems:h,currentPage:h}),{isExpanded:Z,toggleExpand:J}=Gl(t),ge=T(()=>O(h.value));ql({page:s,itemsPerPage:c,sortBy:l,groupBy:r,search:pe(t,"search")}),je("v-data-table",{toggleSort:p,sortBy:l}),Sa({VDataTableRows:{hideNoData:pe(t,"hideNoData"),noDataText:pe(t,"noDataText"),loading:pe(t,"loading"),loadingText:pe(t,"loadingText")}});const V=T(()=>({page:s.value,itemsPerPage:c.value,sortBy:l.value,pageCount:x.value,toggleSort:p,setItemsPerPage:P,someSelected:L.value,allSelected:H.value,isSelected:E,select:k,selectAll:R,toggleSelect:$,isExpanded:Z,toggleExpand:J,isGroupOpen:b,toggleGroup:y,items:ge.value,groupedItems:w.value,columns:f.value,headers:m.value}));ye(()=>{const[X]=pa.filterProps(t),[oe]=fa.filterProps(t),[G]=ma.filterProps(t),[D]=ha.filterProps(t);return d(ha,ie({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},D),{top:()=>{var N;return(N=n.top)==null?void 0:N.call(n,V.value)},default:()=>{var N,U,j,q;return n.default?n.default(V.value):d(re,null,[(N=n.colgroup)==null?void 0:N.call(n,V.value),d("thead",{class:"v-data-table__thead",role:"rowgroup"},[d(fa,ie(oe,{sticky:t.fixedHeader}),n)]),(U=n.thead)==null?void 0:U.call(n,V.value),d("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[n.body?n.body(V.value):d(ma,ie(G,{items:w.value}),n)]),(j=n.tbody)==null?void 0:j.call(n,V.value),(q=n.tfoot)==null?void 0:q.call(n,V.value)])},bottom:()=>n.bottom?n.bottom(V.value):d(pa,X,{prepend:n["footer.prepend"]})})})}});var te=(t=>(t.String="String",t.StringArray="StringArray",t.Byte="Byte",t.ByteArray="ByteArray",t.Short="Short",t.ShortArray="ShortArray",t.Integer="Integer",t.IntegerArray="IntegerArray",t.Long="Long",t.LongArray="LongArray",t.Boolean="Boolean",t.BooleanArray="BooleanArray",t.Character="Character",t.CharacterArray="CharacterArray",t.BigDecimal="BigDecimal",t.BigDecimalArray="BigDecimalArray",t.OffsetDateTime="OffsetDateTime",t.OffsetDateTimeArray="OffsetDateTimeArray",t.LocalDateTime="LocalDateTime",t.LocalDateTimeArray="LocalDateTimeArray",t.LocalDate="LocalDate",t.LocalDateArray="LocalDateArray",t.LocalTime="LocalTime",t.LocalTimeArray="LocalTimeArray",t.DateTimeRange="DateTimeRange",t.DateTimeRangeArray="DateTimeRangeArray",t.BigDecimalNumberRange="BigDecimalNumberRange",t.BigDecimalNumberRangeArray="BigDecimalNumberRangeArray",t.ByteNumberRange="ByteNumberRange",t.ByteNumberRangeArray="ByteNumberRangeArray",t.ShortNumberRange="ShortNumberRange",t.ShortNumberRangeArray="ShortNumberRangeArray",t.IntegerNumberRange="IntegerNumberRange",t.IntegerNumberRangeArray="IntegerNumberRangeArray",t.LongNumberRange="LongNumberRange",t.LongNumberRangeArray="LongNumberRangeArray",t.Locale="Locale",t.LocaleArray="LocaleArray",t.Currency="Currency",t.CurrencyArray="CurrencyArray",t.UUID="UUID",t.UUIDArray="UUIDArray",t.Predecessor="Predecessor",t.ComplexDataObject="ComplexDataObject",t))(te||{});const tc={class:"value-renderer__body"},ac=K({__name:"LabEditorDataGridGridCellDetailValueRenderer",props:{actions:{default:()=>[]},fillSpace:{type:Boolean,default:!0}},emits:["click:action"],setup(t,{emit:e}){return(a,n)=>(S(),C(ur,{class:ka(["value-renderer",{"value-renderer--fill-space":a.fillSpace},{"value-renderer--with-actions":a.actions&&a.actions.length>0}]),elevation:"0"},{default:_(()=>[z("div",tc,[at(a.$slots,"default",{},void 0,!0)]),a.actions?(S(),C(Ca,{key:0,vertical:""})):se("",!0),a.actions?(S(),C(ur,{key:1,class:"value-renderer__actions",elevation:"0"},{default:_(()=>[(S(!0),ee(re,null,Ie(a.actions,r=>(S(),C(fe,{key:r.value,icon:"",variant:"flat",onClick:l=>e("click:action",r.value)},{default:_(()=>[d(le,null,{default:_(()=>[I(ne(r.props.prependIcon),1)]),_:2},1024),d(Pe,{activator:"parent"},{default:_(()=>[I(ne(r.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):se("",!0)]),_:3},8,["class"]))}});const Rn=me(ac,[["__scopeId","data-v-560ea1bc"]]),nc={class:"markdown-renderer"},rc=K({__name:"LabEditorDataGridGridCellDetailMarkdownRenderer",props:{value:{},dataType:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=ze(),n=/\s+/,r=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"long"}),l=new Intl.DateTimeFormat([],{dateStyle:"full",timeStyle:"medium"}),o=new Intl.DateTimeFormat([],{dateStyle:"full"}),i=new Intl.DateTimeFormat([],{timeStyle:"medium"}),s=W(!0),c=T(()=>[{title:"Copy",value:"copy",props:{prependIcon:"mdi-content-copy"}},{title:s.value?"Display raw value":"Pretty print value",value:"pretty-print",props:{prependIcon:s.value?"mdi-raw":"mdi-auto-fix"}}]),u=T(()=>{if(!s.value||!e.dataType)return e.value.toString();switch(e.dataType){case te.String:{const p=e.value.trim();return p.startsWith("{")||p.startsWith("[")?"```json\r\n"+p+"\r\n```":p.startsWith("<")?"```xml\r\n"+p+"\r\n```":n.test(p)?p:"`"+p+"`"}case te.Byte:case te.Short:case te.Integer:case te.Long:case te.Boolean:case te.Character:case te.BigDecimal:case te.UUID:return"`"+e.value.toString()+"`";case te.OffsetDateTime:return"📅 `"+r.format(new Date(e.value.toString()))+"`";case te.LocalDateTime:return"📅 `"+l.format(new Date(e.value.toString()))+"`";case te.LocalDate:return"📅 `"+o.format(new Date(e.value.toString()))+"`";case te.LocalTime:return"📅 `"+i.format(new Date("1970-01-01"+e.value.toString()))+"`";case te.DateTimeRange:return f(e.value,"📅 ",p=>r.format(new Date(p)));case te.ByteNumberRange:case te.ShortNumberRange:case te.IntegerNumberRange:return f(e.value,"",p=>p.toString());case te.BigDecimalNumberRange:case te.LongNumberRange:return f(e.value,"",p=>p);case te.Locale:return"🌐 `"+e.value.toString()+"`";case te.Currency:return"💰 `"+e.value.toString()+"`";case te.Predecessor:return"↻ `"+e.value.toString()+"`";case te.ComplexDataObject:return"```json\r\n"+JSON.stringify(e.value,null,2)+"\r\n```";default:return e.value.toString()}});function f(p,g,b){if(!(e.value instanceof Array)||e.value.length!==2)throw new rt(void 0,"Invalid DateTimeRange value.");const y=e.value,O=y[0],x=y[1],P=w=>w==null?"∞":b(w);return g+"`"+P(O)+"` - `"+P(x)+"`"}function m(p){switch(p){case"copy":h();break;case"pretty-print":s.value=!s.value;break}}function h(){navigator.clipboard.writeText(u.value).then(()=>{a.info("Copied to clipboard.")}).catch(()=>{a.error(new rt(void 0,"Failed to copy to clipboard."))})}return(p,g)=>(S(),C(Rn,{"fill-space":p.fillSpace,actions:c.value,"onClick:action":m},{default:_(()=>[z("div",nc,[d(Cn,{source:u.value},null,8,["source"])])]),_:1},8,["fill-space","actions"]))}});const Xl=me(rc,[["__scopeId","data-v-346a4685"]]),dn=1,lc=2,oc=3,ic=4,sc=5,uc=35,cc=36,dc=37,pc=11,fc=13;function mc(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function hc(t){return t==9||t==10||t==13||t==32}let br=null,_r=null,Sr=0;function pn(t,e){let a=t.pos+e;if(_r==t&&Sr==a)return br;for(;hc(t.peek(e));)e++;let n="";for(;;){let r=t.peek(e);if(!mc(r))break;n+=String.fromCharCode(r),e++}return _r=t,Sr=a,br=n||null}function Or(t,e){this.name=t,this.parent=e,this.hash=e?e.hash:0;for(let a=0;a<t.length;a++)this.hash+=(this.hash<<4)+t.charCodeAt(a)+(t.charCodeAt(a)<<8)}const vc=new wi({start:null,shift(t,e,a,n){return e==dn?new Or(pn(n,1)||"",t):t},reduce(t,e){return e==pc&&t?t.parent:t},reuse(t,e,a,n){let r=e.type.id;return r==dn||r==fc?new Or(pn(n,1)||"",t):t},hash(t){return t?t.hash:0},strict:!1}),gc=new cl((t,e)=>{if(t.next==60){if(t.advance(),t.next==47){t.advance();let a=pn(t,0);if(!a)return t.acceptToken(sc);if(e.context&&a==e.context.name)return t.acceptToken(lc);for(let n=e.context;n;n=n.parent)if(n.name==a)return t.acceptToken(oc,-2);t.acceptToken(ic)}else if(t.next!=33&&t.next!=63)return t.acceptToken(dn)}},{contextual:!0});function $n(t,e){return new cl(a=>{for(let n=0,r=0;;r++){if(a.next<0){r&&a.acceptToken(t);break}if(a.next==e.charCodeAt(n)){if(n++,n==e.length){r>=e.length&&a.acceptToken(t,1-e.length);break}}else n=a.next==e.charCodeAt(0)?1:0;a.advance()}})}const yc=$n(uc,"-->"),bc=$n(cc,"?>"),_c=$n(dc,"]]>"),Sc=dl({Text:Ce.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":Ce.angleBracket,TagName:Ce.tagName,"MismatchedCloseTag/Tagname":[Ce.tagName,Ce.invalid],AttributeName:Ce.attributeName,AttributeValue:Ce.attributeValue,Is:Ce.definitionOperator,"EntityReference CharacterReference":Ce.character,Comment:Ce.blockComment,ProcessingInst:Ce.processingInstruction,DoctypeDecl:Ce.documentMeta,Cdata:Ce.special(Ce.string)}),Oc=Ti.deserialize({version:14,states:",SOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DS'#DSOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C{'#C{O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C|'#C|O$dOrO,59^OOOP,59^,59^OOOS'#C}'#C}O$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6y-E6yOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6z-E6zOOOP1G.x1G.xOOOS-E6{-E6{OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'jO!bO,59eOOOO-E6w-E6wO'xOpO1G.uO'xOpO1G.uOOOP1G.u1G.uO(QOpO7+$fOOOP7+$f7+$fO(YO!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(eO#tO'#CnOOOO1G.q1G.qO(sOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO({O#tO,59YOOOO,59Y,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.t",stateData:")Z~OPQOSVOTWOVWOWWOXWOiXOxPO}TO!PUO~OuZOw]O~O^`Oy^O~OPQOQcOSVOTWOVWOWWOXWOxPO}TO!PUO~ORdO~P!SOseO|gO~OthO!OjO~O^lOy^O~OuZOwoO~O^qOy^O~O[vO`sOdwOy^O~ORyO~P!SO^{Oy^O~OseO|}O~OthO!O!PO~O^!QOy^O~O[!SOy^O~O[!VO`sOd!WOy^O~Oa!YOy^O~Oy^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oy^O~O[!_Oy^O~O[!aOy^O~O[!cO`sOd!dOy^O~O[!cO`sOd!dO~Oa!eOy^O~Oy^Oz!gO~Oy^O[ma`madma~O[!jOy^O~O[!kOy^O~O[!lO`sOd!mO~OW!pOX!pOz!rO{!pO~O[!sOy^O~OW!pOX!pOz!vO{!pO~O",goto:"%[wPPPPPPPPPPxxP!OP!UPP!_!iP!oxxxP!u!{#R$Z$j$p$v$|PPPP%SXWORYbXRORYb_t`qru!T!U!bQ!h!YS!o!e!fR!t!nQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!i!nQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!i!]R!n!eQu`S!UqrU![u!U!bR!b!TQ!q!gR!u!qQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"⚠ StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:47,context:vc,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"]],propSources:[Sc],skippedNodes:[0],repeatNodeCount:8,tokenData:"IX~R!XOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs'ssv$nvw(Zw}$n}!O*l!O!P$n!P!Q,{!Q![$n![!].e!]!^$n!^!_1v!_!`Cz!`!aDm!a!bE`!b!c$n!c!}.e!}#P$n#P#QFx#Q#R$n#R#S.e#S#T$n#T#o.e#o%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U$n4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$nX$uWVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nP%dTVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_P%vP;=`<%l%_W&OT{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yW&bP;=`<%l%yX&hP;=`<%l$n_&t_VP{WyUOX$nXY&kYZ&kZ]$n]^&k^p$npq&kqr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ'zTzYVPOv%_w!^%_!_;'S%_;'S;=`%s<%lO%_~(^VOp(sqs(sst)ht!](s!^;'S(s;'S;=`)b<%lO(s~(vVOp(sqs(st!](s!]!^)]!^;'S(s;'S;=`)b<%lO(s~)bOW~~)eP;=`<%l(s~)kTOp)zq!])z!^;'S)z;'S;=`*f<%lO)z~)}UOp)zq!])z!]!^*a!^;'S)z;'S;=`*f<%lO)z~*fOX~~*iP;=`<%l)zZ*sYVP{WOr$nrs%_sv$nw}$n}!O+c!O!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZ+jYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a,Y!a;'S$n;'S;=`&e<%lO$nZ,cW|QVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n]-SYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!a-r!a;'S$n;'S;=`&e<%lO$n]-{WdSVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_.p!O`S^QVP{WOr$nrs%_sv$nw}$n}!O.e!O!P.e!P!Q$n!Q![.e![!].e!]!^$n!^!_%y!_!c$n!c!}.e!}#R$n#R#S.e#S#T$n#T#o.e#o$}$n$}%O.e%O%W$n%W%o.e%o%p$n%p&a.e&a&b$n&b1p.e1p4U.e4U4d.e4d4e$n4e$IS.e$IS$I`$n$I`$Ib.e$Ib$Je$n$Je$Jg.e$Jg$Kh$n$Kh%#t.e%#t&/x$n&/x&Et.e&Et&FV$n&FV;'S.e;'S;:j1p;:j;=`&e<%l?&r$n?&r?Ah.e?Ah?BY$n?BY?Mn.e?MnO$n_1sP;=`<%l.eX1{W{WOq%yqr2esv%yw!a%y!a!bCd!b;'S%y;'S;=`&_<%lO%yX2j]{WOr%ysv%yw}%y}!O3c!O!f%y!f!g4e!g!}%y!}#O9t#O#W%y#W#X@Q#X;'S%y;'S;=`&_<%lO%yX3hV{WOr%ysv%yw}%y}!O3}!O;'S%y;'S;=`&_<%lO%yX4UT}P{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX4jV{WOr%ysv%yw!q%y!q!r5P!r;'S%y;'S;=`&_<%lO%yX5UV{WOr%ysv%yw!e%y!e!f5k!f;'S%y;'S;=`&_<%lO%yX5pV{WOr%ysv%yw!v%y!v!w6V!w;'S%y;'S;=`&_<%lO%yX6[V{WOr%ysv%yw!{%y!{!|6q!|;'S%y;'S;=`&_<%lO%yX6vV{WOr%ysv%yw!r%y!r!s7]!s;'S%y;'S;=`&_<%lO%yX7bV{WOr%ysv%yw!g%y!g!h7w!h;'S%y;'S;=`&_<%lO%yX7|X{WOr7wrs8isv7wvw8iw!`7w!`!a9W!a;'S7w;'S;=`9n<%lO7wP8lTO!`8i!`!a8{!a;'S8i;'S;=`9Q<%lO8iP9QOiPP9TP;=`<%l8iX9_TiP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yX9qP;=`<%l7wX9yX{WOr%ysv%yw!e%y!e!f:f!f#V%y#V#W=t#W;'S%y;'S;=`&_<%lO%yX:kV{WOr%ysv%yw!f%y!f!g;Q!g;'S%y;'S;=`&_<%lO%yX;VV{WOr%ysv%yw!c%y!c!d;l!d;'S%y;'S;=`&_<%lO%yX;qV{WOr%ysv%yw!v%y!v!w<W!w;'S%y;'S;=`&_<%lO%yX<]V{WOr%ysv%yw!c%y!c!d<r!d;'S%y;'S;=`&_<%lO%yX<wV{WOr%ysv%yw!}%y!}#O=^#O;'S%y;'S;=`&_<%lO%yX=eT{WxPOr%ysv%yw;'S%y;'S;=`&_<%lO%yX=yV{WOr%ysv%yw#W%y#W#X>`#X;'S%y;'S;=`&_<%lO%yX>eV{WOr%ysv%yw#T%y#T#U>z#U;'S%y;'S;=`&_<%lO%yX?PV{WOr%ysv%yw#h%y#h#i?f#i;'S%y;'S;=`&_<%lO%yX?kV{WOr%ysv%yw#T%y#T#U<r#U;'S%y;'S;=`&_<%lO%yX@VV{WOr%ysv%yw#c%y#c#d@l#d;'S%y;'S;=`&_<%lO%yX@qV{WOr%ysv%yw#V%y#V#WAW#W;'S%y;'S;=`&_<%lO%yXA]V{WOr%ysv%yw#h%y#h#iAr#i;'S%y;'S;=`&_<%lO%yXAwV{WOr%ysv%yw#m%y#m#nB^#n;'S%y;'S;=`&_<%lO%yXBcV{WOr%ysv%yw#d%y#d#eBx#e;'S%y;'S;=`&_<%lO%yXB}V{WOr%ysv%yw#X%y#X#Y7w#Y;'S%y;'S;=`&_<%lO%yXCkT!PP{WOr%ysv%yw;'S%y;'S;=`&_<%lO%yZDTWaQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n_DvW[UVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZEgYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aFV!a;'S$n;'S;=`&e<%lO$nZF`W!OQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$nZGPYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_#P$n#P#QGo#Q;'S$n;'S;=`&e<%lO$nZGvYVP{WOr$nrs%_sv$nw!^$n!^!_%y!_!`$n!`!aHf!a;'S$n;'S;=`&e<%lO$nZHoWwQVP{WOr$nrs%_sv$nw!^$n!^!_%y!_;'S$n;'S;=`&e<%lO$n",tokenizers:[gc,yc,bc,_c,0,1,2,3],topRules:{Document:[0,6]},tokenPrec:0}),wc=1024;let Tc=0;class Wa{constructor(e,a){this.from=e,this.to=a}}class ce{constructor(e={}){this.id=Tc++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Me.match(e)),a=>{let n=e(a);return n===void 0?null:[this,n]}}}ce.closedBy=new ce({deserialize:t=>t.split(" ")});ce.openedBy=new ce({deserialize:t=>t.split(" ")});ce.group=new ce({deserialize:t=>t.split(" ")});ce.contextHash=new ce({perNode:!0});ce.lookAhead=new ce({perNode:!0});ce.mounted=new ce({perNode:!0});class va{constructor(e,a,n){this.tree=e,this.overlay=a,this.parser=n}static get(e){return e&&e.props&&e.props[ce.mounted.id]}}const kc=Object.create(null);class Me{constructor(e,a,n,r=0){this.name=e,this.props=a,this.id=n,this.flags=r}static define(e){let a=e.props&&e.props.length?Object.create(null):kc,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Me(e.name||"",a,e.id,n);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(r)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[l[0].id]=l[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let a=this.prop(ce.group);return a?a.indexOf(e)>-1:!1}return this.id==e}static match(e){let a=Object.create(null);for(let n in e)for(let r of n.split(" "))a[r]=e[n];return n=>{for(let r=n.prop(ce.group),l=-1;l<(r?r.length:0);l++){let o=a[l<0?n.name:r[l]];if(o)return o}}}}Me.none=new Me("",Object.create(null),0,8);const Zt=new WeakMap,wr=new WeakMap;var Se;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Se||(Se={}));class ke{constructor(e,a,n,r,l){if(this.type=e,this.children=a,this.positions=n,this.length=r,this.props=null,l&&l.length){this.props=Object.create(null);for(let[o,i]of l)this.props[typeof o=="number"?o:o.id]=i}}toString(){let e=va.get(this);if(e&&!e.overlay)return e.tree.toString();let a="";for(let n of this.children){let r=n.toString();r&&(a&&(a+=","),a+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(e=0){return new mn(this.topNode,e)}cursorAt(e,a=0,n=0){let r=Zt.get(this)||this.topNode,l=new mn(r);return l.moveTo(e,a),Zt.set(this,l._tree),l}get topNode(){return new Ne(this,0,0,null)}resolve(e,a=0){let n=Bt(Zt.get(this)||this.topNode,e,a,!1);return Zt.set(this,n),n}resolveInner(e,a=0){let n=Bt(wr.get(this)||this.topNode,e,a,!0);return wr.set(this,n),n}resolveStack(e,a=0){return Ac(this,e,a)}iterate(e){let{enter:a,leave:n,from:r=0,to:l=this.length}=e,o=e.mode||0,i=(o&Se.IncludeAnonymous)>0;for(let s=this.cursor(o|Se.IncludeAnonymous);;){let c=!1;if(s.from<=l&&s.to>=r&&(!i&&s.type.isAnonymous||a(s)!==!1)){if(s.firstChild())continue;c=!0}for(;c&&n&&(i||!s.type.isAnonymous)&&n(s),!s.nextSibling();){if(!s.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let a in this.props)e.push([+a,this.props[a]]);return e}balance(e={}){return this.children.length<=8?this:Mn(Me.none,this.children,this.positions,0,this.children.length,0,this.length,(a,n,r)=>new ke(this.type,a,n,r,this.propValues),e.makeTree||((a,n,r)=>new ke(Me.none,a,n,r)))}static build(e){return Ec(e)}}ke.empty=new ke(Me.none,[],[],0);class Nn{constructor(e,a){this.buffer=e,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Nn(this.buffer,this.index)}}class ft{constructor(e,a,n){this.buffer=e,this.length=a,this.set=n}get type(){return Me.none}toString(){let e=[];for(let a=0;a<this.buffer.length;)e.push(this.childString(a)),a=this.buffer[a+3];return e.join(",")}childString(e){let a=this.buffer[e],n=this.buffer[e+3],r=this.set.types[a],l=r.name;if(/\W/.test(l)&&!r.isError&&(l=JSON.stringify(l)),e+=4,n==e)return l;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return l+"("+o.join(",")+")"}findChild(e,a,n,r,l){let{buffer:o}=this,i=-1;for(let s=e;s!=a&&!(jl(l,r,o[s+1],o[s+2])&&(i=s,n>0));s=o[s+3]);return i}slice(e,a,n){let r=this.buffer,l=new Uint16Array(a-e),o=0;for(let i=e,s=0;i<a;){l[s++]=r[i++],l[s++]=r[i++]-n;let c=l[s++]=r[i++]-n;l[s++]=r[i++]-e,o=Math.max(o,c)}return new ft(l,o,this.set)}}function jl(t,e,a,n){switch(t){case-2:return a<e;case-1:return n>=e&&a<e;case 0:return a<e&&n>e;case 1:return a<=e&&n>e;case 2:return n>e;case 4:return!0}}function Bt(t,e,a,n){for(var r;t.from==t.to||(a<1?t.from>=e:t.from>e)||(a>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Ne&&t.index<0?null:t.parent;if(!o)return t;t=o}let l=n?0:Se.IgnoreOverlays;if(n)for(let o=t,i=o.parent;i;o=i,i=o.parent)o instanceof Ne&&o.index<0&&((r=i.enter(e,a,l))===null||r===void 0?void 0:r.from)!=o.from&&(t=i);for(;;){let o=t.enter(e,a,l);if(!o)return t;t=o}}class Yl{cursor(e=0){return new mn(this,e)}getChild(e,a=null,n=null){let r=Tr(this,e,a,n);return r.length?r[0]:null}getChildren(e,a=null,n=null){return Tr(this,e,a,n)}resolve(e,a=0){return Bt(this,e,a,!1)}resolveInner(e,a=0){return Bt(this,e,a,!0)}matchContext(e){return fn(this,e)}enterUnfinishedNodesBefore(e){let a=this.childBefore(e),n=this;for(;a;){let r=a.lastChild;if(!r||r.to!=a.to)break;r.type.isError&&r.from==r.to?(n=a,a=r.prevSibling):a=r}return n}get node(){return this}get next(){return this.parent}}class Ne extends Yl{constructor(e,a,n,r){super(),this._tree=e,this.from=a,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,a,n,r,l=0){for(let o=this;;){for(let{children:i,positions:s}=o._tree,c=a>0?i.length:-1;e!=c;e+=a){let u=i[e],f=s[e]+o.from;if(jl(r,n,f,f+u.length)){if(u instanceof ft){if(l&Se.ExcludeBuffers)continue;let m=u.findChild(0,u.buffer.length,a,n-f,r);if(m>-1)return new tt(new Pc(o,u,e,f),null,m)}else if(l&Se.IncludeAnonymous||!u.type.isAnonymous||Bn(u)){let m;if(!(l&Se.IgnoreMounts)&&(m=va.get(u))&&!m.overlay)return new Ne(m.tree,f,e,o);let h=new Ne(u,f,e,o);return l&Se.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(a<0?u.children.length-1:0,a,n,r)}}}if(l&Se.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+a:e=a<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,a,n=0){let r;if(!(n&Se.IgnoreOverlays)&&(r=va.get(this._tree))&&r.overlay){let l=e-this.from;for(let{from:o,to:i}of r.overlay)if((a>0?o<=l:o<l)&&(a<0?i>=l:i>l))return new Ne(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,a,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Tr(t,e,a,n){let r=t.cursor(),l=[];if(!r.firstChild())return l;if(a!=null){for(;!r.type.is(a);)if(!r.nextSibling())return l}for(;;){if(n!=null&&r.type.is(n))return l;if(r.type.is(e)&&l.push(r.node),!r.nextSibling())return n==null?l:[]}}function fn(t,e,a=e.length-1){for(let n=t.parent;a>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[a]&&e[a]!=n.name)return!1;a--}}return!0}class Pc{constructor(e,a,n,r){this.parent=e,this.buffer=a,this.index=n,this.start=r}}class tt extends Yl{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,a,n){super(),this.context=e,this._parent=a,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,a,n){let{buffer:r}=this.context,l=r.findChild(this.index+4,r.buffer[this.index+3],e,a-this.context.start,n);return l<0?null:new tt(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,a,n=0){if(n&Se.ExcludeBuffers)return null;let{buffer:r}=this.context,l=r.findChild(this.index+4,r.buffer[this.index+3],a>0?1:-1,e-this.context.start,a);return l<0?null:new tt(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,a=e.buffer[this.index+3];return a<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new tt(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new tt(this.context,this._parent,e.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],a=[],{buffer:n}=this.context,r=this.index+4,l=n.buffer[this.index+3];if(l>r){let o=n.buffer[this.index+1];e.push(n.slice(r,l,o)),a.push(0)}return new ke(this.type,e,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Kl(t){if(!t.length)return null;if(t.length==1)return t[0];let e=0,a=t[0];for(let l=1;l<t.length;l++){let o=t[l];(o.from>a.from||o.to<a.to)&&(a=o,e=l)}let n=a instanceof Ne&&a.index<0?null:a.parent,r=t.slice();return n?r[e]=n:r.splice(e,1),new Cc(r,a)}class Cc{constructor(e,a){this.heads=e,this.node=a}get next(){return Kl(this.heads)}}function Ac(t,e,a){let n=t.resolveInner(e,a),r=null;for(let l=n instanceof Ne?n:n.context.parent;l;l=l.parent)if(l.index<0){let o=l.parent;(r||(r=[n])).push(o.resolve(e,a)),l=o}else{let o=va.get(l.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let i=new Ne(o.tree,o.overlay[0].from+l.from,0,null);(r||(r=[n])).push(Bt(i,e,a,!1))}}return r?Kl(r):n}class mn{get name(){return this.type.name}constructor(e,a=0){if(this.mode=a,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ne)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,a){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=a||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return e?e instanceof Ne?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,a,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,a,n,this.mode));let{buffer:r}=this.buffer,l=r.findChild(this.index+4,r.buffer[this.index+3],e,a-this.buffer.start,n);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,a,n=this.mode){return this.buffer?n&Se.ExcludeBuffers?!1:this.enterChild(1,e,a):this.yield(this._tree.enter(e,a,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Se.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Se.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:a}=this.buffer,n=this.stack.length-1;if(e<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(a.findChild(r,this.index,-1,0,4))}else{let r=a.buffer[this.index+3];if(r<(n<0?a.buffer.length:a.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let a,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(r.buffer.buffer[l+3]<this.index)return!1;({index:a,parent:n}=r)}else({index:a,_parent:n}=this._tree);for(;n;{index:a,_parent:n}=n)if(a>-1)for(let l=a+e,o=e<0?-1:n._tree.children.length;l!=o;l+=e){let i=n._tree.children[l];if(this.mode&Se.IncludeAnonymous||i instanceof ft||!i.type.isAnonymous||Bn(i))return!1}return!0}move(e,a){if(a&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,a=0){for(;(this.from==this.to||(a<1?this.from>=e:this.from>e)||(a>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,a););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,a=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,l=this.stack.length;l>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;a=o,n=l+1;break e}r=this.stack[--l]}for(let r=n;r<this.stack.length;r++)a=new tt(this.buffer,a,this.stack[r]);return this.bufferNode=new tt(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,a){for(let n=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&a&&a(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return fn(this.node,e);let{buffer:a}=this.buffer,{types:n}=a.set;for(let r=e.length-1,l=this.stack.length-1;r>=0;l--){if(l<0)return fn(this.node,e,r);let o=n[a.buffer[this.stack[l]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Bn(t){return t.children.some(e=>e instanceof ft||!e.type.isAnonymous||Bn(e))}function Ec(t){var e;let{buffer:a,nodeSet:n,maxBufferLength:r=wc,reused:l=[],minRepeatType:o=n.types.length}=t,i=Array.isArray(a)?new Nn(a,a.length):a,s=n.types,c=0,u=0;function f(P,w,E,k,R){let{id:$,start:L,end:H,size:Z}=i,J=u;for(;Z<0;)if(i.next(),Z==-1){let G=l[$];E.push(G),k.push(L-P);return}else if(Z==-3){c=$;return}else if(Z==-4){u=$;return}else throw new RangeError(`Unrecognized record size: ${Z}`);let ge=s[$],V,X,oe=L-P;if(H-L<=r&&(X=g(i.pos-w,R))){let G=new Uint16Array(X.size-X.skip),D=i.pos-X.size,N=G.length;for(;i.pos>D;)N=b(X.start,G,N);V=new ft(G,H-X.start,n),oe=X.start-P}else{let G=i.pos-Z;i.next();let D=[],N=[],U=$>=o?$:-1,j=0,q=H;for(;i.pos>G;)U>=0&&i.id==U&&i.size>=0?(i.end<=q-r&&(h(D,N,L,j,i.end,q,U,J),j=D.length,q=i.end),i.next()):f(L,G,D,N,U);if(U>=0&&j>0&&j<D.length&&h(D,N,L,j,L,q,U,J),D.reverse(),N.reverse(),U>-1&&j>0){let de=m(ge);V=Mn(ge,D,N,0,D.length,0,H-L,de,de)}else V=p(ge,D,N,H-L,J-H)}E.push(V),k.push(oe)}function m(P){return(w,E,k)=>{let R=0,$=w.length-1,L,H;if($>=0&&(L=w[$])instanceof ke){if(!$&&L.type==P&&L.length==k)return L;(H=L.prop(ce.lookAhead))&&(R=E[$]+L.length+H)}return p(P,w,E,k,R)}}function h(P,w,E,k,R,$,L,H){let Z=[],J=[];for(;P.length>k;)Z.push(P.pop()),J.push(w.pop()+E-R);P.push(p(n.types[L],Z,J,$-R,H-$)),w.push(R-E)}function p(P,w,E,k,R=0,$){if(c){let L=[ce.contextHash,c];$=$?[L].concat($):[L]}if(R>25){let L=[ce.lookAhead,R];$=$?[L].concat($):[L]}return new ke(P,w,E,k,$)}function g(P,w){let E=i.fork(),k=0,R=0,$=0,L=E.end-r,H={size:0,start:0,skip:0};e:for(let Z=E.pos-P;E.pos>Z;){let J=E.size;if(E.id==w&&J>=0){H.size=k,H.start=R,H.skip=$,$+=4,k+=4,E.next();continue}let ge=E.pos-J;if(J<0||ge<Z||E.start<L)break;let V=E.id>=o?4:0,X=E.start;for(E.next();E.pos>ge;){if(E.size<0)if(E.size==-3)V+=4;else break e;else E.id>=o&&(V+=4);E.next()}R=X,k+=J,$+=V}return(w<0||k==P)&&(H.size=k,H.start=R,H.skip=$),H.size>4?H:void 0}function b(P,w,E){let{id:k,start:R,end:$,size:L}=i;if(i.next(),L>=0&&k<o){let H=E;if(L>4){let Z=i.pos-(L-4);for(;i.pos>Z;)E=b(P,w,E)}w[--E]=H,w[--E]=$-P,w[--E]=R-P,w[--E]=k}else L==-3?c=k:L==-4&&(u=k);return E}let y=[],O=[];for(;i.pos>0;)f(t.start||0,t.bufferStart||0,y,O,-1);let x=(e=t.length)!==null&&e!==void 0?e:y.length?O[0]+y[0].length:0;return new ke(s[t.topID],y.reverse(),O.reverse(),x)}const kr=new WeakMap;function ra(t,e){if(!t.isAnonymous||e instanceof ft||e.type!=t)return 1;let a=kr.get(e);if(a==null){a=1;for(let n of e.children){if(n.type!=t||!(n instanceof ke)){a=1;break}a+=ra(t,n)}kr.set(e,a)}return a}function Mn(t,e,a,n,r,l,o,i,s){let c=0;for(let p=n;p<r;p++)c+=ra(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],m=[];function h(p,g,b,y,O){for(let x=b;x<y;){let P=x,w=g[x],E=ra(t,p[x]);for(x++;x<y;x++){let k=ra(t,p[x]);if(E+k>=u)break;E+=k}if(x==P+1){if(E>u){let k=p[P];h(k.children,k.positions,0,k.children.length,g[P]+O);continue}f.push(p[P])}else{let k=g[x-1]+p[x-1].length-w;f.push(Mn(t,p,g,P,x,w,k,null,s))}m.push(w+O-l)}}return h(e,a,n,r,0),(i||s)(f,m,o)}class dt{constructor(e,a,n,r,l=!1,o=!1){this.from=e,this.to=a,this.tree=n,this.offset=r,this.open=(l?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,a=[],n=!1){let r=[new dt(0,e.length,e,0,!1,n)];for(let l of a)l.to>e.length&&r.push(l);return r}static applyChanges(e,a,n=128){if(!a.length)return e;let r=[],l=1,o=e.length?e[0]:null;for(let i=0,s=0,c=0;;i++){let u=i<a.length?a[i]:null,f=u?u.fromA:1e9;if(f-s>=n)for(;o&&o.from<f;){let m=o;if(s>=m.from||f<=m.to||c){let h=Math.max(m.from,s)-c,p=Math.min(m.to,f)-c;m=h>=p?null:new dt(h,p,m.tree,m.offset+c,i>0,!!u)}if(m&&r.push(m),o.to>f)break;o=l<e.length?e[l++]:null}if(!u)break;s=u.toA,c=u.toA-u.toB}return r}}class xc{startParse(e,a,n){return typeof e=="string"&&(e=new Dc(e)),n=n?n.length?n.map(r=>new Wa(r.from,r.to)):[new Wa(0,0)]:[new Wa(0,e.length)],this.createParse(e,a||[],n)}parse(e,a,n){let r=this.startParse(e,a,n);for(;;){let l=r.advance();if(l)return l}}}class Dc{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,a){return this.string.slice(e,a)}}new ce({perNode:!0});var za;const $t=new ce;function Lc(t){return pl.define({combine:t?e=>e.concat(t):void 0})}const Ic=new ce;class He{constructor(e,a,n=[],r=""){this.data=e,this.name=r,aa.prototype.hasOwnProperty("tree")||Object.defineProperty(aa.prototype,"tree",{get(){return ya(this)}}),this.parser=a,this.extension=[At.of(this),aa.languageData.of((l,o,i)=>{let s=Pr(l,o,i),c=s.type.prop($t);if(!c)return[];let u=l.facet(c),f=s.type.prop(Ic);if(f){let m=s.resolve(o-s.from,i);for(let h of f)if(h.test(m,l)){let p=l.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(n)}isActiveAt(e,a,n=-1){return Pr(e,a,n).type.prop($t)==this.data}findRegions(e){let a=e.facet(At);if((a==null?void 0:a.data)==this.data)return[{from:0,to:e.doc.length}];if(!a||!a.allowsNesting)return[];let n=[],r=(l,o)=>{if(l.prop($t)==this.data){n.push({from:o,to:o+l.length});return}let i=l.prop(ce.mounted);if(i){if(i.tree.prop($t)==this.data){if(i.overlay)for(let s of i.overlay)n.push({from:s.from+o,to:s.to+o});else n.push({from:o,to:o+l.length});return}else if(i.overlay){let s=n.length;if(r(i.tree,i.overlay[0].from+o),n.length>s)return}}for(let s=0;s<l.children.length;s++){let c=l.children[s];c instanceof ke&&r(c,l.positions[s]+o)}};return r(ya(e),0),n}get allowsNesting(){return!0}}He.setState=Ci.define();function Pr(t,e,a){let n=t.facet(At),r=ya(t).topNode;if(!n||n.allowsNesting)for(let l=r;l;l=l.enter(e,a,Se.ExcludeBuffers))l.type.isTop&&(r=l);return r}class ga extends He{constructor(e,a,n){super(e,a,[],n),this.parser=a}static define(e){let a=Lc(e.languageData);return new ga(a,e.parser.configure({props:[$t.add(n=>n.isTop?a:void 0)]}),e.name)}configure(e,a){return new ga(this.data,this.parser.configure(e),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ya(t){let e=t.field(He.state,!1);return e?e.tree:ke.empty}class Vc{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,a){let n=this.cursorPos-this.string.length;return e<n||a>=this.cursorPos?this.doc.sliceString(e,a):this.string.slice(e-n,a-n)}}let Lt=null;class ba{constructor(e,a,n=[],r,l,o,i,s){this.parser=e,this.state=a,this.fragments=n,this.tree=r,this.treeLen=l,this.viewport=o,this.skipped=i,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,a,n){return new ba(e,a,[],ke.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Vc(this.state.doc),this.fragments)}work(e,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=ke.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(dt.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(a??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,a;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=e,this.tree=a,this.fragments=this.withoutTempSkipped(dt.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let a=Lt;Lt=this;try{return e()}finally{Lt=a}}withoutTempSkipped(e){for(let a;a=this.tempSkipped.pop();)e=Cr(e,a.from,a.to);return e}changes(e,a){let{fragments:n,tree:r,treeLen:l,viewport:o,skipped:i}=this;if(this.takeTree(),!e.empty){let s=[];if(e.iterChangedRanges((c,u,f,m)=>s.push({fromA:c,toA:u,fromB:f,toB:m})),n=dt.applyChanges(n,s),r=ke.empty,l=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){i=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&i.push({from:u,to:f})}}}return new ba(this.parser,a,n,r,l,o,i,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let a=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:l}=this.skipped[n];r<e.to&&l>e.from&&(this.fragments=Cr(this.fragments,r,l),this.skipped.splice(n--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,a){this.skipped.push({from:e,to:a})}static getSkippingParser(e){return new class extends xc{createParse(a,n,r){let l=r[0].from,o=r[r.length-1].to;return{parsedPos:l,advance(){let s=Lt;if(s){for(let c of r)s.tempSkipped.push(c);e&&(s.scheduleOn=s.scheduleOn?Promise.all([s.scheduleOn,e]):e)}return this.parsedPos=o,new ke(Me.none,[],[],o-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let a=this.fragments;return this.treeLen>=e&&a.length&&a[0].from==0&&a[0].to>=e}static get(){return Lt}}function Cr(t,e,a){return dt.applyChanges(t,[{fromA:e,toA:a,fromB:e,toB:a}])}class Ct{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,n)||a.takeTree(),new Ct(a)}static init(e){let a=Math.min(3e3,e.doc.length),n=ba.create(e.facet(At).parser,e,{from:0,to:a});return n.work(20,a)||n.takeTree(),new Ct(n)}}He.state=ki.define({create:Ct.init,update(t,e){for(let a of e.effects)if(a.is(He.setState))return a.value;return e.startState.facet(At)!=e.state.facet(At)?Ct.init(e.state):t.apply(e)}});let Zl=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Zl=t=>{let e=-1,a=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(a):cancelIdleCallback(e)});const Ha=typeof navigator<"u"&&(!((za=navigator.scheduling)===null||za===void 0)&&za.isInputPending)?()=>navigator.scheduling.isInputPending():null,Rc=Ai.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let a=this.view.state.field(He.state).context;(a.updateViewport(e.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:e}=this.view,a=e.field(He.state);(a.tree!=a.context.tree||!a.context.isDone(e.doc.length))&&(this.working=Zl(this.work))}work(e){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,l=n.field(He.state);if(l.tree==l.context.tree&&l.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ha?Math.max(25,e.timeRemaining()-5):1e9),i=l.context.treeLen<r&&n.doc.length>r+1e3,s=l.context.work(()=>Ha&&Ha()||Date.now()>o,r+(i?0:1e5));this.chunkBudget-=Date.now()-a,(s||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:He.setState.of(new Ct(l.context))})),this.chunkBudget>0&&!(s&&!i)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(a=>Ei(this.view.state,a)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),At=pl.define({combine(t){return t.length?t[0]:null},enables:t=>[He.state,Rc,Pi.contentAttributes.compute([t],e=>{let a=e.facet(t);return a&&a.name?{"data-language":a.name}:{}})]});class $c{constructor(e,a=[]){this.language=e,this.support=a,this.extension=[e,a]}}const Nc=new ce,Bc=new ce,Mc=new ce,Uc=Object.create(null),Ar=[Me.none],Er=[],Gc=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gc[t]=Fc(Uc,e);function qa(t,e){Er.indexOf(t)>-1||(Er.push(t),console.warn(e))}function Fc(t,e){let a=null;for(let l of e.split(".")){let o=t[l]||Ce[l];o?typeof o=="function"?a?a=o(a):qa(l,`Modifier ${l} used at start of tag`):a?qa(l,`Tag ${l} used as modifier`):a=o:qa(l,`Unknown highlighting tag ${l}`)}if(!a)return 0;let n=e.replace(/ /g,"_"),r=Me.define({id:Ar.length,name:n,props:[dl({[n]:a})]});return Ar.push(r),r.id}function la(t,e){let a=e&&e.getChild("TagName");return a?t.sliceString(a.from,a.to):""}function Qa(t,e){let a=e&&e.firstChild;return!a||a.name!="OpenTag"?"":la(t,a)}function Wc(t,e,a){let n=e&&e.getChildren("Attribute").find(l=>l.from<=a&&l.to>=a),r=n&&n.getChild("AttributeName");return r?t.sliceString(r.from,r.to):""}function Xa(t){for(let e=t&&t.parent;e;e=e.parent)if(e.name=="Element")return e;return null}function zc(t,e){var a;let n=ya(t).resolveInner(e,-1),r=null;for(let l=n;!r&&l.parent;l=l.parent)(l.name=="OpenTag"||l.name=="CloseTag"||l.name=="SelfClosingTag"||l.name=="MismatchedCloseTag")&&(r=l);if(r&&(r.to>e||r.lastChild.type.isError)){let l=r.parent;if(n.name=="TagName")return r.name=="CloseTag"||r.name=="MismatchedCloseTag"?{type:"closeTag",from:n.from,context:l}:{type:"openTag",from:n.from,context:Xa(l)};if(n.name=="AttributeName")return{type:"attrName",from:n.from,context:r};if(n.name=="AttributeValue")return{type:"attrValue",from:n.from,context:r};let o=n==r||n.name=="Attribute"?n.childBefore(e):n;return(o==null?void 0:o.name)=="StartTag"?{type:"openTag",from:e,context:Xa(l)}:(o==null?void 0:o.name)=="StartCloseTag"&&o.to<=e?{type:"closeTag",from:e,context:l}:(o==null?void 0:o.name)=="Is"?{type:"attrValue",from:e,context:r}:o?{type:"attrName",from:e,context:r}:null}else if(n.name=="StartCloseTag")return{type:"closeTag",from:e,context:n.parent};for(;n.parent&&n.to==e&&!(!((a=n.lastChild)===null||a===void 0)&&a.type.isError);)n=n.parent;return n.name=="Element"||n.name=="Text"||n.name=="Document"?{type:"tag",from:e,context:n.name=="Element"?n:Xa(n)}:null}class Hc{constructor(e,a,n){this.attrs=a,this.attrValues=n,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(r=>({label:r,type:"text"})):[]}}const ja=/^[:\-\.\w\u00b7-\uffff]*$/;function xr(t){return Object.assign(Object.assign({type:"property"},t.completion||{}),{label:t.name})}function Dr(t){return typeof t=="string"?{label:`"${t}"`,type:"constant"}:/^"/.test(t.label)?t:Object.assign(Object.assign({},t),{label:`"${t.label}"`})}function qc(t,e){let a=[],n=[],r=Object.create(null);for(let s of e){let c=xr(s);a.push(c),s.global&&n.push(c),s.values&&(r[s.name]=s.values.map(Dr))}let l=[],o=[],i=Object.create(null);for(let s of t){let c=n,u=r;s.attributes&&(c=c.concat(s.attributes.map(m=>typeof m=="string"?a.find(h=>h.label==m)||{label:m,type:"property"}:(m.values&&(u==r&&(u=Object.create(u)),u[m.name]=m.values.map(Dr)),xr(m)))));let f=new Hc(s,c,u);i[f.name]=f,l.push(f),s.top&&o.push(f)}o.length||(o=l);for(let s=0;s<l.length;s++){let c=t[s],u=l[s];if(c.children)for(let f of c.children)i[f]&&u.children.push(i[f]);else u.children=l}return s=>{var c;let{doc:u}=s.state,f=zc(s.state,s.pos);if(!f||f.type=="tag"&&!s.explicit)return null;let{type:m,from:h,context:p}=f;if(m=="openTag"){let g=o,b=Qa(u,p);if(b){let y=i[b];g=(y==null?void 0:y.children)||l}return{from:h,options:g.map(y=>y.completion),validFor:ja}}else if(m=="closeTag"){let g=Qa(u,p);return g?{from:h,to:s.pos+(u.sliceString(s.pos,s.pos+1)==">"?1:0),options:[((c=i[g])===null||c===void 0?void 0:c.closeNameCompletion)||{label:g+">",type:"type"}],validFor:ja}:null}else if(m=="attrName"){let g=i[la(u,p)];return{from:h,options:(g==null?void 0:g.attrs)||n,validFor:ja}}else if(m=="attrValue"){let g=Wc(u,p,h);if(!g)return null;let b=i[la(u,p)],y=((b==null?void 0:b.attrValues)||r)[g];return!y||!y.length?null:{from:h,to:s.pos+(u.sliceString(s.pos,s.pos+1)=='"'?1:0),options:y,validFor:/^"[^"]*"?$/}}else if(m=="tag"){let g=Qa(u,p),b=i[g],y=[],O=p&&p.lastChild;g&&(!O||O.name!="CloseTag"||la(u,O)!=g)&&y.push(b?b.closeCompletion:{label:"</"+g+">",type:"type",boost:2});let x=y.concat(((b==null?void 0:b.children)||(p?l:o)).map(P=>P.openCompletion));if(p&&(b!=null&&b.text.length)){let P=p.firstChild;P.to>s.pos-20&&!/\S/.test(s.state.sliceDoc(P.to,s.pos))&&(x=x.concat(b.text))}return{from:h,options:x,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const Lr=ga.define({name:"xml",parser:Oc.configure({props:[Nc.add({Element(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Bc.add({Element(t){let e=t.firstChild,a=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:a.name=="CloseTag"?a.from:t.to}}}),Mc.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function Qc(t={}){return new $c(Lr,Lr.data.of({autocomplete:qc(t.elements||[],t.attributes||[])}))}const oa=K({__name:"LabEditorDataGridGridCellDetailCodeRenderer",props:{value:{},codeLanguage:{default:Fe.Raw},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=ze(),n=An(),r=W(!0),l=T(()=>{const u=[{title:"Copy",value:"copy",props:{prependIcon:"mdi-content-copy"}}];return e.codeLanguage!==Fe.Raw&&u.push({title:r.value?"Display raw value":"Pretty print value",value:"pretty-print",props:{prependIcon:r.value?"mdi-raw":"mdi-auto-fix"}}),u}),o=T(()=>{try{return n.formatEntityPropertyValue(e.value,e.codeLanguage,r.value)}catch(u){return console.error(u),`Error: Failed to format value as ${e.codeLanguage}. \r
\r
`+(u!=null&&u.message?`${u.message}.`:"")}}),i=T(()=>{if(!o.value)return[];switch(e.codeLanguage){case Fe.Raw:return[];case Fe.Json:return[xi()];case Fe.Xml:return[Qc()];default:return a.error(new rt(void 0,"Unsupported code language.")),[]}});function s(u){switch(u){case"copy":c();break;case"pretty-print":r.value=!r.value;break}}function c(){navigator.clipboard.writeText(o.value).then(()=>{a.info("Copied to clipboard.")}).catch(()=>{a.error(new rt(void 0,"Failed to copy to clipboard."))})}return(u,f)=>(S(),C(Rn,{"fill-space":u.fillSpace,actions:l.value,"onClick:action":s},{default:_(()=>[d(Di,{"model-value":o.value,"read-only":"","additional-extensions":i.value},null,8,["model-value","additional-extensions"])]),_:1},8,["fill-space","actions"]))}});/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries:Jl,setPrototypeOf:Ir,isFrozen:Xc,getPrototypeOf:jc,getOwnPropertyDescriptor:eo}=Object;let{freeze:xe,seal:We,create:to}=Object,{apply:hn,construct:vn}=typeof Reflect<"u"&&Reflect;xe||(xe=function(e){return e});We||(We=function(e){return e});hn||(hn=function(e,a,n){return e.apply(a,n)});vn||(vn=function(e,a){return new e(...a)});const Jt=Ue(Array.prototype.forEach),Vr=Ue(Array.prototype.pop),It=Ue(Array.prototype.push),ia=Ue(String.prototype.toLowerCase),Ya=Ue(String.prototype.toString),Yc=Ue(String.prototype.match),Vt=Ue(String.prototype.replace),Kc=Ue(String.prototype.indexOf),Zc=Ue(String.prototype.trim),Ve=Ue(RegExp.prototype.test),Rt=Jc(TypeError);function Ue(t){return function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return hn(t,e,n)}}function Jc(t){return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return vn(t,a)}}function Y(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ia;Ir&&Ir(t,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const l=a(r);l!==r&&(Xc(e)||(e[n]=l),r=l)}t[r]=!0}return t}function St(t){const e=to(null);for(const[a,n]of Jl(t))eo(t,a)!==void 0&&(e[a]=n);return e}function ea(t,e){for(;t!==null;){const n=eo(t,e);if(n){if(n.get)return Ue(n.get);if(typeof n.value=="function")return Ue(n.value)}t=jc(t)}function a(n){return console.warn("fallback value for",n),null}return a}const Rr=xe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ka=xe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Za=xe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ed=xe(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ja=xe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),td=xe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$r=xe(["#text"]),Nr=xe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),en=xe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Br=xe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ta=xe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ad=We(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nd=We(/<%[\w\W]*|[\w\W]*%>/gm),rd=We(/\${[\w\W]*}/gm),ld=We(/^data-[\-\w.\u00B7-\uFFFF]/),od=We(/^aria-[\-\w]+$/),ao=We(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),id=We(/^(?:\w+script|data):/i),sd=We(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),no=We(/^html$/i);var Mr=Object.freeze({__proto__:null,MUSTACHE_EXPR:ad,ERB_EXPR:nd,TMPLIT_EXPR:rd,DATA_ATTR:ld,ARIA_ATTR:od,IS_ALLOWED_URI:ao,IS_SCRIPT_OR_DATA:id,ATTR_WHITESPACE:sd,DOCTYPE_NAME:no});const ud=function(){return typeof window>"u"?null:window},cd=function(e,a){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";a&&a.hasAttribute(r)&&(n=a.getAttribute(r));const l="dompurify"+(n?"#"+n:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function ro(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ud();const e=F=>ro(F);if(e.version="3.0.6",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:a}=t;const n=a,r=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:i,Element:s,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:m,trustedTypes:h}=t,p=s.prototype,g=ea(p,"cloneNode"),b=ea(p,"nextSibling"),y=ea(p,"childNodes"),O=ea(p,"parentNode");if(typeof o=="function"){const F=a.createElement("template");F.content&&F.content.ownerDocument&&(a=F.content.ownerDocument)}let x,P="";const{implementation:w,createNodeIterator:E,createDocumentFragment:k,getElementsByTagName:R}=a,{importNode:$}=n;let L={};e.isSupported=typeof Jl=="function"&&typeof O=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:Z,TMPLIT_EXPR:J,DATA_ATTR:ge,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:oe}=Mr;let{IS_ALLOWED_URI:G}=Mr,D=null;const N=Y({},[...Rr,...Ka,...Za,...Ja,...$r]);let U=null;const j=Y({},[...Nr,...en,...Br,...ta]);let q=Object.seal(to(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,_e=null,mt=!0,Re=!0,et=!1,ot=!0,Ge=!1,it=!1,Va=!1,Ra=!1,ht=!1,zt=!1,Ht=!1,Gn=!0,Fn=!1;const uo="user-content-";let $a=!0,xt=!1,vt={},gt=null;const Wn=Y({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zn=null;const Hn=Y({},["audio","video","img","source","image","track"]);let Na=null;const qn=Y({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let yt=Ye,Ba=!1,Ma=null;const co=Y({},[qt,Qt,Ye],Ya);let st=null;const po=["application/xhtml+xml","text/html"],fo="text/html";let be=null,bt=null;const mo=a.createElement("form"),Qn=function(v){return v instanceof RegExp||v instanceof Function},Ua=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(bt&&bt===v)){if((!v||typeof v!="object")&&(v={}),v=St(v),st=po.indexOf(v.PARSER_MEDIA_TYPE)===-1?st=fo:st=v.PARSER_MEDIA_TYPE,be=st==="application/xhtml+xml"?Ya:ia,D="ALLOWED_TAGS"in v?Y({},v.ALLOWED_TAGS,be):N,U="ALLOWED_ATTR"in v?Y({},v.ALLOWED_ATTR,be):j,Ma="ALLOWED_NAMESPACES"in v?Y({},v.ALLOWED_NAMESPACES,Ya):co,Na="ADD_URI_SAFE_ATTR"in v?Y(St(qn),v.ADD_URI_SAFE_ATTR,be):qn,zn="ADD_DATA_URI_TAGS"in v?Y(St(Hn),v.ADD_DATA_URI_TAGS,be):Hn,gt="FORBID_CONTENTS"in v?Y({},v.FORBID_CONTENTS,be):Wn,de="FORBID_TAGS"in v?Y({},v.FORBID_TAGS,be):{},_e="FORBID_ATTR"in v?Y({},v.FORBID_ATTR,be):{},vt="USE_PROFILES"in v?v.USE_PROFILES:!1,mt=v.ALLOW_ARIA_ATTR!==!1,Re=v.ALLOW_DATA_ATTR!==!1,et=v.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=v.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ge=v.SAFE_FOR_TEMPLATES||!1,it=v.WHOLE_DOCUMENT||!1,ht=v.RETURN_DOM||!1,zt=v.RETURN_DOM_FRAGMENT||!1,Ht=v.RETURN_TRUSTED_TYPE||!1,Ra=v.FORCE_BODY||!1,Gn=v.SANITIZE_DOM!==!1,Fn=v.SANITIZE_NAMED_PROPS||!1,$a=v.KEEP_CONTENT!==!1,xt=v.IN_PLACE||!1,G=v.ALLOWED_URI_REGEXP||ao,yt=v.NAMESPACE||Ye,q=v.CUSTOM_ELEMENT_HANDLING||{},v.CUSTOM_ELEMENT_HANDLING&&Qn(v.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=v.CUSTOM_ELEMENT_HANDLING.tagNameCheck),v.CUSTOM_ELEMENT_HANDLING&&Qn(v.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=v.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),v.CUSTOM_ELEMENT_HANDLING&&typeof v.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(q.allowCustomizedBuiltInElements=v.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ge&&(Re=!1),zt&&(ht=!0),vt&&(D=Y({},[...$r]),U=[],vt.html===!0&&(Y(D,Rr),Y(U,Nr)),vt.svg===!0&&(Y(D,Ka),Y(U,en),Y(U,ta)),vt.svgFilters===!0&&(Y(D,Za),Y(U,en),Y(U,ta)),vt.mathMl===!0&&(Y(D,Ja),Y(U,Br),Y(U,ta))),v.ADD_TAGS&&(D===N&&(D=St(D)),Y(D,v.ADD_TAGS,be)),v.ADD_ATTR&&(U===j&&(U=St(U)),Y(U,v.ADD_ATTR,be)),v.ADD_URI_SAFE_ATTR&&Y(Na,v.ADD_URI_SAFE_ATTR,be),v.FORBID_CONTENTS&&(gt===Wn&&(gt=St(gt)),Y(gt,v.FORBID_CONTENTS,be)),$a&&(D["#text"]=!0),it&&Y(D,["html","head","body"]),D.table&&(Y(D,["tbody"]),delete de.tbody),v.TRUSTED_TYPES_POLICY){if(typeof v.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof v.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=v.TRUSTED_TYPES_POLICY,P=x.createHTML("")}else x===void 0&&(x=cd(h,r)),x!==null&&typeof P=="string"&&(P=x.createHTML(""));xe&&xe(v),bt=v}},Xn=Y({},["mi","mo","mn","ms","mtext"]),jn=Y({},["foreignobject","desc","title","annotation-xml"]),ho=Y({},["title","style","font","a","script"]),Xt=Y({},Ka);Y(Xt,Za),Y(Xt,ed);const Ga=Y({},Ja);Y(Ga,td);const vo=function(v){let A=O(v);(!A||!A.tagName)&&(A={namespaceURI:yt,tagName:"template"});const M=ia(v.tagName),ue=ia(A.tagName);return Ma[v.namespaceURI]?v.namespaceURI===Qt?A.namespaceURI===Ye?M==="svg":A.namespaceURI===qt?M==="svg"&&(ue==="annotation-xml"||Xn[ue]):!!Xt[M]:v.namespaceURI===qt?A.namespaceURI===Ye?M==="math":A.namespaceURI===Qt?M==="math"&&jn[ue]:!!Ga[M]:v.namespaceURI===Ye?A.namespaceURI===Qt&&!jn[ue]||A.namespaceURI===qt&&!Xn[ue]?!1:!Ga[M]&&(ho[M]||!Xt[M]):!!(st==="application/xhtml+xml"&&Ma[v.namespaceURI]):!1},ut=function(v){It(e.removed,{element:v});try{v.parentNode.removeChild(v)}catch{v.remove()}},Fa=function(v,A){try{It(e.removed,{attribute:A.getAttributeNode(v),from:A})}catch{It(e.removed,{attribute:null,from:A})}if(A.removeAttribute(v),v==="is"&&!U[v])if(ht||zt)try{ut(A)}catch{}else try{A.setAttribute(v,"")}catch{}},Yn=function(v){let A=null,M=null;if(Ra)v="<remove></remove>"+v;else{const Te=Yc(v,/^[\r\n\t ]+/);M=Te&&Te[0]}st==="application/xhtml+xml"&&yt===Ye&&(v='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+v+"</body></html>");const ue=x?x.createHTML(v):v;if(yt===Ye)try{A=new m().parseFromString(ue,st)}catch{}if(!A||!A.documentElement){A=w.createDocument(yt,"template",null);try{A.documentElement.innerHTML=Ba?P:ue}catch{}}const we=A.body||A.documentElement;return v&&M&&we.insertBefore(a.createTextNode(M),we.childNodes[0]||null),yt===Ye?R.call(A,it?"html":"body")[0]:it?A.documentElement:we},Kn=function(v){return E.call(v.ownerDocument||v,v,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null)},go=function(v){return v instanceof f&&(typeof v.nodeName!="string"||typeof v.textContent!="string"||typeof v.removeChild!="function"||!(v.attributes instanceof u)||typeof v.removeAttribute!="function"||typeof v.setAttribute!="function"||typeof v.namespaceURI!="string"||typeof v.insertBefore!="function"||typeof v.hasChildNodes!="function")},Zn=function(v){return typeof i=="function"&&v instanceof i},Ke=function(v,A,M){L[v]&&Jt(L[v],ue=>{ue.call(e,A,M,bt)})},Jn=function(v){let A=null;if(Ke("beforeSanitizeElements",v,null),go(v))return ut(v),!0;const M=be(v.nodeName);if(Ke("uponSanitizeElement",v,{tagName:M,allowedTags:D}),v.hasChildNodes()&&!Zn(v.firstElementChild)&&Ve(/<[/\w]/g,v.innerHTML)&&Ve(/<[/\w]/g,v.textContent))return ut(v),!0;if(!D[M]||de[M]){if(!de[M]&&tr(M)&&(q.tagNameCheck instanceof RegExp&&Ve(q.tagNameCheck,M)||q.tagNameCheck instanceof Function&&q.tagNameCheck(M)))return!1;if($a&&!gt[M]){const ue=O(v)||v.parentNode,we=y(v)||v.childNodes;if(we&&ue){const Te=we.length;for(let De=Te-1;De>=0;--De)ue.insertBefore(g(we[De],!0),b(v))}}return ut(v),!0}return v instanceof s&&!vo(v)||(M==="noscript"||M==="noembed"||M==="noframes")&&Ve(/<\/no(script|embed|frames)/i,v.innerHTML)?(ut(v),!0):(Ge&&v.nodeType===3&&(A=v.textContent,Jt([H,Z,J],ue=>{A=Vt(A,ue," ")}),v.textContent!==A&&(It(e.removed,{element:v.cloneNode()}),v.textContent=A)),Ke("afterSanitizeElements",v,null),!1)},er=function(v,A,M){if(Gn&&(A==="id"||A==="name")&&(M in a||M in mo))return!1;if(!(Re&&!_e[A]&&Ve(ge,A))){if(!(mt&&Ve(V,A))){if(!U[A]||_e[A]){if(!(tr(v)&&(q.tagNameCheck instanceof RegExp&&Ve(q.tagNameCheck,v)||q.tagNameCheck instanceof Function&&q.tagNameCheck(v))&&(q.attributeNameCheck instanceof RegExp&&Ve(q.attributeNameCheck,A)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(A))||A==="is"&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&Ve(q.tagNameCheck,M)||q.tagNameCheck instanceof Function&&q.tagNameCheck(M))))return!1}else if(!Na[A]){if(!Ve(G,Vt(M,oe,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&v!=="script"&&Kc(M,"data:")===0&&zn[v])){if(!(et&&!Ve(X,Vt(M,oe,"")))){if(M)return!1}}}}}}return!0},tr=function(v){return v.indexOf("-")>0},ar=function(v){Ke("beforeSanitizeAttributes",v,null);const{attributes:A}=v;if(!A)return;const M={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let ue=A.length;for(;ue--;){const we=A[ue],{name:Te,namespaceURI:De,value:ct}=we,Dt=be(Te);let Le=Te==="value"?ct:Zc(ct);if(M.attrName=Dt,M.attrValue=Le,M.keepAttr=!0,M.forceKeepAttr=void 0,Ke("uponSanitizeAttribute",v,M),Le=M.attrValue,M.forceKeepAttr||(Fa(Te,v),!M.keepAttr))continue;if(!ot&&Ve(/\/>/i,Le)){Fa(Te,v);continue}Ge&&Jt([H,Z,J],rr=>{Le=Vt(Le,rr," ")});const nr=be(v.nodeName);if(er(nr,Dt,Le)){if(Fn&&(Dt==="id"||Dt==="name")&&(Fa(Te,v),Le=uo+Le),x&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!De)switch(h.getAttributeType(nr,Dt)){case"TrustedHTML":{Le=x.createHTML(Le);break}case"TrustedScriptURL":{Le=x.createScriptURL(Le);break}}try{De?v.setAttributeNS(De,Te,Le):v.setAttribute(Te,Le),Vr(e.removed)}catch{}}}Ke("afterSanitizeAttributes",v,null)},yo=function F(v){let A=null;const M=Kn(v);for(Ke("beforeSanitizeShadowDOM",v,null);A=M.nextNode();)Ke("uponSanitizeShadowNode",A,null),!Jn(A)&&(A.content instanceof l&&F(A.content),ar(A));Ke("afterSanitizeShadowDOM",v,null)};return e.sanitize=function(F){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=null,M=null,ue=null,we=null;if(Ba=!F,Ba&&(F="<!-->"),typeof F!="string"&&!Zn(F))if(typeof F.toString=="function"){if(F=F.toString(),typeof F!="string")throw Rt("dirty is not a string, aborting")}else throw Rt("toString is not a function");if(!e.isSupported)return F;if(Va||Ua(v),e.removed=[],typeof F=="string"&&(xt=!1),xt){if(F.nodeName){const ct=be(F.nodeName);if(!D[ct]||de[ct])throw Rt("root node is forbidden and cannot be sanitized in-place")}}else if(F instanceof i)A=Yn("<!---->"),M=A.ownerDocument.importNode(F,!0),M.nodeType===1&&M.nodeName==="BODY"||M.nodeName==="HTML"?A=M:A.appendChild(M);else{if(!ht&&!Ge&&!it&&F.indexOf("<")===-1)return x&&Ht?x.createHTML(F):F;if(A=Yn(F),!A)return ht?null:Ht?P:""}A&&Ra&&ut(A.firstChild);const Te=Kn(xt?F:A);for(;ue=Te.nextNode();)Jn(ue)||(ue.content instanceof l&&yo(ue.content),ar(ue));if(xt)return F;if(ht){if(zt)for(we=k.call(A.ownerDocument);A.firstChild;)we.appendChild(A.firstChild);else we=A;return(U.shadowroot||U.shadowrootmode)&&(we=$.call(n,we,!0)),we}let De=it?A.outerHTML:A.innerHTML;return it&&D["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&Ve(no,A.ownerDocument.doctype.name)&&(De="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+De),Ge&&Jt([H,Z,J],ct=>{De=Vt(De,ct," ")}),x&&Ht?x.createHTML(De):De},e.setConfig=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ua(F),Va=!0},e.clearConfig=function(){bt=null,Va=!1},e.isValidAttribute=function(F,v,A){bt||Ua({});const M=be(F),ue=be(v);return er(M,ue,A)},e.addHook=function(F,v){typeof v=="function"&&(L[F]=L[F]||[],It(L[F],v))},e.removeHook=function(F){if(L[F])return Vr(L[F])},e.removeHooks=function(F){L[F]&&(L[F]=[])},e.removeAllHooks=function(){L={}},e}var dd=ro();const pd={class:"html-renderer"},fd=["innerHTML"],md=K({__name:"LabEditorDataGridGridCellDetailHtmlRenderer",props:{value:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=T(()=>typeof e.value!="string"?"Error: Failed to render HTML. Value is not a string.":dd.sanitize(e.value.toString()));return(n,r)=>(S(),C(Rn,{"fill-space":n.fillSpace},{default:_(()=>[z("div",pd,[z("div",{innerHTML:a.value},null,8,fd)])]),_:1},8,["fill-space"]))}});const lo=me(md,[["__scopeId","data-v-9b8348bc"]]),hd=K({__name:"LabEditorDataGridGridCellDetailAutoPrettyPrintRenderer",props:{dataType:{},value:{},fillSpace:{type:Boolean,default:!0}},setup(t){const e=t,a=["<div","<a","<p","<span","<ul","<li","<img","<h1","<h2","<h3","<input","<body","<html","<head","<title","<meta","<link","<style","<script","<br","<ol","<h4","<h5","<h6","<i","<b","<form"],n=T(()=>{const l={};if(!e.dataType)l.renderer={type:"code",codeLanguage:Fe.Raw},e.value instanceof Object?l.value=JSON.stringify(e.value):l.value=e.value.toString();else switch(e.dataType){case te.String:{const o=e.value.trim();o.startsWith("{")||o.startsWith("[")?(l.renderer={type:"code",codeLanguage:Fe.Json},l.value=o):o.startsWith("<")?(r(o)?l.renderer={type:"html"}:l.renderer={type:"code",codeLanguage:Fe.Xml},l.value=o):(l.renderer={type:"markdown"},l.value=o);break}case te.ComplexDataObject:l.renderer={type:"code",codeLanguage:Fe.Json},l.value=e.value;break;default:l.renderer={type:"markdown"},l.value=e.value;break}return l});function r(l){for(const o of a)if(l.includes(o))return!0;return!1}return(l,o)=>n.value.renderer.type==="markdown"?(S(),C(Xl,{key:0,value:n.value.value,"data-type":l.dataType},null,8,["value","data-type"])):n.value.renderer.type==="code"?(S(),C(oa,{key:1,value:n.value.value,"code-language":n.value.renderer.codeLanguage},null,8,["value","code-language"])):n.value.renderer.type==="html"?(S(),C(lo,{key:2,value:n.value.value},null,8,["value"])):se("",!0)}}),oo=K({__name:"LabEditorDataGridGridCellDetailDelegateRenderer",props:{dataType:{},value:{},outputFormat:{default:Ee.AutoPrettyPrint},fillSpace:{type:Boolean,default:!0}},setup(t){return(e,a)=>e.outputFormat===B(Ee).AutoPrettyPrint?(S(),C(hd,{key:0,"data-type":e.dataType,value:e.value,"fill-space":e.fillSpace},null,8,["data-type","value","fill-space"])):e.outputFormat===B(Ee).Markdown?(S(),C(Xl,{key:1,value:e.value,"data-type":e.dataType,"fill-space":e.fillSpace},null,8,["value","data-type","fill-space"])):e.outputFormat===B(Ee).Raw?(S(),C(oa,{key:2,value:e.value,"fill-space":e.fillSpace},null,8,["value","fill-space"])):e.outputFormat===B(Ee).Json?(S(),C(oa,{key:3,value:e.value,"code-language":B(Fe).Json,"fill-space":e.fillSpace},null,8,["value","code-language","fill-space"])):e.outputFormat===B(Ee).Xml?(S(),C(oa,{key:4,value:e.value,"code-language":B(Fe).Xml,"fill-space":e.fillSpace},null,8,["value","code-language","fill-space"])):e.outputFormat===B(Ee).Html?(S(),C(lo,{key:5,value:e.value,"fill-space":e.fillSpace},null,8,["value","fill-space"])):se("",!0)}}),io=K({__name:"LabEditorDataGridGridCellDetailOutputFormatSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=[{title:"Auto pretty print",value:Ee.AutoPrettyPrint,props:{prependIcon:"mdi-auto-fix"}},{title:"Raw value",value:Ee.Raw,props:{prependIcon:"mdi-text"}},{title:"Markdown",value:Ee.Markdown,props:{prependIcon:"mdi-language-markdown-outline"}},{title:"JSON",value:Ee.Json,props:{prependIcon:"mdi-code-json"}},{title:"XML",value:Ee.Xml,props:{prependIcon:"mdi-xml"}},{title:"HTML",value:Ee.Html,props:{prependIcon:"mdi-language-html5"}}];return(n,r)=>(S(),C(Ft,null,{activator:_(({props:l})=>[d(fe,ie({icon:"",variant:"text",density:"compact"},l),{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-code-braces")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Select output format ")]),_:1})]),_:2},1040)]),default:_(()=>[d(lt,{selected:[n.modelValue],items:a,"onUpdate:selected":r[0]||(r[0]=l=>e("update:modelValue",l[0]))},null,8,["selected"])]),_:1}))}}),Un=Pa("flex-grow-1","div","VSpacer"),vd={class:"array-item__title"},gd={class:"mr-2"},yd={class:"array-item__content"},bd=K({__name:"LabEditorDataGridGridDetailValueListItem",props:{value:{},componentDataType:{}},setup(t){const e=W(Ee.AutoPrettyPrint);return(a,n)=>(S(),C(Vi,null,{default:_(()=>[d(Li,null,{default:_(()=>[z("div",vd,ne(a.value),1),d(Un),z("div",gd,[d(io,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=r=>e.value=r),class:"mr-4"},null,8,["modelValue"])])]),_:1}),d(Ii,null,{default:_(()=>[z("div",yd,[d(oo,{"data-type":a.componentDataType,value:a.value,"output-format":e.value,"fill-space":!1},null,8,["data-type","value","output-format"])])]),_:1})]),_:1}))}}),_d=K({__name:"LabEditorDataGridGridCellDetail",props:{modelValue:{type:Boolean},propertyDescriptor:{},propertyValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=T(()=>{var c;const s=(c=a.propertyDescriptor)==null?void 0:c.type;if(s===Q.AssociatedData)return"mdi-package-variant-closed";if(s===Q.References)return"mdi-link-variant"}),r=W(Ee.AutoPrettyPrint),l=T(()=>{var s,c,u;if(((s=a.propertyDescriptor)==null?void 0:s.type)===Q.Entity)switch(a.propertyDescriptor.key.name){case wt.PrimaryKey:return te.Integer;case wt.Locales:case wt.AllLocales:return te.LocaleArray;case wt.PriceInnerRecordHandling:return te.String;default:return}return(u=(c=a.propertyDescriptor)==null?void 0:c.schema)==null?void 0:u.type}),o=T(()=>{var s;return((s=l==null?void 0:l.value)==null?void 0:s.endsWith("Array"))||!1}),i=T(()=>{if(l.value)return o.value?l.value.replace("Array",""):l.value});return(s,c)=>(S(),C(Ea,{class:"data-grid-cell-detail"},{default:_(()=>[d(yl,null,{default:_(()=>{var u;return[n.value?(S(),C(le,{key:0,class:"mr-2"},{default:_(()=>[I(ne(n.value),1)]),_:1})):se("",!0),z("span",null,ne(((u=s.propertyDescriptor)==null?void 0:u.title)||"Unknown property"),1)]}),actions:_(()=>[o.value?se("",!0):(S(),C(io,{key:0,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u)},null,8,["modelValue"])),d(fe,{icon:"",variant:"flat",density:"compact",onClick:c[1]||(c[1]=u=>e("update:modelValue",!1))},{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-close")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Close detail ")]),_:1})]),_:1})]),_:1}),d(Ca),d(Wt,{class:"data-grid-cell-detail__body"},{default:_(()=>[o.value?(S(),C(Ri,{key:1,variant:"accordion",multiple:"",class:"pa-4"},{default:_(()=>[(S(!0),ee(re,null,Ie(s.propertyValue,(u,f)=>(S(),C(bd,{key:f,value:u,"component-data-type":i.value},null,8,["value","component-data-type"]))),128))]),_:1})):(S(),C(oo,{key:0,"data-type":i.value,value:s.propertyValue,"output-format":r.value},null,8,["data-type","value","output-format"]))]),_:1})]),_:1}))}});const Sd=me(_d,[["__scopeId","data-v-4655d3c1"]]),Od=["onMouseup"],wd={class:"data-grid-cell__body"},Td={key:0,class:"text-disabled"},kd={key:1,class:"text-disabled"},Pd={key:2,class:"text-disabled"},Cd=K({__name:"LabEditorDataGridGridCell",props:{propertyDescriptor:{},dataLocale:{},propertyValue:{}},emits:["click"],setup(t,{emit:e}){const a=t,n=ze(),r=T(()=>i(a.propertyValue)),l=T(()=>{var c,u,f,m,h,p;return((c=a.propertyDescriptor)==null?void 0:c.type)===Q.Entity&&((u=a.propertyDescriptor)==null?void 0:u.key.name)===wt.ParentPrimaryKey||((f=a.propertyDescriptor)==null?void 0:f.type)===Q.Attributes&&a.propertyDescriptor.schema.type===te.Predecessor||((m=a.propertyDescriptor)==null?void 0:m.type)===Q.AssociatedData&&a.propertyDescriptor.schema.type===te.Predecessor?!0:!!((p=(h=a.propertyDescriptor)==null?void 0:h.schema)!=null&&p.referencedEntityType)}),o=T(()=>r.value.length<=100);function i(c){if(c==null)return"";if(c instanceof Array)return c.length===0?"":`[${c.map(u=>i(u)).join(", ")}]`;if(c instanceof $i){const u=[];for(const f of c.representativeAttributes)f instanceof Array?u.push(...f.map(m=>i(m))):u.push(i(f));return u.length===0?`${c.primaryKey}`:`${c.primaryKey}: ${u.join(", ")}`}else return c instanceof Object?JSON.stringify(c):c.toString()}function s(){r.value&&navigator.clipboard.writeText(r.value).then(()=>{n.info("Copied to clipboard.")}).catch(()=>{n.error(new rt(void 0,"Failed to copy to clipboard."))})}return(c,u)=>{var f,m;return S(),ee("td",{class:ka({"data-grid-cell--clickable":r.value}),onClick:u[0]||(u[0]=h=>e("click")),onMouseup:nt(s,["middle"])},[z("span",wd,[(m=(f=c.propertyDescriptor)==null?void 0:f.schema)!=null&&m.localized&&!c.dataLocale?(S(),ee("span",Td,"<no locale selected>")):c.propertyValue instanceof Array&&c.propertyValue.length===0?(S(),ee("span",kd,"<empty array>")):c.propertyValue?(S(),ee(re,{key:3},[l.value?(S(),C(le,{key:0,class:"mr-1"},{default:_(()=>[I("mdi-open-in-new")]),_:1})):se("",!0),z("span",null,[I(ne(r.value)+" ",1),o.value?(S(),C(Pe,{key:0,activator:"parent"},{default:_(()=>[I(ne(r.value),1)]),_:1})):se("",!0)])],64)):(S(),ee("span",Pd,"<null>"))])],42,Od)}}});const Ad=me(Cd,[["__scopeId","data-v-59fd49fd"]]),Ed={class:"data-grid-column-header-content"},xd={class:"data-grid-column-header-content__title"},Dd=K({__name:"LabEditorDataGridGridColumnHeader",props:{column:{},isSorted:{type:Function},getSortIcon:{type:Function},toggleSort:{type:Function}},setup(t){const e=t,a=T(()=>{var s;const i=(s=e.column.descriptor)==null?void 0:s.type;if(i===Q.AssociatedData)return"mdi-package-variant-closed";if(i===Q.References)return"mdi-link-variant"}),n=T(()=>{var i,s;return(s=(i=e.column.descriptor)==null?void 0:i.schema)==null?void 0:s.sortable}),r=T(()=>e.isSorted(e.column)),l=T(()=>{var i,s;return(s=(i=e.column.descriptor)==null?void 0:i.schema)==null?void 0:s.localized});function o(){n.value&&e.toggleSort(e.column)}return(i,s)=>(S(),ee("th",{onClick:o,class:ka(["data-grid-column-header",{"data-grid-column-header--sortable":n.value}])},[z("div",Ed,[z("div",xd,[a.value?(S(),C(le,{key:0},{default:_(()=>[I(ne(a.value),1)]),_:1})):se("",!0),z("span",null,ne(i.column.title),1),l.value?(S(),C(le,{key:1},{default:_(()=>[I("mdi-translate")]),_:1})):se("",!0)]),r.value?(S(),C(le,{key:0},{default:_(()=>[I(ne(e.getSortIcon(e.column)),1)]),_:1})):n.value?(S(),C(le,{key:1},{default:_(()=>[I("mdi-sort")]),_:1})):se("",!0)])],2))}});const Ld=me(Dd,[["__scopeId","data-v-aa42fd5a"]]),Id=K({__name:"LabEditorDataGridGrid",props:{gridProps:{},entityPropertyDescriptors:{},dataLocale:{},queryLanguage:{},displayedGridHeaders:{},loading:{type:Boolean},resultEntities:{},totalResultCount:{},pageNumber:{},pageSize:{}},emits:["gridUpdated"],setup(t,{emit:e}){const a=t,n=Je(),r=An(),l=ze(),o=[10,25,50,100,250,500,1e3].map(p=>({title:p.toString(10),value:p})),i=new Map;a.entityPropertyDescriptors.forEach(p=>i.set(p.key.toString(),p));const s=W(!1),c=W(),u=W();function f(p){const g=i.get(p);return g==null&&l.error(new rt(a.gridProps.params.dataPointer.connection,"Failed to find property descriptor for key: "+p)),g}function m(p,g){if(!g)return;const b=f(p);!g||g instanceof Array&&g.length===0||(b&&b.type===Q.Entity&&b.key.name===wt.ParentPrimaryKey?n.createTabRequest(new sa(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildParentEntityFilterBy(a.queryLanguage,g.primaryKey)},!0)):b&&(b.type===Q.Attributes&&b.schema.type===te.Predecessor||b.type===Q.AssociatedData&&b.schema.type===te.Predecessor)?n.createTabRequest(new sa(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,a.gridProps.params.dataPointer.entityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildPredecessorEntityFilterBy(a.queryLanguage,g)},!0)):b&&b.type===Q.References?n.createTabRequest(new sa(a.gridProps.params.dataPointer.connection,a.gridProps.params.dataPointer.catalogName,b.schema.referencedEntityType,{dataLocale:a.dataLocale,queryLanguage:a.queryLanguage,pageNumber:a.pageNumber,pageSize:a.pageSize,filterBy:r.buildReferencedEntityFilterBy(a.queryLanguage,g instanceof Array?g.map(y=>y.primaryKey):[g.primaryKey])},!0)):(c.value=b,u.value=g,s.value=!0))}function h(){s.value=!1,c.value=void 0,u.value=void 0}return(p,g)=>(S(),C(B(Ni),{vertical:"",class:"data-grid__body"},{default:_(()=>[d(B(cr),{size:"70","min-size":"30"},{default:_(()=>[d(B(ec),{headers:p.displayedGridHeaders,loading:p.loading,items:p.resultEntities,"items-length":p.totalResultCount,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":p.pageSize,"items-per-page-Options":B(o),"onUpdate:options":g[0]||(g[0]=b=>e("gridUpdated",b))},{headers:_(({columns:b,isSorted:y,getSortIcon:O,toggleSort:x})=>[z("tr",null,[(S(!0),ee(re,null,Ie(b,P=>(S(),C(Ld,{key:P.key,column:P,"is-sorted":y,"get-sort-icon":O,"toggle-sort":x},null,8,["column","is-sorted","get-sort-icon","toggle-sort"]))),128))])]),item:_(({item:b})=>[z("tr",null,[(S(!0),ee(re,null,Ie(b.columns,(y,O)=>(S(),C(Ad,{key:O,"property-descriptor":B(i).get(O),"data-locale":p.dataLocale,"property-value":y,onClick:x=>m(O,y)},null,8,["property-descriptor","data-locale","property-value","onClick"]))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),s.value?(S(),C(B(cr),{key:0,size:"30","min-size":"30"},{default:_(()=>[d(Sd,{"model-value":s.value,"property-descriptor":c.value,"property-value":u.value,"onUpdate:modelValue":h},null,8,["model-value","property-descriptor","property-value"])]),_:1})):se("",!0)]),_:1}))}});const Vd=me(Id,[["__scopeId","data-v-f81a9e60"]]),Rd={key:0,class:"data-grid"},$d=K({__name:"LabEditorDataGrid",props:{params:{},data:{}},emits:["ready"],setup(t,{emit:e}){var H,Z,J,ge,V,X,oe;const a=t,n=An(),r=ze(),l=W([a.params.dataPointer.catalogName,a.params.dataPointer.entityType]);let o=[],i=[],s=new Map,c=[];const u=W((H=a.data)!=null&&H.queryLanguage?a.data.queryLanguage:na.EvitaQL);he(u,(G,D)=>{G[0]!==D[0]&&(p.value="",g.value="",L())});const f=W(!1),m=W((Z=a.data)!=null&&Z.pageNumber?a.data.pageNumber:1),h=W((J=a.data)!=null&&J.pageSize?a.data.pageSize:25),p=W((ge=a.data)!=null&&ge.filterBy?a.data.filterBy:""),g=W((V=a.data)!=null&&V.orderBy?a.data.orderBy:""),b=W((X=a.data)!=null&&X.dataLocale?a.data.dataLocale:void 0);he(b,()=>L());const y=W((oe=a.data)!=null&&oe.displayedProperties?a.data.displayedProperties:[]);he(y,(G,D)=>{k(),G.length>D.length&&L()});const O=W([]),x=W([]),P=W(0),w=W(!1);e("ready"),Xr(()=>{n.getDataLocales(a.params.dataPointer).then(G=>(c=G,n.getEntityPropertyDescriptors(a.params.dataPointer))).then(G=>(i=G,o=i.map(D=>D.key.toString()),E(i))).then(G=>{s=G,R(),w.value=!0,e("ready"),a.params.executeOnOpen&&L()}).catch(G=>{r.error(G)})});async function E(G){var N;const D=new Map;for(const U of G)D.set(U.key.toString(),{key:U.key.toString(),title:U.title,sortable:((N=U.schema)==null?void 0:N.sortable)||!1,descriptor:U});return D}async function k(){O.value=y.value.map(G=>s.get(G.toString())),O.value.sort((G,D)=>o.indexOf(G.key.toString())-o.indexOf(D.key.toString()))}function R(){y.value.length>0||(y.value=i.filter(G=>{var D;return G.key.type===Q.Entity||((D=G.schema)==null?void 0:D.representative)}).map(G=>G.key))}async function $({page:G,itemsPerPage:D,sortBy:N}){m.value=G,h.value=D;try{g.value=await n.buildOrderByFromGridColumns(a.params.dataPointer,u.value,N)}catch(U){r.error(U)}await L()}async function L(){f.value=!0;try{const G=await n.executeQuery(a.params.dataPointer,u.value,p.value,g.value,b.value,y.value,m.value,h.value);x.value=G.entities.map(D=>{const N={};return D.forEach(([U,j])=>N[U.toString()]=j),N}),P.value=G.totalEntitiesCount}catch(G){r.error(G)}f.value=!1}return(G,D)=>w.value?(S(),ee("div",Rd,[d(yu,{path:l.value,locale:b.value,loading:f.value,onExecuteQuery:L},{query:_(()=>[d(gu,{"grid-props":a,"selected-query-language":u.value,"onUpdate:selectedQueryLanguage":D[0]||(D[0]=N=>u.value=N),"filter-by":p.value,"onUpdate:filterBy":D[1]||(D[1]=N=>p.value=N),"order-by":g.value,"onUpdate:orderBy":D[2]||(D[2]=N=>g.value=N),"data-locales":B(c),"selected-data-locale":b.value,"onUpdate:selectedDataLocale":D[3]||(D[3]=N=>b.value=N),"entity-property-descriptors":B(i),"selected-entity-property-keys":y.value,"onUpdate:selectedEntityPropertyKeys":D[4]||(D[4]=N=>y.value=N),onExecuteQuery:L},null,8,["grid-props","selected-query-language","filter-by","order-by","data-locales","selected-data-locale","entity-property-descriptors","selected-entity-property-keys"])]),_:1},8,["path","locale","loading"]),d(Vd,{"grid-props":a,"entity-property-descriptors":B(i),"displayed-grid-headers":O.value,"data-locale":b.value,"query-language":u.value,loading:f.value,"result-entities":x.value,"total-result-count":P.value,"page-number":m.value,"page-size":h.value,onGridUpdated:$},null,8,["grid-props","entity-property-descriptors","displayed-grid-headers","data-locale","query-language","loading","result-entities","total-result-count","page-number","page-size"])])):se("",!0)}});const Nd=me($d,[["__scopeId","data-v-4013e03a"]]);class sa extends Bi{constructor(e,a,n,r=void 0,l=!1){super(`${a} - ${n} [${e.name}]`,"mdi-table",Mi(Nd),{dataPointer:new Ui(e,a,n),executeOnOpen:l},r)}}const Bd=K({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(t){const e=t,a=W([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),n=Je(),r=qe("connection"),l=qe("catalogSchema");function o(){n.createTabRequest(new sa(r,l.value.name,e.entitySchema.name))}function i(s){switch(s){case"view-entities":o();break;case"view-schema":n.createTabRequest(new Et(r,new ol(l.value.name,e.entitySchema.name)));break}}return(s,c)=>(S(),C(da,{"prepend-icon":"mdi-list-box-outline",actions:a.value,onClick:o,"onClick:action":i,class:"text-gray-light text-sm-body-2"},{default:_(()=>[I(ne(s.entitySchema.name),1)]),_:1},8,["actions"]))}}),Md={},Ud=z("span",{class:"pl-8 text-disabled"}," No items found ",-1);function Gd(t,e){return S(),C(Qe,null,{default:_(()=>[Ud]),_:1})}const so=me(Md,[["render",Gd]]),Fd={key:0},Wd=K({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(t){const e=t,a=W([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),n=Ze(),r=Je(),l=ze(),o=qe("connection"),i=W();je("catalogSchema",i);const s=W(!1);async function c(){if(!(i.value!==void 0||e.catalog.corrupted)){s.value=!0;try{i.value=await n.getCatalogSchema(o,e.catalog.name)}catch(f){l.error(f)}s.value=!1}}function u(f){switch(f){case"open-evitaql-console":r.createTabRequest(new Fi(o,e.catalog.name));break;case"open-graphql-data-api-console":r.createTabRequest(new un(o,e.catalog.name,cn.DATA));break;case"open-graphql-schema-api-console":r.createTabRequest(new un(o,e.catalog.name,cn.SCHEMA));break;case"view-schema":r.createTabRequest(new Et(o,new Gi(e.catalog.name)));break}}return(f,m)=>(S(),C(Pn,{value:`${B(o).name}|${f.catalog.name}`},{activator:_(({isOpen:h,props:p})=>[f.catalog.corrupted?(S(),C(da,ie({key:1},p,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:_(()=>[I(ne(f.catalog.name)+" ",1),d(Pe,{activator:"parent"},{default:_(()=>[I(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(S(),C(da,ie({key:0},p,{openable:"","is-open":h,"prepend-icon":"mdi-menu",loading:s.value,actions:a.value,onClick:c,"onClick:action":u,class:"font-weight-bold"}),{default:_(()=>[I(ne(f.catalog.name),1)]),_:2},1040,["is-open","loading","actions"]))]),default:_(()=>[!f.catalog.corrupted&&i.value!==void 0?(S(),ee("div",Fd,[Object.values(i.value.entitySchemas).length>0?(S(!0),ee(re,{key:0},Ie(Object.values(i.value.entitySchemas),h=>(S(),C(Bd,{key:h.name,"entity-schema":h},null,8,["entity-schema"]))),128)):(S(),C(so,{key:1}))])):se("",!0)]),_:1},8,["value"]))}}),zd=K({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=Ze(),r=ze();function l(){e("update:modelValue",!1)}function o(){try{n.removeConnection(a.connection.id)}catch(i){r.error(i);return}r.success("Connection removed."),e("update:modelValue",!1)}return(i,s)=>(S(),C(Ln,{"model-value":i.modelValue,"max-width":"30rem","onUpdate:modelValue":s[0]||(s[0]=c=>i.$emit("update:modelValue",c))},{activator:_(({props:c})=>[at(i.$slots,"activator",Tn(kn(c)))]),default:_(()=>[d(Ea,{class:"py-8 px-4"},{default:_(()=>[d(Nt,null,{default:_(()=>[I("Remove connection")]),_:1}),d(Wt,{class:"mb-4"},{default:_(()=>[I(" Are you sure you want to remove the connection "),z("strong",null,ne(i.connection.name),1),I("? ")]),_:1}),d(Dn,null,{default:_(()=>[d(Un),d(fe,{onClick:l,variant:"tonal"},{default:_(()=>[I(" Cancel ")]),_:1}),d(fe,{variant:"outlined","prepend-icon":"mdi-delete",onClick:o},{default:_(()=>[I(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),Hd={key:0},qd=K({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(t){const e=t,a=Je(),n=Ze(),r=ze();je("connection",Wi(e.connection));const l=W([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!n.isReadOnly()&&!e.connection.preconfigured&&l.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const o=W(!1),i=W(),s=W(!1);async function c(){if(i.value===void 0){s.value=!0;try{i.value=await n.getCatalogs(e.connection)}catch(f){r.error(f)}s.value=!1}}function u(f,m){switch(f){case"open-graphql-system-api-console":a.createTabRequest(new un(e.connection,"system",cn.SYSTEM));break;case"edit":throw new rt(void 0,"Not implemented yet.");case"remove":o.value=!0;break}}return(f,m)=>(S(),C(Pn,{value:f.connection.name},{activator:_(({isOpen:h,props:p})=>[d(da,ie(p,{openable:"","is-open":h,"prepend-icon":"mdi-power-plug-outline",loading:s.value,actions:l.value,onClick:c,"onClick:action":u,class:"font-weight-bold"}),{default:_(()=>[I(ne(f.connection.name),1)]),_:2},1040,["is-open","loading","actions"])]),default:_(()=>[i.value!==void 0?(S(),ee("div",Hd,[i.value.length>0?(S(!0),ee(re,{key:0},Ie(i.value,h=>(S(),C(Wd,{key:h.name,catalog:h},null,8,["catalog"]))),128)):(S(),C(so,{key:1}))])):se("",!0),d(zd,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=h=>o.value=h),connection:f.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),Qd=ae({...Xe(),...zi()},"VForm"),Xd=ve()({name:"VForm",props:Qd(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:a,emit:n}=e;const r=Hi(t),l=W();function o(s){s.preventDefault(),r.reset()}function i(s){const c=s,u=r.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),n("submit",c),c.defaultPrevented||u.then(f=>{var h;let{valid:m}=f;m&&((h=l.value)==null||h.submit())}),c.preventDefault()}return ye(()=>{var s;return d("form",{ref:l,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:o,onSubmit:i},[(s=a.default)==null?void 0:s.call(a,r)])}),Ta(r,l)}}),jd=K({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,n=Ze(),r=ze(),l=[y=>y?!0:"Name of connection is required.",y=>n.isConnectionExists(y)?"Connection with this name already exists.":!0],o=[y=>y?!0:"evitaLab API URL is required.",y=>{try{return new URL(y),!0}catch{return"evitaLab API URL is not a valid URL."}},async y=>await m()?(u.value.labApiUrlTested=1,!0):(u.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],i=[y=>y?!0:"GraphQL API URL is required.",y=>{try{return new URL(y),!0}catch{return"GraphQL API URL is not a valid URL."}},async y=>await h()?(u.value.gqlUrlTested=1,!0):(u.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],s=W(null),c=T(()=>a.connection?1:0),u=W({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function f(y){switch(y){case 0:return null;case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}}async function m(){try{return(await dr.get(u.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function h(){var y;try{const O=await dr.post(u.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((y=O==null?void 0:O.data)==null?void 0:y.liveness)||!1}catch{return!1}}async function p(){let y=!0;return await m()?u.value.labApiUrlTested=1:(y=!1,u.value.labApiUrlTested=2),await h()?u.value.gqlUrlTested=1:(y=!1,u.value.gqlUrlTested=2),y?r.success("Successfully connected."):r.error("Connection test failed."),y}function g(){s.value.reset(),u.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},e("update:modelValue",!1)}async function b(){const{valid:y}=await s.value.validate();if(y){try{n.addConnection(new qi(void 0,u.value.name,!1,u.value.labApiUrl,"https://localhost:5555/rest",u.value.gqlUrl))}catch(O){r.error(O);return}s.value.reset(),e("update:modelValue",!1)}}return(y,O)=>(S(),C(Ln,{"model-value":y.modelValue,"onUpdate:modelValue":O[3]||(O[3]=x=>y.$emit("update:modelValue",x)),persistent:"","max-width":"36rem"},{activator:_(({props:x})=>[at(y.$slots,"activator",Tn(kn(x)))]),default:_(()=>[d(Ea,{class:"py-8 px-4"},{default:_(()=>[c.value===0?(S(),C(Nt,{key:0},{default:_(()=>[I("Add connection")]),_:1})):se("",!0),c.value===1?(S(),C(Nt,{key:1},{default:_(()=>[I("Edit connection")]),_:1})):se("",!0),d(Wt,null,{default:_(()=>[d(Xd,{ref_key:"form",ref:s,"validate-on":"submit"},{default:_(()=>[d(kt,{modelValue:u.value.name,"onUpdate:modelValue":O[0]||(O[0]=x=>u.value.name=x),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:l,required:""},null,8,["modelValue"]),d(kt,{modelValue:u.value.labApiUrl,"onUpdate:modelValue":O[1]||(O[1]=x=>u.value.labApiUrl=x),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:o,"append-inner-icon":f(u.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),d(kt,{modelValue:u.value.gqlUrl,"onUpdate:modelValue":O[2]||(O[2]=x=>u.value.gqlUrl=x),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:i,"append-inner-icon":f(u.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),d(Dn,{class:"px-6"},{default:_(()=>[d(fe,{variant:"plain","prepend-icon":"mdi-connection",onClick:p},{default:_(()=>[I(" Test connection ")]),_:1}),d(Un),d(fe,{variant:"tonal",onClick:g},{default:_(()=>[I(" Cancel ")]),_:1}),d(fe,{variant:"outlined","prepend-icon":"mdi-content-save",onClick:b,class:"ml-4"},{default:_(()=>[I(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),Yd={key:0,class:"pa-2"},Kd=K({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const a=Ze(),n=W(!1),r=T(()=>a.getConnections());return(l,o)=>(S(),C(vl,{permanent:"","model-value":l.modelValue,"onUpdate:modelValue":o[2]||(o[2]=i=>l.$emit("update:modelValue",i)),class:"bg-primary"},{append:_(()=>[B(a).isReadOnly()?se("",!0):(S(),ee("div",Yd,[d(jd,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=i=>n.value=i)},{activator:_(({props:i})=>[d(fe,ie({"prepend-icon":"mdi-plus",block:"",variant:"outlined"},i,{onClick:o[0]||(o[0]=s=>n.value=!0)}),{default:_(()=>[I(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:_(()=>[d(lt,{density:"compact",nav:""},{default:_(()=>[d(Qi,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:_(()=>[I("Connections Explorer")]),_:1}),(S(!0),ee(re,null,Ie(r.value,i=>(S(),C(qd,{key:i.name,connection:i},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),Zd=t=>(Oa("data-v-60d2bd0a"),t=t(),wa(),t),Jd={class:"loading-screen"},ep={class:"loading-screen-info"},tp=Zd(()=>z("span",null,"Loading, please wait ...",-1)),ap=K({__name:"LabEditorLoadingScreen",setup(t){return(e,a)=>(S(),ee("div",Jd,[z("div",ep,[d(gl,{size:48}),tp])]))}});const np=me(ap,[["__scopeId","data-v-60d2bd0a"]]),rp=K({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(t){const e=W(!1);return(a,n)=>(S(),ee(re,null,[(S(),C(Yi,null,[nl((S(),C(ji(a.component),ie(a.componentProps,{onReady:n[0]||(n[0]=r=>e.value=!0)}),null,16)),[[Xi,e.value]])],1024)),e.value?se("",!0):(S(),C(np,{key:0}))],64))}});function lp(t,e){return t.length<=e?t:t.substring(0,e-3)+"..."}const op="/lab/evita-lab-logo.svg",Ia=t=>(Oa("data-v-dd74b41c"),t=t(),wa(),t),ip={class:"editor-welcome-screen"},sp={class:"editor-welcome-screen-hero"},up={class:"editor-welcome-screen-hero__header"},cp=Ia(()=>z("h1",{class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},"evitaLab",-1)),dp={class:"text-white",style:{"font-size":"1rem"}},pp=Ia(()=>z("a",{class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},"(changelog)",-1)),fp=Ia(()=>z("p",{class:"text-gray-light mb-10",style:{"font-size":"1rem"}},"evitaDB web client",-1)),mp={class:"editor-welcome-screen-blog"},hp=["href"],vp={class:"editor-welcome-screen-blog-img__wrap"},gp=["src","alt"],yp={class:"editor-welcome-screen-blog-item__title"},bp={class:"editor-welcome-screen-blog-item__perex"},_p=Ia(()=>z("span",{class:"editor-welcome-screen-blog-item__btn"},"Read",-1)),Sp=Ki('<span class="editor-welcome-screen-hr" data-v-dd74b41c> </span><ul class="editor-welcome-screen-hero__links" data-v-dd74b41c><li data-v-dd74b41c>Check out the <a href="https://evitadb.io/documentation" target="_blank" data-v-dd74b41c> evitaDB documentation</a></li><li data-v-dd74b41c>Give us a ⭐ on <a href="https://github.com/lukashornych/evitalab/" target="_blank" data-v-dd74b41c> GitHub</a></li><li data-v-dd74b41c>Reach out to us on <a href="https://discord.gg/VsNBWxgmSw" target="_blank" data-v-dd74b41c> Discord</a></li><li data-v-dd74b41c><a href="https://github.com/lukashornych/evitalab/issues" target="_blank" data-v-dd74b41c> Submit an issue</a></li></ul>',2),Op=K({__name:"LabEditorWelcomeScreen",setup(t){const e=Ze(),a="v1.1.0",n=W([]);return e.getBlogPosts().then(r=>{n.value=r}),(r,l)=>(S(),ee("div",ip,[z("div",sp,[z("header",up,[d(On,{width:"160",height:"160",alt:"evitaLab Logo",src:op,class:"mx-auto mb-1 evita-lab-logo"}),cp,z("p",dp,[I(ne(B(a))+" ",1),pp]),fp]),z("div",mp,[(S(!0),ee(re,null,Ie(n.value,o=>(S(),ee("a",{key:o.url,href:o.url,target:"_blank"},[z("span",vp,[z("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:o.thumbnailUrl,alt:`Image - ${o.title}`},null,8,gp)]),z("span",yp,ne(o.title),1),z("span",bp,[d(Cn,{source:o.perex},null,8,["source"])]),_p],8,hp))),128))]),Sp])]))}});const wp=me(Op,[["__scopeId","data-v-dd74b41c"]]);const Tp=ae({scrollable:Boolean,...Xe(),...Ut({tag:"main"})},"VMain"),kp=ve()({name:"VMain",props:Tp(),setup(t,e){let{slots:a}=e;const{mainStyles:n}=rs(),{ssrBootStyles:r}=yn();return ye(()=>d(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[n.value,r.value,t.style]},{default:()=>{var l,o;return[t.scrollable?d("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(o=a.default)==null?void 0:o.call(a)]}})),{}}}),Pp={key:1,style:{position:"relative"}},Cp=K({__name:"LabEditor",setup(t){const e=Zi(),a=ze(),n=Je(),r=Ji(),l=T(()=>n.getTabRequests());he(l,()=>{const c=n.getNewTabRequest();c&&(o.value=c.id,n.markTabRequestAsVisited(c.id))},{deep:!0});const o=W();function i(c){const u=l.value.length,f=l.value.findIndex(h=>h.id===o.value),m=l.value.findIndex(h=>h.id===c);n.destroyTabRequest(c),l.value.length===0?o.value=null:m===f&&m===u-1?o.value=l.value[m-1].id:m===f&&m<u-1&&(o.value=l.value[m].id)}async function s(){const c=e.query.demoSnippetRequest;if(c!=null)try{const u=JSON.parse(atob(c));return await r.resolve(u)}catch(u){a.error(u)}}return s().then(c=>{c&&n.createTabRequest(c)}),(c,u)=>(S(),ee(re,null,[l.value.length>0?(S(),C(us,{key:0,density:"compact",elevation:"0"},{default:_(()=>[d(ts,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f)},{default:_(()=>[(S(!0),ee(re,null,Ie(l.value,f=>(S(),C(es,{key:f.id,value:f.id,"prepend-icon":f.icon,onMousedown:nt(m=>i(f.id),["middle"]),class:"lab-tab"},{default:_(()=>[z("span",null,[I(ne(B(lp)(f.title,30))+" ",1),f.title.length>30?(S(),C(Pe,{key:0,activator:"parent"},{default:_(()=>[I(ne(f.title),1)]),_:2},1024)):se("",!0)]),d(fe,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:nt(m=>i(f.id),["stop"])},{default:_(()=>[d(le,null,{default:_(()=>[I("mdi-close")]),_:1}),d(Pe,{activator:"parent"},{default:_(()=>[I(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):se("",!0),d(kp,{scrollable:!1,class:"lab-editor"},{default:_(()=>[l.value.length>0?(S(),C(ns,{key:0,modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value=f)},{default:_(()=>[(S(!0),ee(re,null,Ie(l.value,f=>(S(),C(as,{key:f.id,value:f.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:_(()=>[d(rp,{component:f.component,"component-props":f.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(S(),ee("div",Pp,[d(wp)]))]),_:1})],64))}});const Ap=me(Cp,[["__scopeId","data-v-d17b89d3"]]),Lp=K({__name:"Lab",setup(t){const e=W(nn.Explorer);return(a,n)=>(S(),ee(re,null,[d(Is,{panel:e.value,"onUpdate:panel":n[0]||(n[0]=r=>e.value=r)},null,8,["panel"]),d(Kd,{"model-value":e.value===B(nn).Explorer},null,8,["model-value"]),d(Ap)],64))}});export{Lp as default};
