import{b as te,e as i,h as W,T as gt,p as F,i as ze,j as pn,s as qt,k as vn,n as mn,l as E,q as ue,t as w,v as xe,x as ee,y as at,z as Dt,A as fn,B as me,C as ea,D as Ct,E as J,d as se,V as yt,F as Ue,m as be,G as Me,H as ve,I as gn,J as ta,K as aa,L as na,a as It,u as yn,c as Tt,M as la,N as ht,O as oa,P as ra,Q as sa,R as hn,S as Et,U as bn,W as ia,X as nt,Y as ua,Z as K,$ as q,a0 as Se,f as P,w as y,o as _,a1 as Q,a2 as ca,a3 as bt,a4 as Ve,_ as le,a5 as _n,a6 as da,a7 as pa,a8 as Sn,a9 as ye,aa as Nt,ab as _e,ac as je,ad as Be,ae as lt,af as Ht,ag as Y,ah as V,ai as j,aj as $e,ak as ot,al as rt,am as re,an as Ie,ao as he,ap as Lt,aq as xt,ar as wn,as as kn,at as Pn,au as Vn,av as Dn,aw as Cn,ax as In,ay as Tn,az as En,aA as Ln,aB as xn,aC as An,aD as Bn,aE as $n,aF as Rn,aG as On,aH as Gn,aI as Un,aJ as Mn,aK as z,aL as I,aM as Fn,aN as At,aO as st,aP as Te,aQ as Bt,aR as va,aS as ma,aT as qn,aU as Nn,aV as Hn,aW as zn,aX as Kn,aY as Qn,aZ as fa,a_ as ga,a$ as ya,b0 as Wn,b1 as jn,b2 as Yn,b3 as ha,b4 as Xn,b5 as ba,b6 as Jn,b7 as X,b8 as ce,b9 as fe,ba as it,bb as $t,bc as Zn,bd as we,be as el,bf as Fe,bg as tl,bh as _a,bi as De,bj as ke,bk as Re,bl as al,bm as nl,bn as Sa,bo as ll,bp as ol,bq as rl,br as Ce,bs as Ae,bt as G,bu as Rt,bv as _t,bw as We,bx as sl,by as il,bz as ul,bA as wa,bB as St,bC as ka,bD as cl,bE as dl,bF as Pa,bG as pl,bH as vl,bI as ml,bJ as ut,bK as fl,bL as Ye,bM as gl,bN as yl,bO as wt,bP as Ke,bQ as hl,bR as Le,bS as bl,bT as Va,bU as Da,bV as zt,bW as _l,bX as Sl,bY as wl,bZ as kl,b_ as Pl,b$ as kt,c0 as Pt,c1 as Vl,c2 as Dl,c3 as Cl,c4 as Il,c5 as Kt,c6 as Tl,c7 as El,c8 as Ll,c9 as xl,ca as Al,cb as Bl,cc as $l,cd as Rl,ce as Ol,cf as Gl,cg as Ul}from"./index-4776c6ee.js";import{a as Ca,u as Ia,b as Ml}from"./layout-99cb50ed.js";const Fl=F({target:Object},"v-dialog-transition"),Ot=te()({name:"VDialogTransition",props:Fl(),setup(e,l){let{slots:t}=l;const a={onBeforeEnter(n){n.style.pointerEvents="none",n.style.visibility="hidden"},async onEnter(n,o){var f;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),n.style.visibility="";const{x:s,y:r,sx:u,sy:d,speed:c}=Wt(e.target,n),v=ze(n,[{transform:`translate(${s}px, ${r}px) scale(${u}, ${d})`,opacity:0},{}],{duration:225*c,easing:pn});(f=Qt(n))==null||f.forEach(m=>{ze(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:qt})}),v.finished.then(()=>o())},onAfterEnter(n){n.style.removeProperty("pointer-events")},onBeforeLeave(n){n.style.pointerEvents="none"},async onLeave(n,o){var f;await new Promise(m=>requestAnimationFrame(m));const{x:s,y:r,sx:u,sy:d,speed:c}=Wt(e.target,n);ze(n,[{},{transform:`translate(${s}px, ${r}px) scale(${u}, ${d})`,opacity:0}],{duration:125*c,easing:vn}).finished.then(()=>o()),(f=Qt(n))==null||f.forEach(m=>{ze(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:qt})})},onAfterLeave(n){n.style.removeProperty("pointer-events")}};return()=>e.target?i(gt,W({name:"dialog-transition"},a,{css:!1}),t):i(gt,{name:"dialog-transition"},t)}});function Qt(e){var t;const l=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return l&&[...l]}function Wt(e,l){const t=e.getBoundingClientRect(),a=mn(l),[n,o]=getComputedStyle(l).transformOrigin.split(" ").map(g=>parseFloat(g)),[s,r]=getComputedStyle(l).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=t.left+t.width/2;s==="left"||r==="left"?u-=t.width/2:(s==="right"||r==="right")&&(u+=t.width/2);let d=t.top+t.height/2;s==="top"||r==="top"?d-=t.height/2:(s==="bottom"||r==="bottom")&&(d+=t.height/2);const c=t.width/a.width,v=t.height/a.height,f=Math.max(1,c,v),m=c/f||0,p=v/f||0,h=a.width*a.height/(window.innerWidth*window.innerHeight),b=h>.12?Math.min(1.5,(h-.12)*10+1):1;return{x:u-(n+a.left),y:d-(o+a.top),sx:m,sy:p,speed:b}}const ql=F({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Nl(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=l;let a=0;const n=E(null),o=ue(0),s=ue(0),r=ue(0),u=ue(!1),d=ue(!1),c=w(()=>Number(e.scrollThreshold)),v=w(()=>xe((c.value-o.value)/c.value||0)),f=()=>{const m=n.value;!m||t&&!t.value||(a=o.value,o.value="window"in m?m.pageYOffset:m.scrollTop,d.value=o.value<a,r.value=Math.abs(o.value-c.value))};return ee(d,()=>{s.value=s.value||o.value}),ee(u,()=>{s.value=0}),at(()=>{ee(()=>e.scrollTarget,m=>{var h;const p=m?document.querySelector(m):window;p&&p!==n.value&&((h=n.value)==null||h.removeEventListener("scroll",f),n.value=p,n.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Dt(()=>{var m;(m=n.value)==null||m.removeEventListener("scroll",f)}),t&&ee(t,f,{immediate:!0}),{scrollThreshold:c,currentScroll:o,currentThreshold:r,isScrollActive:u,scrollRatio:v,isScrollingUp:d,savedScroll:s}}const Hl=F({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...fn(),...Ca(),...ql(),height:{type:[Number,String],default:64}},"VAppBar"),zl=te()({name:"VAppBar",props:Hl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=E(),n=me(e,"modelValue"),o=w(()=>{var S;const g=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:g.has("hide"),inverted:g.has("inverted"),collapse:g.has("collapse"),elevate:g.has("elevate"),fadeImage:g.has("fade-image")}}),s=w(()=>{const g=o.value;return g.hide||g.inverted||g.collapse||g.elevate||g.fadeImage||!n.value}),{currentScroll:r,scrollThreshold:u,isScrollingUp:d,scrollRatio:c}=Nl(e,{canScroll:s}),v=w(()=>e.collapse||o.value.collapse&&(o.value.inverted?c.value>0:c.value===0)),f=w(()=>e.flat||o.value.elevate&&(o.value.inverted?r.value>0:r.value===0)),m=w(()=>o.value.fadeImage?o.value.inverted?1-c.value:c.value:void 0),p=w(()=>{var A,L;if(o.value.hide&&o.value.inverted)return 0;const g=((A=a.value)==null?void 0:A.contentHeight)??0,S=((L=a.value)==null?void 0:L.extensionHeight)??0;return g+S});ea(w(()=>!!e.scrollBehavior),()=>{Ue(()=>{o.value.hide?o.value.inverted?n.value=r.value>u.value:n.value=d.value||r.value<u.value:n.value=!0})});const{ssrBootStyles:h}=Ct(),{layoutItemStyles:b}=Ia({id:e.name,order:w(()=>parseInt(e.order,10)),position:J(e,"location"),layoutSize:p,elementSize:ue(void 0),active:n,absolute:J(e,"absolute")});return se(()=>{const[g]=yt.filterProps(e);return i(yt,W({ref:a,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...b.value,"--v-toolbar-image-opacity":m.value,height:void 0,...h.value},e.style]},g,{collapse:v.value,flat:f.value}),t)}),{}}}),Kl=F({start:Boolean,end:Boolean,...be(),...Me()},"VListItemAction"),Ta=te()({name:"VListItemAction",props:Kl(),setup(e,l){let{slots:t}=l;return se(()=>i(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},t)),{}}});function Ql(e){let{rootEl:l,isSticky:t,layoutItemStyles:a}=e;const n=ue(!1),o=ue(0),s=w(()=>{const d=typeof n.value=="boolean"?"top":n.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[d]:ve(o.value)}:{top:a.value.top}]});at(()=>{ee(t,d=>{d?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),Dt(()=>{window.removeEventListener("scroll",u)});let r=0;function u(){const d=r>window.scrollY?"up":"down",c=l.value.getBoundingClientRect(),v=parseFloat(a.value.top??0),f=window.scrollY-Math.max(0,o.value-v),m=c.height+Math.max(o.value,v)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-v?(n.value="top",o.value=v):d==="up"&&n.value==="bottom"||d==="down"&&n.value==="top"?(o.value=window.scrollY+c.top-p,n.value=!0):d==="down"&&m<=0?(o.value=0,n.value="bottom"):d==="up"&&f<=0&&(p?n.value!=="top"&&(o.value=-f+p+v,n.value="top"):(o.value=c.top+f,n.value="top")),r=window.scrollY}return{isStuck:n,stickyStyles:s}}const Wl=100,jl=20;function jt(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function Yt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const a=jt(l),n=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);l+=(n-a)*Math.abs(n),t===e.length-1&&(l*=.5)}return jt(l)*1e3}function Yl(){const e={};function l(n){Array.from(n.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new gn(jl))).push([n.timeStamp,o])})}function t(n){Array.from(n.changedTouches).forEach(o=>{delete e[o.identifier]})}function a(n){var d;const o=(d=e[n])==null?void 0:d.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const s=o[0],r=[],u=[];for(const c of o){if(s[0]-c[0]>Wl)break;r.push({t:c[0],d:c[1].clientX}),u.push({t:c[0],d:c[1].clientY})}return{x:Yt(r),y:Yt(u),get direction(){const{x:c,y:v}=this,[f,m]=[Math.abs(c),Math.abs(v)];return f>m&&c>=0?"right":f>m&&c<=0?"left":m>f&&v>=0?"down":m>f&&v<=0?"up":Xl()}}}return{addMovement:l,endTouch:t,getVelocity:a}}function Xl(){throw new Error}function Jl(e){let{isActive:l,isTemporary:t,width:a,touchless:n,position:o}=e;at(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",A,{passive:!0})}),Dt(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",A)});const s=w(()=>["left","right"].includes(o.value)),{addMovement:r,endTouch:u,getVelocity:d}=Yl();let c=!1;const v=ue(!1),f=ue(0),m=ue(0);let p;function h(k,R){return(o.value==="left"?k:o.value==="right"?document.documentElement.clientWidth-k:o.value==="top"?k:o.value==="bottom"?document.documentElement.clientHeight-k:Ee())-(R?a.value:0)}function b(k){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const D=o.value==="left"?(k-m.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-k-m.value)/a.value:o.value==="top"?(k-m.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-k-m.value)/a.value:Ee();return R?Math.max(0,Math.min(1,D)):D}function g(k){if(n.value)return;const R=k.changedTouches[0].clientX,D=k.changedTouches[0].clientY,B=25,U=o.value==="left"?R<B:o.value==="right"?R>document.documentElement.clientWidth-B:o.value==="top"?D<B:o.value==="bottom"?D>document.documentElement.clientHeight-B:Ee(),O=l.value&&(o.value==="left"?R<a.value:o.value==="right"?R>document.documentElement.clientWidth-a.value:o.value==="top"?D<a.value:o.value==="bottom"?D>document.documentElement.clientHeight-a.value:Ee());(U||O||l.value&&t.value)&&(c=!0,p=[R,D],m.value=h(s.value?R:D,l.value),f.value=b(s.value?R:D),u(k),r(k))}function S(k){const R=k.changedTouches[0].clientX,D=k.changedTouches[0].clientY;if(c){if(!k.cancelable){c=!1;return}const U=Math.abs(R-p[0]),O=Math.abs(D-p[1]);(s.value?U>O&&U>3:O>U&&O>3)?(v.value=!0,c=!1):(s.value?O:U)>3&&(c=!1)}if(!v.value)return;k.preventDefault(),r(k);const B=b(s.value?R:D,!1);f.value=Math.max(0,Math.min(1,B)),B>1?m.value=h(s.value?R:D,!0):B<0&&(m.value=h(s.value?R:D,!1))}function A(k){if(c=!1,!v.value)return;r(k),v.value=!1;const R=d(k.changedTouches[0].identifier),D=Math.abs(R.x),B=Math.abs(R.y);(s.value?D>B&&D>400:B>D&&B>3)?l.value=R.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Ee()):l.value=f.value>.5}const L=w(()=>v.value?{transform:o.value==="left"?`translateX(calc(-100% + ${f.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${f.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${f.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${f.value*a.value}px))`:Ee(),transition:"none"}:void 0);return{isDragging:v,dragProgress:f,dragStyles:L}}function Ee(){throw new Error}const Zl=["start","end","left","right","top","bottom"],eo=F({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Zl.includes(e)},sticky:Boolean,...ta(),...be(),...aa(),...Ca(),...na(),...Me({tag:"nav"}),...It()},"VNavigationDrawer"),Ea=te()({name:"VNavigationDrawer",props:eo(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const{isRtl:o}=yn(),{themeClasses:s}=Tt(e),{borderClasses:r}=la(e),{backgroundColorClasses:u,backgroundColorStyles:d}=ht(J(e,"color")),{elevationClasses:c}=oa(e),{mobile:v}=ra(),{roundedClasses:f}=sa(e),m=hn(),p=me(e,"modelValue",null,x=>!!x),{ssrBootStyles:h}=Ct(),{scopeId:b}=Et(),g=E(),S=ue(!1),A=w(()=>e.rail&&e.expandOnHover&&S.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),L=w(()=>bn(e.location,o.value)),k=w(()=>!e.permanent&&(v.value||e.temporary)),R=w(()=>e.sticky&&!k.value&&L.value!=="bottom");e.expandOnHover&&e.rail!=null&&ee(S,x=>a("update:rail",!x)),e.disableResizeWatcher||ee(k,x=>!e.permanent&&ua(()=>p.value=!x)),!e.disableRouteWatcher&&m&&ee(m.currentRoute,()=>k.value&&(p.value=!1)),ee(()=>e.permanent,x=>{x&&(p.value=!0)}),ia(()=>{e.modelValue!=null||k.value||(p.value=e.permanent||!v.value)});const{isDragging:D,dragProgress:B,dragStyles:U}=Jl({isActive:p,isTemporary:k,width:A,touchless:J(e,"touchless"),position:L}),O=w(()=>{const x=k.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):A.value;return D.value?x*B.value:x}),{layoutItemStyles:ae,layoutItemScrimStyles:ne}=Ia({id:e.name,order:w(()=>parseInt(e.order,10)),position:L,layoutSize:O,elementSize:A,active:w(()=>p.value||D.value),disableTransitions:w(()=>D.value),absolute:w(()=>e.absolute||R.value&&typeof ie.value!="string")}),{isStuck:ie,stickyStyles:ge}=Ql({rootEl:g,isSticky:R,layoutItemStyles:ae}),C=ht(w(()=>typeof e.scrim=="string"?e.scrim:null)),N=w(()=>({...D.value?{opacity:B.value*.2,transition:"none"}:void 0,...ne.value}));nt({VList:{bgColor:"transparent"}});function Z(){S.value=!0}function $(){S.value=!1}return se(()=>{const x=n.image||e.image;return i(K,null,[i(e.tag,W({ref:g,onMouseenter:Z,onMouseleave:$,class:["v-navigation-drawer",`v-navigation-drawer--${L.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":S.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":k.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":R.value},s.value,u.value,r.value,c.value,f.value,e.class],style:[d.value,ae.value,U.value,h.value,ge.value,e.style]},b,t),{default:()=>{var T,H,M,oe;return[x&&i("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?(T=n.image)==null?void 0:T.call(n,{image:e.image}):i("img",{src:e.image,alt:""},null)]),n.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[(H=n.prepend)==null?void 0:H.call(n)]),i("div",{class:"v-navigation-drawer__content"},[(M=n.default)==null?void 0:M.call(n)]),n.append&&i("div",{class:"v-navigation-drawer__append"},[(oe=n.append)==null?void 0:oe.call(n)])]}}),i(gt,{name:"fade-transition"},{default:()=>[k.value&&(D.value||p.value)&&!!e.scrim&&i("div",W({class:["v-navigation-drawer__scrim",C.backgroundColorClasses.value],style:[N.value,C.backgroundColorStyles.value],onClick:()=>p.value=!1},b),null)]})])}),{isStuck:ie}}}),to={class:"lab-logo"},ao={href:"https://github.com/lukashornych/evitalab",target:"_blank"},no=q({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:l}){const t=E([{title:"Explorer",value:Se.Explorer,props:{prependIcon:"mdi-compass"}}]),a=E([{title:"evitaDB Documentation",value:Se.EvitaDBDocumentation,props:{prependIcon:"mdi-book"}},{title:"Feedback",value:Se.Feedback,props:{prependIcon:"mdi-comment-quote"}},{title:"Issues",value:Se.GitHub,props:{prependIcon:"mdi-github"}}]);function n(s){s.value?l("update:panel",s.id):l("update:panel",null)}function o(s){switch(s.id){case Se.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case Se.Feedback:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case Se.GitHub:window.open("https://github.com/lukashornych/evitalab","_blank");break}}return(s,r)=>(_(),P(Ea,{permanent:"",rail:""},{prepend:y(()=>[Q("div",to,[Q("a",ao,[i(bt,{size:"24px"},{default:y(()=>[i(ca,{alt:"evitaLab Logo",src:"https://github.com/lukashornych/evitalab/blob/dev/public/logo.png?raw=true"})]),_:1})])])]),append:y(()=>[i(Ve,{density:"compact",nav:"",items:a.value,"onClick:select":o},null,8,["items"])]),default:y(()=>[i(Ve,{density:"compact",nav:"",items:t.value,selected:[s.panel],"onClick:select":n},null,8,["items","selected"])]),_:1}))}});const lo=le(no,[["__scopeId","data-v-1c6708f3"]]),La=q({__name:"VLoadingCircular",props:{size:{default:24}},setup(e){return(l,t)=>(_(),P(_n,{indeterminate:"",size:l.size,width:"3"},null,8,["size"]))}});const oo=F({id:String,...da(pa({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ot}}),["absolute"])},"VMenu"),ct=te()({name:"VMenu",props:oo(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=me(e,"modelValue"),{scopeId:n}=Et(),o=Sn(),s=w(()=>e.id||`v-menu-${o}`),r=E(),u=ye(Nt,null),d=ue(0);_e(Nt,{register(){++d.value},unregister(){--d.value},closeParents(){setTimeout(()=>{d.value||(a.value=!1,u==null||u.closeParents())},40)}}),ee(a,p=>{p?u==null||u.register():u==null||u.unregister()});function c(){u==null||u.closeParents()}function v(p){var h,b;e.disabled||p.key==="Tab"&&(a.value=!1,(b=(h=r.value)==null?void 0:h.activatorEl)==null||b.focus())}function f(p){var b;if(e.disabled)return;const h=(b=r.value)==null?void 0:b.contentEl;h&&a.value?p.key==="ArrowDown"?(p.preventDefault(),Ht(h,"next")):p.key==="ArrowUp"&&(p.preventDefault(),Ht(h,"prev")):["ArrowDown","ArrowUp"].includes(p.key)&&(a.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>f(p))))}const m=w(()=>W({"aria-haspopup":"menu","aria-expanded":String(a.value),"aria-owns":s.value,onKeydown:f},e.activatorProps));return se(()=>{const[p]=je.filterProps(e);return i(je,W({ref:r,class:["v-menu",e.class],style:e.style},p,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,absolute:!0,activatorProps:m.value,"onClick:outside":c,onKeydown:v},n),{activator:t.activator,default:function(){for(var h=arguments.length,b=new Array(h),g=0;g<h;g++)b[g]=arguments[g];return i(Be,{root:"VMenu"},{default:()=>{var S;return[(S=t.default)==null?void 0:S.call(t,...b)]}})}})}),lt({id:s,ΨopenChildren:d},r)}}),ro=e=>(Lt("data-v-c3e70ca0"),e=e(),xt(),e),so={class:"tree-view-item__content"},io={class:"text-truncate"},uo=ro(()=>Q("span",{class:"text-disabled"}," No items found ",-1)),co=q({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:l}){const t=e,a=E(!1);function n(){t.actions&&t.actions.length>0&&(a.value=!0)}return(o,s)=>(_(),P(he,{"prepend-icon":null,"append-icon":null,onContextmenu:Ie(n,["prevent"])},{default:y(()=>[Q("div",so,[o.openable?(_(),P(Y,{key:0},{default:y(()=>[V(j(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(_(),P(Y,{key:1})),o.loading?(_(),P(La,{key:2})):(_(),P(Y,{key:3},{default:y(()=>[V(j(o.prependIcon),1)]),_:1})),Q("span",io,[$e(o.$slots,"default",{},()=>[uo],!0)]),o.actions&&o.actions.length>0?(_(),P(ct,{key:4,"menu-items":o.actions,modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=r=>a.value=r)},{activator:y(({props:r})=>[i(Y,ot(rt(r)),{default:y(()=>[V(" mdi-dots-vertical ")]),_:2},1040)]),default:y(()=>[i(Ve,{density:"compact",items:o.actions,"onClick:select":s[0]||(s[0]=r=>o.$emit("click:action",r.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):re("",!0)])]),_:3},8,["onContextmenu"]))}});const Xe=le(co,[["__scopeId","data-v-c3e70ca0"]]),po=q({__name:"CodemirrorOneLine",props:{modelValue:{},additionalExtensions:{default:()=>[]},prependInnerIcon:{},placeholder:{},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","execute"],setup(e,{emit:l}){const t=e,a=[wn(),kn(),Pn(),Vn(),Dn(),Cn(In,{fallback:!0}),Tn(),En(),Ln(),xn(),An(),Bn.of([{key:"Enter",run:()=>(l("execute"),!0)},...$n,...Rn,...On,...Gn,...Un]),Mn.transactionFilter.of(n=>n.newDoc.lines>1?[]:n),...t.additionalExtensions];return(n,o)=>(_(),z("div",{class:At(["cm-oneline",{"cm-oneline--with-prepend-icon":n.prependInnerIcon}])},[n.prependInnerIcon?(_(),P(Y,{key:0,class:"cm-oneline__prepend-inner-icon"},{default:y(()=>[V(j(n.prependInnerIcon),1)]),_:1})):re("",!0),i(I(Fn),{"model-value":n.modelValue,extensions:a,placeholder:n.placeholder,disabled:n.disabled,"onUpdate:modelValue":o[0]||(o[0]=s=>n.$emit("update:modelValue",s)),style:{cursor:"text","min-width":"0"}},null,8,["model-value","placeholder","disabled"])],2))}});const Xt=le(po,[["__scopeId","data-v-0d175474"]]);const Gt=te()({name:"VCardActions",props:be(),setup(e,l){let{slots:t}=l;return nt({VBtn:{variant:"text"}}),se(()=>{var a;return i("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),vo=st("v-card-subtitle"),Ge=st("v-card-title"),mo=F({appendAvatar:String,appendIcon:Te,prependAvatar:String,prependIcon:Te,subtitle:String,title:String,...be(),...Bt()},"VCardItem"),fo=te()({name:"VCardItem",props:mo(),setup(e,l){let{slots:t}=l;return se(()=>{var d;const a=!!(e.prependAvatar||e.prependIcon),n=!!(a||t.prepend),o=!!(e.appendAvatar||e.appendIcon),s=!!(o||t.append),r=!!(e.title||t.title),u=!!(e.subtitle||t.subtitle);return i("div",{class:["v-card-item",e.class],style:e.style},[n&&i("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?i(Be,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):a&&i(bt,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),i("div",{class:"v-card-item__content"},[r&&i(Ge,{key:"title"},{default:()=>{var c;return[((c=t.title)==null?void 0:c.call(t))??e.title]}}),u&&i(vo,{key:"subtitle"},{default:()=>{var c;return[((c=t.subtitle)==null?void 0:c.call(t))??e.subtitle]}}),(d=t.default)==null?void 0:d.call(t)]),s&&i("div",{key:"append",class:"v-card-item__append"},[t.append?i(Be,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):o&&i(bt,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),qe=st("v-card-text"),go=F({appendAvatar:String,appendIcon:Te,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Te,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...ta(),...be(),...Bt(),...va(),...aa(),...ma(),...qn(),...Nn(),...na(),...Hn(),...Me(),...It(),...zn({variant:"elevated"})},"VCard"),dt=te()({name:"VCard",directives:{Ripple:Kn},props:go(),setup(e,l){let{attrs:t,slots:a}=l;const{themeClasses:n}=Tt(e),{borderClasses:o}=la(e),{colorClasses:s,colorStyles:r,variantClasses:u}=Qn(e),{densityClasses:d}=fa(e),{dimensionStyles:c}=ga(e),{elevationClasses:v}=oa(e),{loaderClasses:f}=ya(e),{locationStyles:m}=Wn(e),{positionClasses:p}=jn(e),{roundedClasses:h}=sa(e),b=Yn(e,t),g=w(()=>e.link!==!1&&b.isLink.value),S=w(()=>!e.disabled&&e.link!==!1&&(e.link||b.isClickable.value));return se(()=>{const A=g.value?"a":e.tag,L=!!(a.title||e.title),k=!!(a.subtitle||e.subtitle),R=L||k,D=!!(a.append||e.appendAvatar||e.appendIcon),B=!!(a.prepend||e.prependAvatar||e.prependIcon),U=!!(a.image||e.image),O=R||B||D,ae=!!(a.text||e.text);return ha(i(A,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":S.value},n.value,o.value,s.value,d.value,v.value,f.value,p.value,h.value,u.value,e.class],style:[r.value,c.value,m.value,e.style],href:b.href.value,onClick:S.value&&b.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var ne;return[U&&i("div",{key:"image",class:"v-card__image"},[a.image?i(Be,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):i(ca,{key:"image-img",cover:!0,src:e.image},null)]),i(ba,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),O&&i(fo,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),ae&&i(qe,{key:"text"},{default:()=>{var ie;return[((ie=a.text)==null?void 0:ie.call(a))??e.text]}}),(ne=a.default)==null?void 0:ne.call(a),a.actions&&i(Gt,null,{default:a.actions}),Jn(S.value,"v-card")]}}),[[Xn("ripple"),S.value&&e.ripple]])}),{}}}),yo={class:"title-container"},ho=q({__name:"VClosableCardTitle",emits:["close"],setup(e,{emit:l}){return(t,a)=>(_(),P(Ge,null,{default:y(()=>[Q("div",yo,[Q("span",null,[$e(t.$slots,"default",{},void 0,!0)]),i(X,{icon:"",variant:"flat",density:"compact",onClick:a[0]||(a[0]=n=>l("close"))},{default:y(()=>[i(Y,null,{default:y(()=>[V("mdi-close")]),_:1})]),_:1})])]),_:3}))}});const xa=le(ho,[["__scopeId","data-v-8e587f57"]]),bo={};function _o(e,l){return _(),P(he,{disabled:""},{title:y(()=>[V(" No items found for searched term. ")]),_:1})}const So=le(bo,[["render",_o]]),wo=q({__name:"LabEditorDataGridPropertySelectorSection",props:{gridProps:{},title:{},propertyType:{},selected:{},filteredPropertyDescriptors:{},propertyDescriptors:{},selection:{}},emits:["toggle"],setup(e,{emit:l}){const t=e;function a(){t.selection!==ce.None?l("toggle",ce.None):l("toggle",ce.All)}return(n,o)=>n.propertyDescriptors.length>0?(_(),P($t,{key:0,value:n.propertyType},{activator:y(({props:s})=>[i(he,ot(rt(s)),{prepend:y(()=>[i(Ta,{start:""},{default:y(()=>[i(X,{icon:"",variant:"text",onClick:Ie(a,["stop"])},{default:y(()=>[n.selection===I(ce).None?(_(),P(Y,{key:0,class:"partial-selection"},{default:y(()=>[V(" mdi-checkbox-blank-outline ")]),_:1})):n.selection===I(ce).Some?(_(),P(Y,{key:1,class:"partial-selection"},{default:y(()=>[V(" mdi-minus-box ")]),_:1})):n.selection===I(ce).All?(_(),P(Y,{key:2},{default:y(()=>[V("mdi-checkbox-marked")]),_:1})):re("",!0)]),_:1},8,["onClick"])]),_:1})]),title:y(()=>[V(j(n.title)+" ("+j(n.selected.length||0)+"/"+j(n.propertyDescriptors.length)+") ",1)]),_:2},1040)]),default:y(()=>[n.filteredPropertyDescriptors.length>0?(_(!0),z(K,{key:0},fe(n.filteredPropertyDescriptors,(s,r)=>(_(),z(K,{key:s.key.toString()},[$e(n.$slots,"default",{property:s},void 0,!0),r<n.filteredPropertyDescriptors.length-1?(_(),P(it,{key:0,inset:""})):re("",!0)],64))),128)):(_(),P(So,{key:1}))]),_:3},8,["value"])):re("",!0)}});const Qe=le(wo,[["__scopeId","data-v-7a558214"]]),ko={class:"item-title"},Po={class:"item-description"},Vo=q({__name:"LabEditorDataGridPropertySelectorSectionItem",props:{value:{},title:{},description:{default:void 0},flags:{default:()=>[]},openable:{type:Boolean,default:!1}},emits:["schemaOpen"],setup(e,{emit:l}){return(t,a)=>(_(),P(he,{value:t.value},Zn({prepend:y(({isActive:n})=>[i(Ta,{start:""},{default:y(()=>[i(Fe,{"model-value":n},null,8,["model-value"])]),_:2},1024)]),title:y(()=>[Q("div",ko,[Q("span",null,j(t.title),1),t.flags?(_(),P(tl,{key:0},{default:y(()=>[(_(!0),z(K,null,fe(t.flags,n=>(_(),P(_a,{key:n},{default:y(()=>[V(j(n),1)]),_:2},1024))),128))]),_:1})):re("",!0)])]),_:2},[t.description?{name:"subtitle",fn:y(()=>[Q("div",Po,[V(j(t.description)+" ",1),i(we,{activator:"parent","max-width":"500"},{default:y(()=>[i(I(el),{source:t.description},null,8,["source"])]),_:1})])]),key:"0"}:void 0,t.openable?{name:"append",fn:y(()=>[i(X,{icon:"",variant:"text",onClick:a[0]||(a[0]=Ie(n=>l("schemaOpen"),["stop"]))},{default:y(()=>[i(Y,null,{default:y(()=>[V("mdi-open-in-new")]),_:1}),i(we,{activator:"parent"},{default:y(()=>[V(" Open schema ")]),_:1})]),_:1})]),key:"1"}:void 0]),1032,["value"]))}});const pt=le(Vo,[["__scopeId","data-v-8c765eb0"]]),Do=q({__name:"LabEditorDataGridPropertySelectorSectionAttributeItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(e,{emit:l}){const t=e,a=De(),n=ke(),o=a.getAttributeSchemaFlags(t.propertyDescriptor.schema);function s(){n.createTabRequest(new Re(t.gridProps.params.dataPointer.connection,new al(t.gridProps.params.dataPointer.catalogName,t.gridProps.params.dataPointer.entityType,t.propertyDescriptor.schema.name))),l("schemaOpen")}return(r,u)=>{var d;return _(),P(pt,{value:r.propertyDescriptor.key,title:r.propertyDescriptor.title,description:(d=r.propertyDescriptor.schema)==null?void 0:d.description,flags:I(o),openable:"",onSchemaOpen:s},null,8,["value","title","description","flags"])}}}),Co=q({__name:"LabEditorDataGridPropertySelectorSectionAssociatedDataItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(e,{emit:l}){const t=e,a=De(),n=ke(),o=a.getAssociatedDataSchemaFlags(t.propertyDescriptor.schema);function s(){n.createTabRequest(new Re(t.gridProps.params.dataPointer.connection,new nl(t.gridProps.params.dataPointer.catalogName,t.gridProps.params.dataPointer.entityType,t.propertyDescriptor.schema.name))),l("schemaOpen")}return(r,u)=>{var d;return _(),P(pt,{value:r.propertyDescriptor.key,title:r.propertyDescriptor.title,description:(d=r.propertyDescriptor.schema)==null?void 0:d.description,flags:I(o),openable:"",onSchemaOpen:s},null,8,["value","title","description","flags"])}}}),Io=q({__name:"LabEditorDataGridPropertySelectorSectionEntityItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(e,{emit:l}){const t=e,a=ke();function n(){a.createTabRequest(new Re(t.gridProps.params.dataPointer.connection,new Sa(t.gridProps.params.dataPointer.catalogName,t.gridProps.params.dataPointer.entityType))),l("schemaOpen")}return(o,s)=>(_(),P(pt,{value:o.propertyDescriptor.key,title:o.propertyDescriptor.title,openable:"",onSchemaOpen:n},null,8,["value","title"]))}}),To=q({__name:"LabEditorDataGridPropertySelectorSectionReferenceItem",props:{gridProps:{},propertyDescriptor:{}},emits:["schemaOpen"],setup(e,{emit:l}){const t=e,a=De(),n=ke(),o=a.getReferenceSchemaFlags(t.propertyDescriptor.schema);function s(){n.createTabRequest(new Re(t.gridProps.params.dataPointer.connection,new ll(t.gridProps.params.dataPointer.catalogName,t.gridProps.params.dataPointer.entityType,t.propertyDescriptor.schema.name))),l("schemaOpen")}return(r,u)=>{var d;return _(),P(pt,{value:r.propertyDescriptor.key,title:r.propertyDescriptor.title,description:(d=r.propertyDescriptor.schema)==null?void 0:d.description,flags:I(o),openable:"",onSchemaOpen:s},null,8,["value","title","description","flags"])}}}),Eo={name:"Hotkeys",data:()=>({supportedShortcuts:[]}),props:{shortcuts:{type:Array,required:!0},debug:{type:Boolean,default:!1}},methods:{onUseKeyboardShortcuts(e){const l=e.keyCode||e.which,t=window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey,a=this.supportedShortcuts.some(({keyCode:n})=>n===l);if(t&&a){const{keyString:n}=this.supportedShortcuts.find(({keyCode:o})=>o===l);this.debug&&console.log(`CMD (CTRL) + ${n} (${l}) pressed`),this.$emit("triggered",{key:l,keyString:n}),e.preventDefault()}}},created(){this.shortcuts&&this.shortcuts.length&&this.shortcuts.forEach(e=>{e&&(e=="ArrowLeft"?this.supportedShortcuts.push({keyString:e,keyCode:37}):e=="ArrowRight"?this.supportedShortcuts.push({keyString:e,keyCode:39}):e=="ArrowUp"?this.supportedShortcuts.push({keyString:e,keyCode:38}):e=="ArrowDown"?this.supportedShortcuts.push({keyString:e,keyCode:40}):this.supportedShortcuts.push({keyString:e,keyCode:e.charCodeAt(0)}))})},mounted(){document.addEventListener("keydown",this.onUseKeyboardShortcuts,!1),this.debug&&console.log("Vue Keyboard Shortcuts ENABLED")},beforeDestroy(){document.removeEventListener("keydown",this.onUseKeyboardShortcuts),this.debug&&console.log("Vue Keyboard Shortcuts DISABLED")}};function Lo(e,l,t,a,n,o){return null}const xo=le(Eo,[["render",Lo]]);const Ao=F({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...pa({origin:"center center",scrollStrategy:"block",transition:{component:Ot},zIndex:2400})},"VDialog"),Ut=te()({name:"VDialog",props:Ao(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const a=me(e,"modelValue"),{scopeId:n}=Et(),o=E();function s(u){var v,f;const d=u.relatedTarget,c=u.target;if(d!==c&&((v=o.value)!=null&&v.contentEl)&&((f=o.value)!=null&&f.globalTop)&&![document,o.value.contentEl].includes(c)&&!o.value.contentEl.contains(c)){const m=rl(o.value.contentEl);if(!m.length)return;const p=m[0],h=m[m.length-1];d===p?h.focus():p.focus()}}ol&&ee(()=>a.value&&e.retainFocus,u=>{u?document.addEventListener("focusin",s):document.removeEventListener("focusin",s)},{immediate:!0}),ee(a,async u=>{var d,c;await ua(),u?(d=o.value.contentEl)==null||d.focus({preventScroll:!0}):(c=o.value.activatorEl)==null||c.focus({preventScroll:!0})});const r=w(()=>W({"aria-haspopup":"dialog","aria-expanded":String(a.value)},e.activatorProps));return se(()=>{const[u]=je.filterProps(e);return i(je,W({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},u,{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,"aria-modal":"true",activatorProps:r.value,role:"dialog"},n),{activator:t.activator,default:function(){for(var d=arguments.length,c=new Array(d),v=0;v<d;v++)c[v]=arguments[v];return i(Be,{root:"VDialog"},{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t,...c)]}})}})}),lt({},o)}}),Bo=q({__name:"LabEditorDataGridPropertySelector",props:{gridProps:{},modelValue:{type:Boolean},selected:{},propertyDescriptors:{}},emits:["update:modelValue","update:selected","schemaOpen"],setup(e,{emit:l}){const t=e,a=Ce(),n=E(""),o=E(null),s=w(()=>{const m=new Map;return t.propertyDescriptors.forEach(p=>{var h;m.has(p.type)||m.set(p.type,[]),(h=m.get(p.type))==null||h.push(p)}),m}),r=w(()=>{const m=new Map;for(const[p,h]of s.value){const b=h.filter(g=>g.title.toLowerCase().includes(n.value));m.set(p,b)}return m}),u=w(()=>{const m=new Map;return t.selected.forEach(p=>{var h;m.has(p.type)||m.set(p.type,[]),(h=m.get(p.type))==null||h.push(p)}),m}),d=w(()=>{var p;const m=new Map;for(const[h,b]of u.value){let g;b.length===0?g=ce.None:b.length===((p=s.value.get(h))==null?void 0:p.length)?g=ce.All:g=ce.Some,m.set(h,g)}return m}),c=E([]);function v(m){if(n.value=m.toLowerCase(),m.length===0)c.value=[];else{const p=[];r.value.size>0&&((r.value.get(G.Entity)||[]).length>0&&p.push(G.Entity),(r.value.get(G.Attributes)||[]).length>0&&p.push(G.Attributes),(r.value.get(G.AssociatedData)||[]).length>0&&p.push(G.AssociatedData),(r.value.get(G.References)||[]).length>0&&p.push(G.References)),c.value=p}}function f(m,p){var h;if(p===ce.None){const b=t.selected.filter(g=>g.type!==m);l("update:selected",b)}else if(p===ce.All){const b=((h=s.value.get(m))==null?void 0:h.map(S=>S.key))||[],g=t.selected.filter(S=>S.type!==m);g.push(...b),l("update:selected",g)}else a.error(new Rt(t.gridProps.params.dataPointer.connection,"Cannot select `Some` properties in a section."))}return(m,p)=>(_(),P(Ut,{"model-value":m.modelValue,"onUpdate:modelValue":p[14]||(p[14]=h=>l("update:modelValue",h)),"max-width":"60rem",scrollable:""},{activator:y(({props:h})=>[i(X,W({icon:"",density:"comfortable"},h),{default:y(()=>[i(Y,null,{default:y(()=>[V("mdi-view-column")]),_:1}),i(we,{activator:"parent"},{default:y(()=>[V(" Select displayed properties ")]),_:1})]),_:2},1040)]),default:y(()=>[i(dt,null,{default:y(()=>[i(xa,{onClose:p[0]||(p[0]=h=>l("update:modelValue",!1))},{default:y(()=>[V(" Displayed properties ")]),_:1}),i(it),i(qe,{class:"selector-body"},{default:y(()=>[i(xo,{shortcuts:["F"],onTriggered:p[1]||(p[1]=h=>{var b;return(b=o.value)==null?void 0:b.focus()})}),i(Ae,{ref_key:"filterInput",ref:o,"model-value":n.value,label:"Filter properties",variant:"solo-filled",density:"compact",autofocus:"","append-inner-icon":n.value?"mdi-backspace":null,"onUpdate:modelValue":p[2]||(p[2]=h=>v(h)),"onClick:appendInner":p[3]||(p[3]=h=>v("")),class:"filter-input"},null,8,["model-value","append-inner-icon"]),i(Ve,{selected:m.selected,"onUpdate:selected":p[12]||(p[12]=h=>l("update:selected",h)),opened:c.value,"onUpdate:opened":p[13]||(p[13]=h=>c.value=h),lines:"two","open-strategy":"multiple","select-strategy":"classic",class:"property-list"},{default:y(()=>[i(Qe,{"grid-props":m.gridProps,title:"Entity","property-type":I(G).Entity,selected:u.value.get(I(G).Entity)||[],"filtered-property-descriptors":r.value.get(I(G).Entity)||[],"property-descriptors":s.value.get(I(G).Entity)||[],selection:d.value.get(I(G).Entity)||I(ce).None,onToggle:p[5]||(p[5]=h=>f(I(G).Entity,h))},{default:y(({property:h})=>[i(Io,{"grid-props":m.gridProps,"property-descriptor":h,onSchemaOpen:p[4]||(p[4]=b=>l("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),i(Qe,{"grid-props":m.gridProps,title:"Attributes","property-type":I(G).Attributes,selected:u.value.get(I(G).Attributes)||[],"filtered-property-descriptors":r.value.get(I(G).Attributes)||[],"property-descriptors":s.value.get(I(G).Attributes)||[],selection:d.value.get(I(G).Attributes)||I(ce).None,onToggle:p[7]||(p[7]=h=>f(I(G).Attributes,h))},{default:y(({property:h})=>[i(Do,{"grid-props":m.gridProps,"property-descriptor":h,onSchemaOpen:p[6]||(p[6]=b=>l("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),i(Qe,{"grid-props":m.gridProps,title:"Associated data","property-type":I(G).AssociatedData,selected:u.value.get(I(G).AssociatedData)||[],"filtered-property-descriptors":r.value.get(I(G).AssociatedData)||[],"property-descriptors":s.value.get(I(G).AssociatedData)||[],selection:d.value.get(I(G).AssociatedData)||I(ce).None,onToggle:p[9]||(p[9]=h=>f(I(G).AssociatedData,h))},{default:y(({property:h})=>[i(Co,{"grid-props":m.gridProps,"property-descriptor":h,onSchemaOpen:p[8]||(p[8]=b=>l("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"]),i(Qe,{"grid-props":m.gridProps,title:"References","property-type":I(G).References,selected:u.value.get(I(G).References)||[],"filtered-property-descriptors":r.value.get(I(G).References)||[],"property-descriptors":s.value.get(I(G).References)||[],selection:d.value.get(I(G).References)||I(ce).None,onToggle:p[11]||(p[11]=h=>f(I(G).References,h))},{default:y(({property:h})=>[i(To,{"grid-props":m.gridProps,"property-descriptor":h,onSchemaOpen:p[10]||(p[10]=b=>l("schemaOpen"))},null,8,["grid-props","property-descriptor"])]),_:1},8,["grid-props","property-type","selected","filtered-property-descriptors","property-descriptors","selection"])]),_:1},8,["selected","opened"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}});const $o=le(Bo,[["__scopeId","data-v-1badc236"]]),Ro=q({__name:"LabEditorDataGridDataLocaleSelector",props:{selected:{},dataLocales:{}},emits:["update:selected"],setup(e,{emit:l}){function t(a){if(a.length>0){const n=a[0];n==="none"?l("update:selected",void 0):l("update:selected",n)}else l("update:selected",void 0)}return(a,n)=>(_(),P(X,{icon:"",density:"comfortable"},{default:y(()=>[a.selected?(_(),P(Y,{key:1},{default:y(()=>[V("mdi-translate")]),_:1})):(_(),P(Y,{key:0},{default:y(()=>[V("mdi-translate-off")]),_:1})),i(we,{activator:"parent"},{default:y(()=>[V(" Select data locale ")]),_:1}),i(ct,{activator:"parent"},{default:y(()=>[i(Ve,{selected:[a.selected?a.selected:"none"],density:"compact","min-width":"100","onUpdate:selected":t},{default:y(()=>[i(he,{value:"none"},{default:y(()=>[i(_t,null,{default:y(()=>[V("None")]),_:1})]),_:1}),i(it,{class:"mt-2 mb-2"}),(_(!0),z(K,null,fe(a.dataLocales,o=>(_(),P(he,{key:o,value:o},{default:y(()=>[i(_t,null,{default:y(()=>[V(j(o),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),Oo=q({__name:"LabEditorDataGridQueryLanguageSelector",props:{selected:{}},emits:["update:selected"],setup(e,{emit:l}){const t=e,a=[{title:"EvitaQL",icon:"mdi-console",value:We.EvitaQL},{title:"GraphQL",icon:"mdi-graphql",value:We.GraphQL}],n=w(()=>{const o=a.find(s=>s.value===t.selected);return o?o.icon:"mdi-code-braces"});return(o,s)=>(_(),P(X,{icon:"",density:"comfortable"},{default:y(()=>[i(Y,null,{default:y(()=>[V(j(n.value),1)]),_:1}),i(we,{activator:"parent"},{default:y(()=>[V("Select query language")]),_:1}),i(ct,{activator:"parent"},{default:y(()=>[i(Ve,{selected:[o.selected],density:"compact","onUpdate:selected":s[0]||(s[0]=r=>l("update:selected",r.length>0?r[0]:I(We).EvitaQL))},{default:y(()=>[(_(),z(K,null,fe(a,r=>i(he,{key:r.value,value:r.value},{prepend:y(()=>[i(Y,null,{default:y(()=>[V(j(r.icon),1)]),_:2},1024)]),default:y(()=>[i(_t,null,{default:y(()=>[V(j(r.title),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1})]),_:1}))}}),Go={class:"query-input"},Uo=q({__name:"LabEditorDataGridQueryInput",props:{gridProps:{},selectedQueryLanguage:{},filterBy:{},orderBy:{},dataLocales:{},selectedDataLocale:{},entityPropertyDescriptors:{},selectedEntityPropertyKeys:{}},emits:["executeQuery","update:selectedQueryLanguage","update:filterBy","update:orderBy","update:selectedDataLocale","update:selectedEntityPropertyKeys"],setup(e,{emit:l}){const t=E(!1);return(a,n)=>(_(),z("div",Go,[i(Oo,{selected:a.selectedQueryLanguage,"onUpdate:selected":n[0]||(n[0]=o=>l("update:selectedQueryLanguage",o))},null,8,["selected"]),i(Xt,{"model-value":a.filterBy,"prepend-inner-icon":"mdi-filter",placeholder:"Filter by","onUpdate:modelValue":n[1]||(n[1]=o=>l("update:filterBy",o)),onExecute:n[2]||(n[2]=o=>l("executeQuery"))},null,8,["model-value"]),i(Xt,{"model-value":a.orderBy,"prepend-inner-icon":"mdi-sort",placeholder:"Order by","onUpdate:modelValue":n[3]||(n[3]=o=>l("update:orderBy",o)),onExecute:n[4]||(n[4]=o=>l("executeQuery"))},null,8,["model-value"]),i(Ro,{selected:a.selectedDataLocale,"onUpdate:selected":n[5]||(n[5]=o=>l("update:selectedDataLocale",o)),"data-locales":a.dataLocales},null,8,["selected","data-locales"]),i($o,{modelValue:t.value,"onUpdate:modelValue":n[6]||(n[6]=o=>t.value=o),"grid-props":a.gridProps,"property-descriptors":a.entityPropertyDescriptors,selected:a.selectedEntityPropertyKeys,"onUpdate:selected":n[7]||(n[7]=o=>l("update:selectedEntityPropertyKeys",o)),onSchemaOpen:n[8]||(n[8]=o=>t.value=!1)},null,8,["modelValue","grid-props","property-descriptors","selected"])]))}});const Mo=le(Uo,[["__scopeId","data-v-941bf6bb"]]),Fo=q({__name:"LabEditorDataGridToolbar",props:{path:{},loading:{type:Boolean}},emits:["executeQuery"],setup(e,{emit:l}){return(t,a)=>(_(),P(yt,{density:"compact",elevation:"2",class:"data-grid__header"},{append:y(()=>[i(X,{icon:"",variant:"elevated",loading:t.loading,density:"compact",onClick:a[0]||(a[0]=n=>l("executeQuery"))},{default:y(()=>[i(Y,null,{default:y(()=>[V("mdi-play")]),_:1}),i(we,{activator:"parent"},{default:y(()=>[V(" Execute query ")]),_:1})]),_:1},8,["loading"])]),extension:y(()=>[$e(t.$slots,"query",{},void 0,!0)]),default:y(()=>[i(sl,{icon:"mdi-table",disabled:!0,style:{opacity:"1"}}),i(il,null,{default:y(()=>[i(ul,{items:t.path,class:"pl-0 pr-0"},null,8,["items"])]),_:1})]),_:3}))}});const qo=le(Fo,[["__scopeId","data-v-5b0c1c95"]]);const No=F({renderless:Boolean,...be()},"VVirtualScrollItem"),Ho=te()({name:"VVirtualScrollItem",inheritAttrs:!1,props:No(),emits:{"update:height":e=>!0},setup(e,l){let{attrs:t,emit:a,slots:n}=l;const{resizeRef:o,contentRect:s}=wa(void 0,"border");ee(()=>{var r;return(r=s.value)==null?void 0:r.height},r=>{r!=null&&a("update:height",r)}),se(()=>{var r,u;return e.renderless?i(K,null,[(r=n.default)==null?void 0:r.call(n,{itemRef:o})]):i("div",W({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(u=n.default)==null?void 0:u.call(n)])})}}),Jt=-1,Zt=1,zo=F({itemHeight:{type:[Number,String],default:48}},"virtual");function Ko(e,l,t){const a=ue(0),n=ue(e.itemHeight),o=w({get:()=>parseInt(n.value??0,10),set(D){n.value=D}}),s=E(),{resizeRef:r,contentRect:u}=wa();Ue(()=>{r.value=s.value});const d=ra(),c=new Map;let v=Array.from({length:l.value.length});const f=w(()=>{const D=(!u.value||s.value===document.documentElement?d.height.value:u.value.height)-((t==null?void 0:t.value)??0);return Math.ceil(D/o.value*1.7+1)});function m(D,B){o.value=Math.max(o.value,B),v[D]=B,c.set(l.value[D],B)}function p(D){return v.slice(0,D).reduce((B,U)=>B+(U||o.value),0)}function h(D){const B=l.value.length;let U=0,O=0;for(;O<D&&U<B;)O+=v[U++]||o.value;return U-1}let b=0;function g(){if(!s.value||!u.value)return;const D=u.value.height-56,B=s.value.scrollTop,U=B<b?Jt:Zt,O=h(B+D/2),ae=Math.round(f.value/3),ne=O-ae,ie=a.value+ae*2-1;U===Jt&&O<=ie?a.value=xe(ne,0,l.value.length):U===Zt&&O>=ie&&(a.value=xe(ne,0,l.value.length-f.value)),b=B}function S(D){if(!s.value)return;const B=p(D);s.value.scrollTop=B}const A=w(()=>Math.min(l.value.length,a.value+f.value)),L=w(()=>l.value.slice(a.value,A.value).map((D,B)=>({raw:D,index:B+a.value}))),k=w(()=>p(a.value)),R=w(()=>p(l.value.length)-p(A.value));return ee(()=>l.value.length,()=>{v=St(l.value.length).map(()=>o.value),c.forEach((D,B)=>{const U=l.value.indexOf(B);U===-1?c.delete(B):v[U]=D})}),{containerRef:s,computedItems:L,itemHeight:o,paddingTop:k,paddingBottom:R,scrollToIndex:S,handleScroll:g,handleItemResize:m}}const Qo=F({items:{type:Array,default:()=>[]},renderless:Boolean,...zo(),...be(),...va()},"VVirtualScroll"),Wo=te()({name:"VVirtualScroll",props:Qo(),setup(e,l){let{slots:t}=l;const a=ka("VVirtualScroll"),{dimensionStyles:n}=ga(e),{containerRef:o,handleScroll:s,handleItemResize:r,scrollToIndex:u,paddingTop:d,paddingBottom:c,computedItems:v}=Ko(e,J(e,"items"));return ea(()=>e.renderless,()=>{at(()=>{var f;o.value=cl(a.vnode.el,!0),(f=o.value)==null||f.addEventListener("scroll",s)}),dl(()=>{var f;(f=o.value)==null||f.removeEventListener("scroll",s)})}),se(()=>{const f=v.value.map(m=>i(Ho,{key:m.index,renderless:e.renderless,"onUpdate:height":p=>r(m.index,p)},{default:p=>{var h;return(h=t.default)==null?void 0:h.call(t,{item:m.raw,index:m.index,...p})}}));return e.renderless?i(K,null,[i("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:ve(d.value)}},null),f,i("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ve(c.value)}},null)]):i("div",{ref:o,class:["v-virtual-scroll",e.class],onScroll:s,style:[n.value,e.style]},[i("div",{class:"v-virtual-scroll__container",style:{paddingTop:ve(d.value),paddingBottom:ve(c.value)}},[f])])}),{scrollToIndex:u}}});function jo(e,l){const t=ue(!1);let a;function n(r){cancelAnimationFrame(a),t.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{t.value=!1})})}async function o(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const u=ee(t,()=>{u(),r()})}else r()})}async function s(r){var c,v;if(r.key==="Tab"&&((c=l.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const u=(v=e.value)==null?void 0:v.$el;if(!u)return;(r.key==="Home"||r.key==="End")&&u.scrollTo({top:r.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await o();const d=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const f=u.getBoundingClientRect().top;for(const m of d)if(m.getBoundingClientRect().top>=f){m.focus();break}}else{const f=u.getBoundingClientRect().bottom;for(const m of[...d].reverse())if(m.getBoundingClientRect().bottom<=f){m.focus();break}}}return{onListScroll:n,onListKeydown:s}}const Yo=F({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:Te,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Pa},...pl({itemChildren:!1})},"Select"),Xo=F({...Yo(),...da(vl({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...ml({transition:{component:Ot}})},"VSelect"),Jo=te()({name:"VSelect",props:Xo(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:a}=ut(),n=E(),o=E(),s=me(e,"menu"),r=w({get:()=>s.value,set:C=>{var N;s.value&&!C&&((N=o.value)!=null&&N.ΨopenChildren)||(s.value=C)}}),{items:u,transformIn:d,transformOut:c}=fl(e),v=me(e,"modelValue",[],C=>d(C===null?[null]:Ye(C)),C=>{const N=c(C);return e.multiple?N:N[0]??null}),f=gl(),m=w(()=>v.value.map(C=>u.value.find(N=>e.valueComparator(N.value,C.value))||C)),p=w(()=>m.value.map(C=>C.props.value)),h=ue(!1);let b="",g;const S=w(()=>e.hideSelected?u.value.filter(C=>!m.value.some(N=>N===C)):u.value),A=w(()=>e.hideNoData&&!u.value.length||e.readonly||(f==null?void 0:f.isReadonly.value)),L=E(),{onListScroll:k,onListKeydown:R}=jo(L,n);function D(C){e.openOnClear&&(r.value=!0)}function B(){A.value||(r.value=!r.value)}function U(C){var T,H;if(!C.key||e.readonly||f!=null&&f.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(C.key)&&C.preventDefault(),["Enter","ArrowDown"," "].includes(C.key)&&(r.value=!0),["Escape","Tab"].includes(C.key)&&(r.value=!1),C.key==="Home"?(T=L.value)==null||T.focus("first"):C.key==="End"&&((H=L.value)==null||H.focus("last"));const N=1e3;function Z(M){const oe=M.key.length===1,de=!M.ctrlKey&&!M.metaKey&&!M.altKey;return oe&&de}if(e.multiple||!Z(C))return;const $=performance.now();$-g>N&&(b=""),b+=C.key.toLowerCase(),g=$;const x=u.value.find(M=>M.title.toLowerCase().startsWith(b));x!==void 0&&(v.value=[x])}function O(C){if(e.multiple){const N=p.value.findIndex(Z=>e.valueComparator(Z,C.value));if(N===-1)v.value=[...v.value,C];else{const Z=[...v.value];Z.splice(N,1),v.value=Z}}else v.value=[C],r.value=!1}function ae(C){var N;(N=L.value)!=null&&N.$el.contains(C.relatedTarget)||(r.value=!1)}function ne(){var C;h.value&&((C=n.value)==null||C.focus())}function ie(C){h.value=!0}function ge(C){var N,Z;if(C==null)v.value=[];else if((N=n.value)!=null&&N.matches(":autofill")||(Z=n.value)!=null&&Z.matches(":-webkit-autofill")){const $=u.value.find(x=>x.title===C);$&&O($)}else n.value&&(n.value.value="")}return se(()=>{const C=!!(e.chips||t.chip),N=!!(!e.hideNoData||S.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),Z=v.value.length>0,[$]=Ae.filterProps(e),x=Z||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return i(Ae,W({ref:n},$,{modelValue:v.value.map(T=>T.props.value).join(", "),"onUpdate:modelValue":ge,focused:h.value,"onUpdate:focused":T=>h.value=T,validationValue:v.externalValue,dirty:Z,class:["v-select",{"v-select--active-menu":r.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:x,"onClick:clear":D,"onMousedown:control":B,onBlur:ae,onKeydown:U}),{...t,default:()=>i(K,null,[i(ct,W({ref:o,modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,activator:"parent",contentClass:"v-select__content",disabled:A.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ne},e.menuProps),{default:()=>[N&&i(Ve,{ref:L,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:R,onFocusin:ie,onScrollPassive:k,tabindex:"-1"},{default:()=>{var T,H,M;return[(T=t["prepend-item"])==null?void 0:T.call(t),!S.value.length&&!e.hideNoData&&(((H=t["no-data"])==null?void 0:H.call(t))??i(he,{title:a(e.noDataText)},null)),i(Wo,{renderless:!0,items:S.value},{default:oe=>{var Oe;let{item:de,index:pe,itemRef:ft}=oe;const Pe=W(de.props,{ref:ft,key:pe,onClick:()=>O(de)});return((Oe=t.item)==null?void 0:Oe.call(t,{item:de,index:pe,props:Pe}))??i(he,Pe,{prepend:Ne=>{let{isSelected:He}=Ne;return i(K,null,[e.multiple&&!e.hideSelected?i(Fe,{key:de.value,modelValue:He,ripple:!1,tabindex:"-1"},null):void 0,de.props.prependIcon&&i(Y,{icon:de.props.prependIcon},null)])}})}}),(M=t["append-item"])==null?void 0:M.call(t)]}})]}),m.value.map((T,H)=>{var de;function M(pe){pe.stopPropagation(),pe.preventDefault(),O(T)}const oe={"onClick:close":M,onMousedown(pe){pe.preventDefault(),pe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return i("div",{key:T.value,class:"v-select__selection"},[C?t.chip?i(Be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:T.title}}},{default:()=>{var pe;return[(pe=t.chip)==null?void 0:pe.call(t,{item:T,index:H,props:oe})]}}):i(_a,W({key:"chip",closable:e.closableChips,size:"small",text:T.title},oe),null):((de=t.selection)==null?void 0:de.call(t,{item:T,index:H}))??i("span",{class:"v-select__selection-text"},[T.title,e.multiple&&H<m.value.length-1&&i("span",{class:"v-select__selection-comma"},[V(",")])])])})]),"append-inner":function(){var oe;for(var T=arguments.length,H=new Array(T),M=0;M<T;M++)H[M]=arguments[M];return i(K,null,[(oe=t["append-inner"])==null?void 0:oe.call(t,...H),e.menuIcon?i(Y,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),lt({isFocused:h,menu:r,select:O},n)}}),Aa=F({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ba=Symbol.for("vuetify:data-table-pagination");function $a(e){const l=me(e,"page",void 0,a=>+(a??1)),t=me(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function Ra(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=w(()=>t.value===-1?0:t.value*(l.value-1)),o=w(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),s=w(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));Ue(()=>{l.value>s.value&&(l.value=s.value)});function r(f){t.value=f,l.value=1}function u(){l.value=xe(l.value+1,1,s.value)}function d(){l.value=xe(l.value-1,1,s.value)}function c(f){l.value=xe(f,1,s.value)}const v={page:l,itemsPerPage:t,startIndex:n,stopIndex:o,pageCount:s,itemsLength:a,nextPage:u,prevPage:d,setPage:c,setItemsPerPage:r};return _e(Ba,v),v}function Zo(){const e=ye(Ba);if(!e)throw new Error("Missing pagination!");return e}function er(e){const{items:l,startIndex:t,stopIndex:a,itemsPerPage:n}=e;return{paginatedItems:w(()=>n.value<=0?l.value:l.value.slice(t.value,a.value))}}const Mt=F({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Je=te()({name:"VDataTableFooter",props:Mt(),setup(e,l){let{slots:t}=l;const{t:a}=ut(),{page:n,pageCount:o,startIndex:s,stopIndex:r,itemsLength:u,itemsPerPage:d,setItemsPerPage:c}=Zo(),v=w(()=>e.itemsPerPageOptions.map(f=>({...f,title:a(f.title)})));return()=>{var f;return i("div",{class:"v-data-table-footer"},[(f=t.prepend)==null?void 0:f.call(t),i("div",{class:"v-data-table-footer__items-per-page"},[i("span",null,[a(e.itemsPerPageText)]),i(Jo,{items:v.value,modelValue:d.value,"onUpdate:modelValue":m=>c(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),i("div",{class:"v-data-table-footer__info"},[i("div",null,[a(e.pageText,u.value?s.value+1:0,r.value,u.value)])]),i("div",{class:"v-data-table-footer__pagination"},[i(X,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),i(X,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&i("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),i(X,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(o.value,n.value+1),disabled:n.value===o.value,"aria-label":a(e.nextPageLabel)},null),i(X,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=o.value,disabled:n.value===o.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),Ft=yl({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:t,attrs:a}=l;const n=e.tag??"td";return i(n,W({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:ve(e.height),width:ve(e.width),left:ve(e.fixedOffset||null)}},a),{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}),tr=F({headers:{type:Array,default:()=>[]}},"DataTable-header"),Oa=Symbol.for("vuetify:data-table-headers");function Ga(e,l){const t=E([]),a=E([]);Ue(()=>{var m,p,h;const o=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],s=o.flatMap((b,g)=>b.map(S=>({column:S,row:g}))),r=o.length,u={title:"",sortable:!1},d={...u,width:48};if((m=l==null?void 0:l.groupBy)!=null&&m.value.length){const b=s.findIndex(g=>{let{column:S}=g;return S.key==="data-table-group"});b<0?s.unshift({column:{...u,key:"data-table-group",title:"Group",rowspan:r},row:0}):s.splice(b,1,{column:{...u,...s[b].column},row:s[b].row})}if((p=l==null?void 0:l.showSelect)!=null&&p.value){const b=s.findIndex(g=>{let{column:S}=g;return S.key==="data-table-select"});b<0?s.unshift({column:{...d,key:"data-table-select",rowspan:r},row:0}):s.splice(b,1,{column:{...d,...s[b].column},row:s[b].row})}if((h=l==null?void 0:l.showExpand)!=null&&h.value){const b=s.findIndex(g=>{let{column:S}=g;return S.key==="data-table-expand"});b<0?s.push({column:{...d,key:"data-table-expand",rowspan:r},row:0}):s.splice(b,1,{column:{...d,...s[b].column},row:s[b].row})}const c=St(r).map(()=>[]),v=St(r).fill(0);s.forEach(b=>{let{column:g,row:S}=b,A=g.key;A==null&&(A="");for(let L=S;L<=S+(g.rowspan??1)-1;L++)c[L].push({...g,key:A,fixedOffset:v[L],sortable:g.sortable??!!g.key}),v[L]+=Number(g.width??0)}),c.forEach(b=>{for(let g=b.length;g--;g>=0)if(b[g].fixed){b[g].lastFixed=!0;return}});const f=new Set;t.value=c.map(b=>{const g=[];for(const S of b)f.has(S.key)||(f.add(S.key),g.push(S));return g}),a.value=c.at(-1)??[]});const n={headers:t,columns:a};return _e(Oa,n),n}function vt(){const e=ye(Oa);if(!e)throw new Error("Missing headers!");return e}const ar={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Ua={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return Ua.select({items:t,value:l,selected:a})}},Ma={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return Ma.select({items:t,value:l,selected:a})}},nr=F({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),Fa=Symbol.for("vuetify:data-table-selection");function qa(e,l){let{allItems:t,currentPage:a}=l;const n=me(e,"modelValue",e.modelValue,b=>new Set(b),b=>[...b.values()]),o=w(()=>t.value.filter(b=>b.selectable)),s=w(()=>a.value.filter(b=>b.selectable)),r=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ar;case"all":return Ma;case"page":default:return Ua}});function u(b){return Ye(b).every(g=>n.value.has(g.value))}function d(b){return Ye(b).some(g=>n.value.has(g.value))}function c(b,g){const S=r.value.select({items:b,value:g,selected:new Set(n.value)});n.value=S}function v(b){c([b],!u([b]))}function f(b){const g=r.value.selectAll({value:b,allItems:o.value,currentPage:s.value,selected:new Set(n.value)});n.value=g}const m=w(()=>n.value.size>0),p=w(()=>{const b=r.value.allSelected({allItems:o.value,currentPage:s.value});return u(b)}),h={toggleSelect:v,select:c,selectAll:f,isSelected:u,isSomeSelected:d,someSelected:m,allSelected:p,showSelectAll:r.value.showSelectAll};return _e(Fa,h),h}function mt(){const e=ye(Fa);if(!e)throw new Error("Missing selection!");return e}const lr=F({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Na=Symbol.for("vuetify:data-table-sort");function Ha(e){const l=me(e,"sortBy"),t=J(e,"mustSort"),a=J(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function za(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,o=u=>{let d=l.value.map(v=>({...v}))??[];const c=d.find(v=>v.key===u.key);c?c.order==="desc"?t.value?c.order="asc":d=d.filter(v=>v.key!==u.key):c.order="desc":a.value?d=[...d,{key:u.key,order:"asc"}]:d=[{key:u.key,order:"asc"}],l.value=d,n&&(n.value=1)};function s(u){return!!l.value.find(d=>d.key===u.key)}const r={sortBy:l,toggleSort:o,isSorted:s};return _e(Na,r),r}function or(){const e=ye(Na);if(!e)throw new Error("Missing sort!");return e}function rr(e,l,t){const a=ut();return{sortedItems:w(()=>t.value.length?sr(l.value,t.value,a.current.value,e.customKeySort):l.value)}}function sr(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,s)=>{for(let r=0;r<l.length;r++){const u=l[r].key,d=l[r].order??"asc";if(d===!1)continue;let c=wt(o.raw,u),v=wt(s.raw,u);if(d==="desc"&&([c,v]=[v,c]),a!=null&&a[u]){const f=a[u](c,v);if(!f)continue;return f}if(c instanceof Date&&v instanceof Date)return c.getTime()-v.getTime();if([c,v]=[c,v].map(f=>f!=null?f.toString().toLocaleLowerCase():f),c!==v)return Ke(c)&&Ke(v)?0:Ke(c)?-1:Ke(v)?1:!isNaN(c)&&!isNaN(v)?Number(c)-Number(v):n.compare(c,v)}return 0})}const Ka=F({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Te,default:"$sortAsc"},sortDescIcon:{type:Te,default:"$sortDesc"},...ma()},"VDataTableHeaders"),Ze=te()({name:"VDataTableHeaders",props:Ka(),setup(e,l){let{slots:t,emit:a}=l;const{toggleSort:n,sortBy:o,isSorted:s}=or(),{someSelected:r,allSelected:u,selectAll:d,showSelectAll:c}=mt(),{columns:v,headers:f}=vt(),{loaderClasses:m}=ya(e),p=(L,k)=>{if(!(!e.sticky&&!L.fixed))return{position:"sticky",zIndex:L.fixed?4:e.sticky?3:void 0,left:L.fixed?ve(L.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${k})`:void 0}};function h(L){const k=o.value.find(R=>R.key===L.key);return k?k.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:g}=ht(e,"color"),S=w(()=>({headers:f.value,columns:v.value,toggleSort:n,isSorted:s,sortBy:o.value,someSelected:r.value,allSelected:u.value,selectAll:d,getSortIcon:h,getFixedStyles:p})),A=L=>{let{column:k,x:R,y:D}=L;const B=k.key==="data-table-select"||k.key==="data-table-expand";return i(Ft,{tag:"th",align:k.align,class:["v-data-table__th",{"v-data-table__th--sortable":k.sortable,"v-data-table__th--sorted":s(k)},m.value],style:{width:ve(k.width),minWidth:ve(k.width),...p(k,D)},colspan:k.colspan,rowspan:k.rowspan,onClick:k.sortable?()=>n(k):void 0,lastFixed:k.lastFixed,noPadding:B},{default:()=>{var ae;const U=`column.${k.key}`,O={column:k,selectAll:d,isSorted:s,toggleSort:n,sortBy:o.value,someSelected:r.value,allSelected:u.value,getSortIcon:h};return t[U]?t[U](O):k.key==="data-table-select"?((ae=t["column.data-table-select"])==null?void 0:ae.call(t,O))??(c&&i(Fe,{modelValue:u.value,indeterminate:r.value&&!u.value,"onUpdate:modelValue":d},null)):i("div",{class:"v-data-table-header__content"},[i("span",null,[k.title]),k.sortable&&i(Y,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(k)},null),e.multiSort&&s(k)&&i("div",{key:"badge",class:["v-data-table-header__sort-badge",...b.value],style:g.value},[o.value.findIndex(ne=>ne.key===k.key)+1])])}})};se(()=>i(K,null,[t.headers?t.headers(S.value):f.value.map((L,k)=>i("tr",null,[L.map((R,D)=>i(A,{column:R,x:D,y:k},null))])),e.loading&&i("tr",{class:"v-data-table-progress"},[i("th",{colspan:v.value.length},[i(ba,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),ir=F({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Qa=Symbol.for("vuetify:data-table-group");function Wa(e){return{groupBy:me(e,"groupBy")}}function ja(e){const{groupBy:l,sortBy:t}=e,a=E(new Set),n=w(()=>l.value.map(d=>({...d,order:d.order??!1})).concat(t.value));function o(d){return a.value.has(d.id)}function s(d){const c=new Set(a.value);o(d)?c.delete(d.id):c.add(d.id),a.value=c}function r(d){function c(v){const f=[];for(const m of v.items)"type"in m&&m.type==="group"?f.push(...c(m)):f.push(m);return f}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:n,toggleGroup:s,opened:a,groupBy:l,extractRows:r,isGroupOpen:o};return _e(Qa,u),u}function Ya(){const e=ye(Qa);if(!e)throw new Error("Missing group!");return e}function ur(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=wt(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Xa(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ur(e,l[0]),o=[],s=l.slice(1);return n.forEach((r,u)=>{const d=l[0],c=`${a}_${d}_${u}`;o.push({depth:t,id:c,key:d,value:u,items:s.length?Xa(r,s,t+1,c):r,type:"group"})}),o}function Ja(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...Ja(a.items,l))):t.push(a);return t}function Za(e,l,t){return{flatItems:w(()=>{if(!l.value.length)return e.value;const n=Xa(e.value,l.value.map(o=>o.key));return Ja(n,t.value)})}}const cr=F({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),dr=te()({name:"VDataTableGroupHeaderRow",props:cr(),setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:o}=Ya(),{isSelected:s,isSomeSelected:r,select:u}=mt(),{columns:d}=vt(),c=w(()=>o([e.item]));return()=>i("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(v=>{var f,m;if(v.key==="data-table-group"){const p=a(e.item)?"$expand":"$next",h=()=>n(e.item);return((f=t["data-table-group"])==null?void 0:f.call(t,{item:e.item,count:c.value.length,props:{icon:p,onClick:h}}))??i(Ft,{class:"v-data-table-group-header-row__column"},{default:()=>[i(X,{size:"small",variant:"text",icon:p,onClick:h},null),i("span",null,[e.item.value]),i("span",null,[V("("),c.value.length,V(")")])]})}if(v.key==="data-table-select"){const p=s(c.value),h=r(c.value)&&!p,b=g=>u(c.value,g);return((m=t["data-table-select"])==null?void 0:m.call(t,{props:{modelValue:p,indeterminate:h,"onUpdate:modelValue":b}}))??i("td",null,[i(Fe,{modelValue:p,indeterminate:h,"onUpdate:modelValue":b},null)])}return i("td",null,null)})])}}),pr=F({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),en=Symbol.for("vuetify:datatable:expanded");function tn(e){const l=J(e,"expandOnClick"),t=me(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function a(r,u){const d=new Set(t.value);u?d.add(r.value):d.delete(r.value),t.value=d}function n(r){return t.value.has(r.value)}function o(r){a(r,!n(r))}const s={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:o};return _e(en,s),s}function an(){const e=ye(en);if(!e)throw new Error("foo");return e}const vr=F({index:Number,item:Object,onClick:Function},"VDataTableRow"),mr=hl({name:"VDataTableRow",props:vr(),setup(e,l){let{slots:t}=l;const{isSelected:a,toggleSelect:n}=mt(),{isExpanded:o,toggleExpand:s}=an(),{columns:r}=vt();se(()=>i("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&r.value.map((u,d)=>i(Ft,{align:u.align,fixed:u.fixed,fixedOffset:u.fixedOffset,lastFixed:u.lastFixed,noPadding:u.key==="data-table-select"||u.key==="data-table-expand",width:u.width},{default:()=>{var m,p;const c=e.item,v=`item.${u.key}`,f={index:e.index,item:e.item,columns:r.value,isSelected:a,toggleSelect:n,isExpanded:o,toggleExpand:s};return t[v]?t[v](f):u.key==="data-table-select"?((m=t["item.data-table-select"])==null?void 0:m.call(t,f))??i(Fe,{disabled:!c.selectable,modelValue:a([c]),onClick:Ie(()=>n(c),["stop"])},null):u.key==="data-table-expand"?((p=t["item.data-table-expand"])==null?void 0:p.call(t,f))??i(X,{icon:o(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ie(()=>s(c),["stop"])},null):Le(c.columns,u.key)}}))]))}}),nn=F({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),et=te()({name:"VDataTableRows",props:nn(),setup(e,l){let{emit:t,slots:a}=l;const{columns:n}=vt(),{expandOnClick:o,toggleExpand:s,isExpanded:r}=an(),{isSelected:u,toggleSelect:d}=mt(),{toggleGroup:c,isGroupOpen:v}=Ya(),{t:f}=ut();return se(()=>{var m;return e.loading&&a.loading?i("tr",{class:"v-data-table-rows-loading",key:"loading"},[i("td",{colspan:n.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?i("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[i("td",{colspan:n.value.length},[((m=a["no-data"])==null?void 0:m.call(a))??f(e.noDataText)])]):i(K,null,[e.items.map((p,h)=>{var S;if(p.type==="group")return a["group-header"]?a["group-header"]({index:h,item:p,columns:n.value,isExpanded:r,toggleExpand:s,isSelected:u,toggleSelect:d,toggleGroup:c,isGroupOpen:v}):i(dr,{key:`group-header_${p.id}`,item:p},a);const b={index:h,item:p,columns:n.value,isExpanded:r,toggleExpand:s,isSelected:u,toggleSelect:d},g={...b,props:{key:`item_${p.key??p.index}`,onClick:o.value||e["onClick:row"]?A=>{var L;o.value&&s(p),(L=e["onClick:row"])==null||L.call(e,A,{item:p})}:void 0,index:h,item:p}};return i(K,null,[a.item?a.item(g):i(mr,g.props,a),r(p)&&((S=a["expanded-row"])==null?void 0:S.call(a,b))])})])}),{}}});const ln=F({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...be(),...Bt(),...Me(),...It()},"VTable"),tt=te()({name:"VTable",props:ln(),setup(e,l){let{slots:t}=l;const{themeClasses:a}=Tt(e),{densityClasses:n}=fa(e);return se(()=>i(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},a.value,n.value,e.class],style:e.style},{default:()=>{var o,s,r;return[(o=t.top)==null?void 0:o.call(t),t.default?i("div",{class:"v-table__wrapper",style:{height:ve(e.height)}},[i("table",null,[t.default()])]):(s=t.wrapper)==null?void 0:s.call(t),(r=t.bottom)==null?void 0:r.call(t)]}})),{}}}),fr=F({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function gr(e,l,t,a){const n=e.returnObject?l:Le(l,e.itemValue),o=Le(l,e.itemSelectable,!0),s=a.reduce((r,u)=>(r[u.key]=Le(l,u.value??u.key),r),{});return{type:"item",key:e.returnObject?Le(l,e.itemValue):n,index:t,value:n,selectable:o,columns:s,raw:l}}function yr(e,l,t){return l.map((a,n)=>gr(e,a,n,t))}function on(e,l){return{items:w(()=>yr(e,e.items,l.value))}}function rn(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:o}=e;const s=ka("VDataTable"),r=w(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:o.value}));ee(()=>o==null?void 0:o.value,()=>{l.value=1});let u=null;ee(r,()=>{Pa(u,r.value)||(s.emit("update:options",r.value),u=r.value)},{deep:!0,immediate:!0})}const hr=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),br=F({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function _r(e,l,t){var r;const a=[],n=(t==null?void 0:t.default)??hr,o=t!=null&&t.filterKeys?Ye(t.filterKeys):!1,s=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let u=0;u<e.length;u++){const d=e[u],c={},v={};let f=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof d=="object"){const h=o||Object.keys(d);for(const b of h){const g=Le(d,b,d),S=(r=t==null?void 0:t.customKeyFilter)==null?void 0:r[b];if(f=S?S(g,l,d):n(g,l,d),f!==-1&&f!==!1)S?c[b]=f:v[b]=f;else if((t==null?void 0:t.filterMode)==="every")continue e}}else f=n(d,l,d),f!==-1&&f!==!1&&(v.title=f);const m=Object.keys(v).length,p=Object.keys(c).length;if(!m&&!p||(t==null?void 0:t.filterMode)==="union"&&p!==s&&!m||(t==null?void 0:t.filterMode)==="intersection"&&(p!==s||!m))continue}a.push({index:u,matches:{...v,...c}})}return a}function Sr(e,l,t,a){const n=E([]),o=E(new Map),s=w(()=>a!=null&&a.transform?I(l).map(a==null?void 0:a.transform):I(l));Ue(()=>{const u=typeof t=="function"?t():I(t),d=typeof u!="string"&&typeof u!="number"?"":String(u),c=_r(s.value,d,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),v=I(l),f=[],m=new Map;c.forEach(p=>{let{index:h,matches:b}=p;const g=v[h];f.push(g),m.set(g.value,b)}),n.value=f,o.value=m});function r(u){return o.value.get(u.value)}return{filteredItems:n,filteredMatches:o,getMatches:r}}const sn=F({...nn(),width:[String,Number],search:String,...pr(),...ir(),...tr(),...fr(),...nr(),...lr(),...Ka(),...ln()},"DataTable"),wr=F({...Aa(),...sn(),...br(),...Mt()},"VDataTable");te()({name:"VDataTable",props:wr(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=Wa(e),{sortBy:o,multiSort:s,mustSort:r}=Ha(e),{page:u,itemsPerPage:d}=$a(e),{columns:c,headers:v}=Ga(e,{groupBy:n,showSelect:J(e,"showSelect"),showExpand:J(e,"showExpand")}),{items:f}=on(e,c),m=J(e,"search"),{filteredItems:p}=Sr(e,f,m,{transform:oe=>oe.columns}),{toggleSort:h}=za({sortBy:o,multiSort:s,mustSort:r,page:u}),{sortByWithGroups:b,opened:g,extractRows:S,isGroupOpen:A,toggleGroup:L}=ja({groupBy:n,sortBy:o}),{sortedItems:k}=rr(e,p,b),{flatItems:R}=Za(k,n,g),D=w(()=>R.value.length),{startIndex:B,stopIndex:U,pageCount:O,setItemsPerPage:ae}=Ra({page:u,itemsPerPage:d,itemsLength:D}),{paginatedItems:ne}=er({items:R,startIndex:B,stopIndex:U,itemsPerPage:d}),ie=w(()=>S(ne.value)),{isSelected:ge,select:C,selectAll:N,toggleSelect:Z,someSelected:$,allSelected:x}=qa(e,{allItems:f,currentPage:ie}),{isExpanded:T,toggleExpand:H}=tn(e);rn({page:u,itemsPerPage:d,sortBy:o,groupBy:n,search:m}),nt({VDataTableRows:{hideNoData:J(e,"hideNoData"),noDataText:J(e,"noDataText"),loading:J(e,"loading"),loadingText:J(e,"loadingText")}});const M=w(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:O.value,toggleSort:h,setItemsPerPage:ae,someSelected:$.value,allSelected:x.value,isSelected:ge,select:C,selectAll:N,toggleSelect:Z,isExpanded:T,toggleExpand:H,isGroupOpen:A,toggleGroup:L,items:ie.value,groupedItems:ne.value,columns:c.value,headers:v.value}));return se(()=>{const[oe]=Je.filterProps(e),[de]=Ze.filterProps(e),[pe]=et.filterProps(e),[ft]=tt.filterProps(e);return i(tt,W({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ft),{top:()=>{var Pe;return(Pe=a.top)==null?void 0:Pe.call(a,M.value)},default:()=>{var Pe,Oe,Ne,He;return a.default?a.default(M.value):i(K,null,[(Pe=a.colgroup)==null?void 0:Pe.call(a,M.value),i("thead",null,[i(Ze,de,a)]),(Oe=a.thead)==null?void 0:Oe.call(a,M.value),i("tbody",null,[a.body?a.body(M.value):i(et,W(pe,{items:ne.value}),a)]),(Ne=a.tbody)==null?void 0:Ne.call(a,M.value),(He=a.tfoot)==null?void 0:He.call(a,M.value)])},bottom:()=>a.bottom?a.bottom(M.value):i(K,null,[i(Je,oe,{prepend:a["footer.prepend"]})])})}),{}}});const kr=F({itemsLength:{type:[Number,String],required:!0},...Aa(),...sn(),...Mt()},"VDataTableServer"),Pr=te()({name:"VDataTableServer",props:kr(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,l)=>!0},setup(e,l){let{emit:t,slots:a}=l;const{groupBy:n}=Wa(e),{sortBy:o,multiSort:s,mustSort:r}=Ha(e),{page:u,itemsPerPage:d}=$a(e),c=w(()=>parseInt(e.itemsLength,10)),{columns:v,headers:f}=Ga(e,{groupBy:n,showSelect:J(e,"showSelect"),showExpand:J(e,"showExpand")}),{items:m}=on(e,v),{toggleSort:p}=za({sortBy:o,multiSort:s,mustSort:r,page:u}),{opened:h,isGroupOpen:b,toggleGroup:g,extractRows:S}=ja({groupBy:n,sortBy:o}),{pageCount:A,setItemsPerPage:L}=Ra({page:u,itemsPerPage:d,itemsLength:c}),{flatItems:k}=Za(m,n,h),{isSelected:R,select:D,selectAll:B,toggleSelect:U,someSelected:O,allSelected:ae}=qa(e,{allItems:m,currentPage:m}),{isExpanded:ne,toggleExpand:ie}=tn(e),ge=w(()=>S(m.value));rn({page:u,itemsPerPage:d,sortBy:o,groupBy:n,search:J(e,"search")}),_e("v-data-table",{toggleSort:p,sortBy:o}),nt({VDataTableRows:{hideNoData:J(e,"hideNoData"),noDataText:J(e,"noDataText"),loading:J(e,"loading"),loadingText:J(e,"loadingText")}});const C=w(()=>({page:u.value,itemsPerPage:d.value,sortBy:o.value,pageCount:A.value,toggleSort:p,setItemsPerPage:L,someSelected:O.value,allSelected:ae.value,isSelected:R,select:D,selectAll:B,toggleSelect:U,isExpanded:ne,toggleExpand:ie,isGroupOpen:b,toggleGroup:g,items:ge.value,groupedItems:k.value,columns:v.value,headers:f.value}));se(()=>{const[N]=Je.filterProps(e),[Z]=Ze.filterProps(e),[$]=et.filterProps(e),[x]=tt.filterProps(e);return i(tt,W({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},x),{top:()=>{var T;return(T=a.top)==null?void 0:T.call(a,C.value)},default:()=>{var T,H,M,oe;return a.default?a.default(C.value):i(K,null,[(T=a.colgroup)==null?void 0:T.call(a,C.value),i("thead",{class:"v-data-table__thead",role:"rowgroup"},[i(Ze,W(Z,{sticky:e.fixedHeader}),a)]),(H=a.thead)==null?void 0:H.call(a,C.value),i("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(C.value):i(et,W($,{items:k.value}),a)]),(M=a.tbody)==null?void 0:M.call(a,C.value),(oe=a.tfoot)==null?void 0:oe.call(a,C.value)])},bottom:()=>a.bottom?a.bottom(C.value):i(Je,N,{prepend:a["footer.prepend"]})})})}}),Vr=q({__name:"LabEditorDataGridGridPropertyDetail",props:{modelValue:{type:Boolean},propertyDescriptor:{},propertyValue:{}},emits:["update:modelValue"],setup(e,{emit:l}){return(t,a)=>(_(),P(dt,{class:"data-grid-cell-detail"},{default:y(()=>[i(xa,{onClose:a[0]||(a[0]=n=>l("update:modelValue",!1))},{default:y(()=>{var n;return[V(j(((n=t.propertyDescriptor)==null?void 0:n.title)||"Unknown property"),1)]}),_:1}),i(it),i(qe,{class:"data-grid-cell-detail__body"},{default:y(()=>[i(bl,{"model-value":t.propertyValue.toString(),"read-only":""},null,8,["model-value"])]),_:1})]),_:1}))}});const Dr=le(Vr,[["__scopeId","data-v-0f15411b"]]),Cr={class:"data-grid-cell__body"},Ir={key:0,class:"text-disabled"},Tr={key:1,class:"text-disabled"},Er={key:2,class:"text-disabled"},Lr=q({__name:"LabEditorDataGridGridCell",props:{propertyDescriptor:{},dataLocale:{},propertyValue:{}},emits:["click"],setup(e,{emit:l}){const t=e,a=w(()=>o(t.propertyValue)),n=w(()=>{var s,r,u,d;return((s=t.propertyDescriptor)==null?void 0:s.type)===G.Entity&&((r=t.propertyDescriptor)==null?void 0:r.key.name)===Va.ParentPrimaryKey?!0:!!((d=(u=t.propertyDescriptor)==null?void 0:u.schema)!=null&&d.referencedEntityType)});function o(s){return s==null?"":s instanceof Array?s.length===0?"":`[${s.map(r=>o(r)).join(", ")}]`:s instanceof Object?JSON.stringify(s):s.toString()}return(s,r)=>{var u,d;return _(),z("td",{class:At({"data-grid-cell--clickable":a.value}),onClick:r[0]||(r[0]=c=>l("click"))},[Q("span",Cr,[(d=(u=s.propertyDescriptor)==null?void 0:u.schema)!=null&&d.localized&&!s.dataLocale?(_(),z("span",Ir,"<no locale selected>")):s.propertyValue instanceof Array&&s.propertyValue.length===0?(_(),z("span",Tr,"<empty array>")):s.propertyValue?(_(),z(K,{key:3},[n.value?(_(),P(Y,{key:0},{default:y(()=>[V("mdi-open-in-new")]),_:1})):re("",!0),V(" "+j(a.value),1)],64)):(_(),z("span",Er,"<null>"))])],2)}}});const xr=le(Lr,[["__scopeId","data-v-4c96949a"]]),Ar={class:"data-grid-column-header-content"},Br={class:"data-grid-column-header-content__title"},$r=q({__name:"LabEditorDataGridGridColumnHeader",props:{column:{},isSorted:{type:Function},getSortIcon:{type:Function},toggleSort:{type:Function}},setup(e){const l=e,t=w(()=>{var o,s;return(s=(o=l.column.descriptor)==null?void 0:o.schema)==null?void 0:s.sortable}),a=w(()=>l.isSorted(l.column)),n=w(()=>{var o,s;return(s=(o=l.column.descriptor)==null?void 0:o.schema)==null?void 0:s.localized});return(o,s)=>(_(),z("th",{onClick:s[0]||(s[0]=r=>o.toggleSort(o.column)),class:At(["data-grid-column-header",{"data-grid-column-header--sortable":t.value}])},[Q("div",Ar,[Q("div",Br,[Q("span",null,j(o.column.title),1),n.value?(_(),P(Y,{key:0},{default:y(()=>[V("mdi-translate")]),_:1})):re("",!0)]),a.value?(_(),P(Y,{key:0},{default:y(()=>[V(j(l.getSortIcon(l.column)),1)]),_:1})):t.value?(_(),P(Y,{key:1},{default:y(()=>[V("mdi-sort")]),_:1})):re("",!0)])],2))}});const Rr=le($r,[["__scopeId","data-v-16b2b7a7"]]),Or=q({__name:"LabEditorDataGridGrid",props:{gridProps:{},entityPropertyDescriptors:{},dataLocale:{},queryLanguage:{},displayedGridHeaders:{},loading:{type:Boolean},resultEntities:{},totalResultCount:{},pageNumber:{},pageSize:{}},emits:["gridUpdated"],setup(e,{emit:l}){const t=e,a=ke(),n=Da(),o=Ce(),s=[10,25,50,100,250,500,1e3].map(p=>({title:p.toString(10),value:p})),r=new Map;t.entityPropertyDescriptors.forEach(p=>r.set(p.key.toString(),p));const u=E(!1),d=E(),c=E("");function v(p){const h=r.get(p);return h==null&&o.error(new Rt(t.gridProps.params.dataPointer.connection,"Failed to find property descriptor for key: "+p)),h}function f(p,h){if(!h)return;const b=v(p);!h||h instanceof Array&&h.length===0||(b&&b.type===G.Entity&&b.key.name===Va.ParentPrimaryKey?a.createTabRequest(new Vt(t.gridProps.params.dataPointer.connection,t.gridProps.params.dataPointer.catalogName,t.gridProps.params.dataPointer.entityType,{dataLocale:t.dataLocale,queryLanguage:t.queryLanguage,pageNumber:t.pageNumber,pageSize:t.pageSize,filterBy:n.buildParentEntityFilterBy(t.queryLanguage,h)},!0)):b&&b.type===G.References?a.createTabRequest(new Vt(t.gridProps.params.dataPointer.connection,t.gridProps.params.dataPointer.catalogName,b.schema.referencedEntityType,{dataLocale:t.dataLocale,queryLanguage:t.queryLanguage,pageNumber:t.pageNumber,pageSize:t.pageSize,filterBy:n.buildReferencedEntityFilterBy(t.queryLanguage,h)},!0)):(d.value=b,c.value=h,u.value=!0))}function m(){u.value=!1,d.value=void 0,c.value=""}return(p,h)=>(_(),P(I(_l),{vertical:"",class:"data-grid__body"},{default:y(()=>[i(I(zt),{size:"70","min-size":"30"},{default:y(()=>[i(I(Pr),{headers:p.displayedGridHeaders,loading:p.loading,items:p.resultEntities,"items-length":p.totalResultCount,density:"compact","fixed-header":"","fixed-footer":"","multi-sort":"","items-per-page":p.pageSize,"items-per-page-Options":I(s),"onUpdate:options":h[0]||(h[0]=b=>l("gridUpdated",b))},{headers:y(({columns:b,isSorted:g,getSortIcon:S,toggleSort:A})=>[Q("tr",null,[(_(!0),z(K,null,fe(b,L=>(_(),P(Rr,{key:L.key,column:L,"is-sorted":g,"get-sort-icon":S,"toggle-sort":A},null,8,["column","is-sorted","get-sort-icon","toggle-sort"]))),128))])]),item:y(({item:b})=>[Q("tr",null,[(_(!0),z(K,null,fe(b.columns,(g,S)=>(_(),P(xr,{key:S,"property-descriptor":I(r).get(S),"data-locale":p.dataLocale,"property-value":g,onClick:A=>f(S,g)},null,8,["property-descriptor","data-locale","property-value","onClick"]))),128))])]),_:1},8,["headers","loading","items","items-length","items-per-page","items-per-page-Options"])]),_:1}),u.value?(_(),P(I(zt),{key:0,size:"30","min-size":"30"},{default:y(()=>[i(Dr,{"model-value":u.value,"property-descriptor":d.value,"property-value":c.value,"onUpdate:modelValue":m},null,8,["model-value","property-descriptor","property-value"])]),_:1})):re("",!0)]),_:1}))}});const Gr=le(Or,[["__scopeId","data-v-7a534d3e"]]),Ur={key:0,class:"data-grid"},Mr=q({__name:"LabEditorDataGrid",props:{params:{},data:{}},emits:["ready"],setup(e,{emit:l}){var ae,ne,ie,ge,C,N,Z;const t=e,a=Da(),n=Ce(),o=E([t.params.dataPointer.catalogName,t.params.dataPointer.entityType]);let s=[],r=[],u=new Map,d=[];const c=E((ae=t.data)!=null&&ae.queryLanguage?t.data.queryLanguage:We.EvitaQL);ee(c,($,x)=>{$[0]!==x[0]&&(p.value="",h.value="",O())});const v=E(!1),f=E((ne=t.data)!=null&&ne.pageNumber?t.data.pageNumber:1),m=E((ie=t.data)!=null&&ie.pageSize?t.data.pageSize:25),p=E((ge=t.data)!=null&&ge.filterBy?t.data.filterBy:""),h=E((C=t.data)!=null&&C.orderBy?t.data.orderBy:""),b=E((N=t.data)!=null&&N.dataLocale?t.data.dataLocale:void 0);ee(b,()=>O());const g=E((Z=t.data)!=null&&Z.displayedProperties?t.data.displayedProperties:[]);ee(g,($,x)=>{D(),$.length>x.length&&O()});const S=E([]),A=E([]),L=E(0),k=E(!1);l("ready"),ia(()=>{a.getDataLocales(t.params.dataPointer).then($=>(d=$,a.getEntityPropertyDescriptors(t.params.dataPointer))).then($=>(r=$,s=r.map(x=>x.key.toString()),R(r))).then($=>{u=$,B(),k.value=!0,l("ready"),t.params.executeOnOpen&&O()}).catch($=>{n.error($)})});async function R($){var T;const x=new Map;for(const H of $)x.set(H.key.toString(),{key:H.key.toString(),title:H.title,sortable:((T=H.schema)==null?void 0:T.sortable)||!1,descriptor:H});return x}async function D(){S.value=g.value.map($=>u.get($.toString())),S.value.sort(($,x)=>s.indexOf($.key.toString())-s.indexOf(x.key.toString()))}function B(){g.value.length>0||(g.value=r.filter($=>$.key.type===G.Entity).map($=>$.key))}async function U({page:$,itemsPerPage:x,sortBy:T}){f.value=$,m.value=x;try{h.value=await a.buildOrderByFromGridColumns(t.params.dataPointer,c.value,T)}catch(H){n.error(H)}await O()}async function O(){v.value=!0;try{const $=await a.executeQuery(t.params.dataPointer,c.value,p.value,h.value,b.value,g.value,f.value,m.value);A.value=$.entities.map(x=>{const T={};return x.forEach(([H,M])=>T[H.toString()]=M),T}),L.value=$.totalEntitiesCount}catch($){n.error($)}v.value=!1}return($,x)=>k.value?(_(),z("div",Ur,[i(qo,{path:o.value,loading:v.value,onExecuteQuery:O},{query:y(()=>[i(Mo,{"grid-props":t,"selected-query-language":c.value,"onUpdate:selectedQueryLanguage":x[0]||(x[0]=T=>c.value=T),"filter-by":p.value,"onUpdate:filterBy":x[1]||(x[1]=T=>p.value=T),"order-by":h.value,"onUpdate:orderBy":x[2]||(x[2]=T=>h.value=T),"data-locales":I(d),"selected-data-locale":b.value,"onUpdate:selectedDataLocale":x[3]||(x[3]=T=>b.value=T),"entity-property-descriptors":I(r),"selected-entity-property-keys":g.value,"onUpdate:selectedEntityPropertyKeys":x[4]||(x[4]=T=>g.value=T),onExecuteQuery:O},null,8,["grid-props","selected-query-language","filter-by","order-by","data-locales","selected-data-locale","entity-property-descriptors","selected-entity-property-keys"])]),_:1},8,["path","loading"]),i(Gr,{"grid-props":t,"entity-property-descriptors":I(r),"displayed-grid-headers":S.value,"data-locale":b.value,"query-language":c.value,loading:v.value,"result-entities":A.value,"total-result-count":L.value,"page-number":f.value,"page-size":m.value,onGridUpdated:U},null,8,["grid-props","entity-property-descriptors","displayed-grid-headers","data-locale","query-language","loading","result-entities","total-result-count","page-number","page-size"])])):re("",!0)}});const Fr=le(Mr,[["__scopeId","data-v-c6353724"]]);class Vt extends Sl{constructor(l,t,a,n=void 0,o=!1){super(`${t} - ${a} [${l.name}]`,"mdi-table",wl(Fr),{dataPointer:new kl(l,t,a),executeOnOpen:o},n)}}const qr=q({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(e){const l=e,t=E([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=ke(),n=ye("connection"),o=ye("catalogSchema");function s(){a.createTabRequest(new Vt(n,o.value.name,l.entitySchema.name))}function r(u){switch(u){case"view-entities":s();break;case"view-schema":a.createTabRequest(new Re(n,new Sa(o.value.name,l.entitySchema.name)));break}}return(u,d)=>(_(),P(Xe,{"prepend-icon":"mdi-list-box",actions:t.value,onClick:s,"onClick:action":r},{default:y(()=>[V(j(u.entitySchema.name),1)]),_:1},8,["actions"]))}}),Nr={},Hr=Q("span",{class:"pl-8 text-disabled"}," No items found ",-1);function zr(e,l){return _(),P(he,null,{default:y(()=>[Hr]),_:1})}const un=le(Nr,[["render",zr]]),Kr={key:0},Qr=q({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(e){const l=e,t=E([{value:"open-evitaql-console",title:"Open EvitaQL console",props:{prependIcon:"mdi-console"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),a=De(),n=ke(),o=Ce(),s=ye("connection"),r=E();_e("catalogSchema",r);const u=E(!1);async function d(){if(!(r.value!==void 0||l.catalog.corrupted)){u.value=!0;try{r.value=await a.getCatalogSchema(s,l.catalog.name)}catch(v){o.error(v)}u.value=!1}}function c(v){switch(v){case"open-evitaql-console":n.createTabRequest(new Vl(s,l.catalog.name));break;case"open-graphql-data-api-console":n.createTabRequest(new kt(s,l.catalog.name,Pt.DATA));break;case"open-graphql-schema-api-console":n.createTabRequest(new kt(s,l.catalog.name,Pt.SCHEMA));break;case"view-schema":n.createTabRequest(new Re(s,new Pl(l.catalog.name)));break}}return(v,f)=>(_(),P($t,{value:`${I(s).name}|${v.catalog.name}`},{activator:y(({isOpen:m,props:p})=>[v.catalog.corrupted?(_(),P(Xe,W({key:1},p,{"prepend-icon":"mdi-book-open",class:"text-red"}),{default:y(()=>[V(j(v.catalog.name)+" ",1),i(we,{activator:"parent"},{default:y(()=>[V(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(_(),P(Xe,W({key:0},p,{openable:"","is-open":m,"prepend-icon":"mdi-book-open",loading:u.value,actions:t.value,onClick:d,"onClick:action":c}),{default:y(()=>[V(j(v.catalog.name),1)]),_:2},1040,["is-open","loading","actions"]))]),default:y(()=>[!v.catalog.corrupted&&r.value!==void 0?(_(),z("div",Kr,[Object.values(r.value.entitySchemas).length>0?(_(!0),z(K,{key:0},fe(Object.values(r.value.entitySchemas),m=>(_(),P(qr,{key:m.name,"entity-schema":m},null,8,["entity-schema"]))),128)):(_(),P(un,{key:1}))])):re("",!0)]),_:1},8,["value"]))}}),cn=st("flex-grow-1","div","VSpacer"),Wr=q({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=De(),n=Ce();function o(){l("update:modelValue",!1)}function s(){try{a.removeConnection(t.connection.id)}catch(r){n.error(r);return}n.success("Connection removed."),l("update:modelValue",!1)}return(r,u)=>(_(),P(Ut,{"model-value":r.modelValue,"max-width":"30rem","onUpdate:modelValue":u[0]||(u[0]=d=>r.$emit("update:modelValue",d))},{activator:y(({props:d})=>[$e(r.$slots,"activator",ot(rt(d)))]),default:y(()=>[i(dt,null,{default:y(()=>[i(Ge,null,{default:y(()=>[V("Remove connection")]),_:1}),i(qe,null,{default:y(()=>[V(" Are you sure you want to remove the connection "),Q("strong",null,j(r.connection.name),1),V("? ")]),_:1}),i(Gt,null,{default:y(()=>[i(cn),i(X,{onClick:o},{default:y(()=>[V(" Cancel ")]),_:1}),i(X,{"prepend-icon":"mdi-delete",onClick:s},{default:y(()=>[V(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),jr={key:0},Yr=q({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(e){const l=e,t=ke(),a=De(),n=Ce();_e("connection",Dl(l.connection));const o=E([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!a.isReadOnly()&&!l.connection.preconfigured&&o.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const s=E(!1),r=E(),u=E(!1);async function d(){if(r.value===void 0){u.value=!0;try{r.value=await a.getCatalogs(l.connection)}catch(v){n.error(v)}u.value=!1}}function c(v,f){switch(v){case"open-graphql-system-api-console":t.createTabRequest(new kt(l.connection,"system",Pt.SYSTEM));break;case"edit":throw new Rt(void 0,"Not implemented yet.");case"remove":s.value=!0;break}}return(v,f)=>(_(),P($t,{value:v.connection.name},{activator:y(({isOpen:m,props:p})=>[i(Xe,W(p,{openable:"","is-open":m,"prepend-icon":"mdi-server",loading:u.value,actions:o.value,onClick:d,"onClick:action":c}),{default:y(()=>[V(j(v.connection.name),1)]),_:2},1040,["is-open","loading","actions"])]),default:y(()=>[r.value!==void 0?(_(),z("div",jr,[r.value.length>0?(_(!0),z(K,{key:0},fe(r.value,m=>(_(),P(Qr,{key:m.name,catalog:m},null,8,["catalog"]))),128)):(_(),P(un,{key:1}))])):re("",!0),i(Wr,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),connection:v.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),Xr=F({...be(),...Cl()},"VForm"),Jr=te()({name:"VForm",props:Xr(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:a}=l;const n=Il(e),o=E();function s(u){u.preventDefault(),n.reset()}function r(u){const d=u,c=n.validate();d.then=c.then.bind(c),d.catch=c.catch.bind(c),d.finally=c.finally.bind(c),a("submit",d),d.defaultPrevented||c.then(v=>{var m;let{valid:f}=v;f&&((m=o.value)==null||m.submit())}),d.preventDefault()}return se(()=>{var u;return i("form",{ref:o,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:s,onSubmit:r},[(u=t.default)==null?void 0:u.call(t,n)])}),lt(n,o)}}),Zr=q({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,a=De(),n=Ce(),o=[g=>g?!0:"Name of connection is required.",g=>a.isConnectionExists(g)?"Connection with this name already exists.":!0],s=[g=>g?!0:"evitaLab API URL is required.",g=>{try{return new URL(g),!0}catch{return"evitaLab API URL is not a valid URL."}},async g=>await f()?(c.value.labApiUrlTested=1,!0):(c.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],r=[g=>g?!0:"GraphQL API URL is required.",g=>{try{return new URL(g),!0}catch{return"GraphQL API URL is not a valid URL."}},async g=>await m()?(c.value.gqlUrlTested=1,!0):(c.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],u=E(null),d=w(()=>t.connection?1:0),c=E({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function v(g){switch(g){case 0:return null;case 1:return"mdi-check-circle";case 2:return"mdi-close-circle"}}async function f(){try{return(await Kt.get(c.value.labApiUrl+"/system/liveness").json()).alive||!1}catch{return!1}}async function m(){var g;try{const S=await Kt.post(c.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((g=S==null?void 0:S.data)==null?void 0:g.liveness)||!1}catch{return!1}}async function p(){let g=!0;return await f()?c.value.labApiUrlTested=1:(g=!1,c.value.labApiUrlTested=2),await m()?c.value.gqlUrlTested=1:(g=!1,c.value.gqlUrlTested=2),g?n.success("Successfully connected."):n.error("Connection test failed."),g}function h(){u.value.reset(),c.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},l("update:modelValue",!1)}async function b(){const{valid:g}=await u.value.validate();if(g){try{a.addConnection(new Tl(void 0,c.value.name,!1,c.value.labApiUrl,"https://localhost:5555/rest",c.value.gqlUrl))}catch(S){n.error(S);return}u.value.reset(),l("update:modelValue",!1)}}return(g,S)=>(_(),P(Ut,{"model-value":g.modelValue,"onUpdate:modelValue":S[3]||(S[3]=A=>g.$emit("update:modelValue",A)),persistent:"","max-width":"30rem"},{activator:y(({props:A})=>[$e(g.$slots,"activator",ot(rt(A)))]),default:y(()=>[i(dt,null,{default:y(()=>[d.value===0?(_(),P(Ge,{key:0},{default:y(()=>[V("Add connection")]),_:1})):re("",!0),d.value===1?(_(),P(Ge,{key:1},{default:y(()=>[V("Edit connection")]),_:1})):re("",!0),i(qe,null,{default:y(()=>[i(Jr,{ref_key:"form",ref:u,"validate-on":"submit"},{default:y(()=>[i(Ae,{modelValue:c.value.name,"onUpdate:modelValue":S[0]||(S[0]=A=>c.value.name=A),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:o,required:""},null,8,["modelValue"]),i(Ae,{modelValue:c.value.labApiUrl,"onUpdate:modelValue":S[1]||(S[1]=A=>c.value.labApiUrl=A),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:s,"append-inner-icon":v(c.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),i(Ae,{modelValue:c.value.gqlUrl,"onUpdate:modelValue":S[2]||(S[2]=A=>c.value.gqlUrl=A),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:r,"append-inner-icon":v(c.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),i(Gt,null,{default:y(()=>[i(X,{"prepend-icon":"mdi-connection",onClick:p},{default:y(()=>[V(" Test connection ")]),_:1}),i(cn),i(X,{onClick:h},{default:y(()=>[V(" Cancel ")]),_:1}),i(X,{"prepend-icon":"mdi-content-save",onClick:b},{default:y(()=>[V(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),es={key:0,class:"pa-2"},ts=q({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const t=De(),a=E(!1),n=w(()=>t.getConnections());return(o,s)=>(_(),P(Ea,{permanent:"","model-value":o.modelValue,"onUpdate:modelValue":s[2]||(s[2]=r=>o.$emit("update:modelValue",r))},{append:y(()=>[I(t).isReadOnly()?re("",!0):(_(),z("div",es,[i(Zr,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=r=>a.value=r)},{activator:y(({props:r})=>[i(X,W({"prepend-icon":"mdi-plus",block:"",variant:"tonal"},r,{onClick:s[0]||(s[0]=u=>a.value=!0)}),{default:y(()=>[V(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:y(()=>[i(Ve,{density:"compact",nav:""},{default:y(()=>[i(El,null,{default:y(()=>[V("Connections Explorer")]),_:1}),(_(!0),z(K,null,fe(n.value,r=>(_(),P(Yr,{key:r.name,connection:r},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),as=e=>(Lt("data-v-60d2bd0a"),e=e(),xt(),e),ns={class:"loading-screen"},ls={class:"loading-screen-info"},os=as(()=>Q("span",null,"Loading, please wait ...",-1)),rs=q({__name:"LabEditorLoadingScreen",setup(e){return(l,t)=>(_(),z("div",ns,[Q("div",ls,[i(La,{size:48}),os])]))}});const ss=le(rs,[["__scopeId","data-v-60d2bd0a"]]),is=q({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},setup(e){const l=E(!1);return(t,a)=>(_(),z(K,null,[(_(),P(Al,null,[ha((_(),P(xl(t.component),W(t.componentProps,{onReady:a[0]||(a[0]=n=>l.value=!0)}),null,16)),[[Ll,l.value]])],1024)),l.value?re("",!0):(_(),P(ss,{key:0}))],64))}});function us(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const dn=e=>(Lt("data-v-054f9d76"),e=e(),xt(),e),cs={class:"editor-welcome-screen"},ds={class:"editor-welcome-screen-hero"},ps={class:"editor-welcome-screen-hero__header"},vs=dn(()=>Q("h1",{class:"text-h2"},"evitaLab",-1)),ms={class:"text-caption"},fs=dn(()=>Q("p",{class:"text-subtitle-1 mt-2"},"evitaDB web client",-1)),gs={class:"editor-welcome-screen-hero__links"},ys=q({__name:"LabEditorWelcomeScreen",setup(e){const l="v0.2.0";function t(){window.open("https://evitadb.io/documentation","_blank")}function a(){window.open("https://github.com/lukashornych/evitalab/","_blank")}function n(){window.open("https://discord.gg/VsNBWxgmSw","_blank")}function o(){window.open("https://github.com/lukashornych/evitalab/issues","_blank")}return(s,r)=>(_(),z("div",cs,[Q("div",ds,[Q("header",ps,[vs,Q("span",ms,"alpha "+j(I(l)),1),fs]),Q("div",gs,[i(X,{"prepend-icon":"mdi-book",onClick:t},{default:y(()=>[V(" Check out the evitaDB documentation ")]),_:1}),i(X,{"prepend-icon":"mdi-github",onClick:a},{default:y(()=>[V(" Give us a ⭐ on GitHub ")]),_:1}),i(X,{"prepend-icon":"mdi-comment-quote",onClick:n},{default:y(()=>[V(" Reach out to us on Discord ")]),_:1}),i(X,{"prepend-icon":"mdi-bug",onClick:o},{default:y(()=>[V(" Submit an issue ")]),_:1})])])]))}});const hs=le(ys,[["__scopeId","data-v-054f9d76"]]);const bs=F({scrollable:Boolean,...be(),...Me({tag:"main"})},"VMain"),_s=te()({name:"VMain",props:bs(),setup(e,l){let{slots:t}=l;const{mainStyles:a}=Ml(),{ssrBootStyles:n}=Ct();return se(()=>i(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,n.value,e.style]},{default:()=>{var o,s;return[e.scrollable?i("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(s=t.default)==null?void 0:s.call(t)]}})),{}}}),Ss={key:1,style:{position:"relative"}},ws=q({__name:"LabEditor",setup(e){const l=Bl(),t=Ce(),a=ke(),n=$l(),o=w(()=>a.getTabRequests());ee(o,()=>{const d=a.getNewTabRequest();d&&(s.value=d.id,a.markTabRequestAsVisited(d.id))},{deep:!0});const s=E();function r(d){const c=o.value.length,v=o.value.findIndex(m=>m.id===s.value),f=o.value.findIndex(m=>m.id===d);a.destroyTabRequest(d),o.value.length===0?s.value=null:f===v&&f===c-1?s.value=o.value[f-1].id:f===v&&f<c-1&&(s.value=o.value[f].id)}async function u(){const d=l.query.demoSnippetRequest;if(d!=null)try{const c=JSON.parse(atob(d));return await n.resolve(c)}catch(c){t.error(c)}}return u().then(d=>{d&&a.createTabRequest(d)}),(d,c)=>(_(),z(K,null,[o.value.length>0?(_(),P(zl,{key:0,density:"compact",elevation:"0"},{default:y(()=>[i(Ol,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=v=>s.value=v)},{default:y(()=>[(_(!0),z(K,null,fe(o.value,v=>(_(),P(Rl,{key:v.id,value:v.id,"prepend-icon":v.icon,onMousedown:Ie(f=>r(v.id),["middle"])},{default:y(()=>[Q("span",null,[V(j(I(us)(v.title,30))+" ",1),v.title.length>30?(_(),P(we,{key:0,activator:"parent"},{default:y(()=>[V(j(v.title),1)]),_:2},1024)):re("",!0)]),i(X,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ie(f=>r(v.id),["stop"])},{default:y(()=>[i(Y,null,{default:y(()=>[V("mdi-close")]),_:1}),i(we,{activator:"parent"},{default:y(()=>[V(" Close tab ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):re("",!0),i(_s,{scrollable:!1,class:"lab-editor"},{default:y(()=>[o.value.length>0?(_(),P(Ul,{key:0,modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=v=>s.value=v)},{default:y(()=>[(_(!0),z(K,null,fe(o.value,v=>(_(),P(Gl,{key:v.id,value:v.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:y(()=>[i(is,{component:v.component,"component-props":v.componentProps()},null,8,["component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(_(),z("div",Ss,[i(hs)]))]),_:1})],64))}});const ks=le(ws,[["__scopeId","data-v-2bc646d5"]]),Ds=q({__name:"Lab",setup(e){const l=E(Se.Explorer);return(t,a)=>(_(),z(K,null,[i(lo,{panel:l.value,"onUpdate:panel":a[0]||(a[0]=n=>l.value=n)},null,8,["panel"]),i(ts,{"model-value":l.value===I(Se).Explorer},null,8,["model-value"]),i(ks)],64))}});export{Ds as default};
